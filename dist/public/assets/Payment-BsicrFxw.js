import{r as l,j as e}from"./ui-vendor-C96WIwkg.js";import{C as i,I as n,B as y,k as C}from"./index-Bkz6h1fQ.js";import{C as w}from"./circle-check-DlUG-57U.js";import{C as k}from"./circle-alert-BSV6M1IC.js";import"./react-vendor-DDxydHEc.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";function A({planName:d,price:m,currency:x="SAR",onSuccess:o}){const[s,h]=l.useState(!1),[j,p]=l.useState(!1),[u,b]=l.useState(null),[t,f]=l.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:""}),a=c=>{const{name:r,value:g}=c.target;f(v=>({...v,[r]:g}))},N=async c=>{c.preventDefault(),h(!0),b(null);try{await new Promise(r=>setTimeout(r,2e3)),console.log("[Payment] Simulated payment for:",{planName:d,price:m}),p(!0),o&&setTimeout(()=>{o()},2e3)}catch{b("حدث خطأ أثناء معالجة الدفع. يرجى المحاولة مرة أخرى.")}finally{h(!1)}};return j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(i,{className:"w-full max-w-md p-8 text-center",children:[e.jsx(w,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"تم الدفع بنجاح!"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:["شكراً لاختيارك ",d,". سيتم تفعيل حسابك قريباً."]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"سيتم إعادة توجيهك إلى لوحة التحكم..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs(i,{className:"mb-6 p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"ملخص الطلب"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"الباقة:"}),e.jsx("span",{className:"font-semibold",children:d})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"الإجمالي:"}),e.jsxs("span",{className:"text-primary",children:[m," ",x]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"* هذه نسخة تجريبية. لا يتم خصم أي مبالغ فعلية."})]}),e.jsxs(i,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"بيانات الدفع"}),u&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:u})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"اسم المالك"}),e.jsx(n,{type:"text",name:"cardName",placeholder:"أحمد محمد",value:t.cardName,onChange:a,required:!0,disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"رقم البطاقة"}),e.jsx(n,{type:"text",name:"cardNumber",placeholder:"1234 5678 9012 3456",value:t.cardNumber,onChange:a,maxLength:19,required:!0,disabled:s})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"انتهاء الصلاحية"}),e.jsx(n,{type:"text",name:"expiryDate",placeholder:"MM/YY",value:t.expiryDate,onChange:a,maxLength:5,required:!0,disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CVV"}),e.jsx(n,{type:"text",name:"cvv",placeholder:"123",value:t.cvv,onChange:a,maxLength:4,required:!0,disabled:s})]})]}),e.jsx(y,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري المعالجة..."]}):`ادفع الآن ${m} ${x}`}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"✓ معاملتك آمنة وموثوقة"})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[e.jsx("p",{children:"هل لديك أسئلة؟"}),e.jsx("a",{href:"/contact",className:"text-primary hover:underline",children:"تواصل معنا"})]})]})})}export{A as default};
