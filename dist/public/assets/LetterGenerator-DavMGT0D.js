import{r as m,j as e}from"./ui-vendor-C96WIwkg.js";import{h as be,u as ve,m as ye,t as k,b as r,F as P,L as Ne,B as p,S as z,C as g,c as b,d as v,e as w,f as j,o as we,T as Le,j as Ce,I as L,k as ee}from"./index-Bkz6h1fQ.js";import{L as c}from"./label-CmhXhWbA.js";import{T as te}from"./textarea-CDZ7LSXO.js";import{S as B,a as E,b as A,c as M,d as x}from"./select-B0y6YODy.js";import{B as R}from"./badge-DdDRUR73.js";import{C as _e}from"./chevron-left-DGiWmXbj.js";import{B as Se}from"./building-2-Dknnor09.js";import{A as Ie}from"./award-B644BQ3e.js";import{B as Te}from"./briefcase-B7DqEMtf.js";import{W as se}from"./wand-sparkles-Cg7JuEBy.js";import{E as ie}from"./eye-D29FSyEF.js";import{C as ae}from"./copy-DQbqR9uy.js";import{D as ke}from"./download-BYvKutrd.js";import{H as De}from"./history-DEXHj0e2.js";import{R as He}from"./refresh-cw-X5VGk4GL.js";import{T as $e}from"./trash-2-Dqtod12U.js";import"./react-vendor-DDxydHEc.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),le=10,Pe=s=>{if(!s)return"—";try{return(typeof s=="string"?new Date(s):s).toLocaleString("ar-SA",{dateStyle:"medium",timeStyle:"short"})}catch{return"—"}},ze=s=>s?s==="ar"?"العربية":s==="en"?"الإنجليزية":s==="both"?"ثنائي":s:"",Be=s=>{if(!s)return{};const n=s,a=n.selection&&typeof n.selection=="object"?n.selection:void 0,h=a&&typeof a.category=="string"?a.category:void 0,f=a&&typeof a.letterId=="string"?a.letterId:void 0;return{formData:typeof n.formData=="object"?n.formData:void 0,customPrompt:typeof n.customPrompt=="string"?n.customPrompt:void 0,selection:a?{category:h,letterId:f}:void 0}},C={employment:{icon:Te,label:"خطابات التوظيف",color:"bg-blue-500",letters:[{id:"job_offer",label:"عرض توظيف",description:"خطاب عرض وظيفة لمرشح"},{id:"job_rejection",label:"رفض طلب توظيف",description:"إشعار برفض طلب التوظيف"},{id:"interview_invitation",label:"دعوة لمقابلة",description:"دعوة مرشح لإجراء مقابلة"},{id:"interview_cancellation",label:"إلغاء مقابلة",description:"إشعار بإلغاء موعد المقابلة"},{id:"appointment_letter",label:"خطاب تعيين",description:"خطاب رسمي بتعيين موظف جديد"},{id:"probation_completion",label:"إنهاء فترة تجريبية",description:"إشعار بإنهاء الفترة التجريبية بنجاح"},{id:"contract_renewal",label:"تجديد عقد",description:"خطاب تجديد عقد العمل"},{id:"contract_extension",label:"تمديد عقد",description:"خطاب تمديد مدة العقد"}]},internal:{icon:Ce,label:"خطابات داخلية",color:"bg-green-500",letters:[{id:"promotion",label:"ترقية موظف",description:"إشعار بترقية الموظف"},{id:"transfer",label:"نقل موظف",description:"خطاب نقل موظف لقسم آخر"},{id:"assignment",label:"تكليف بمهام",description:"تكليف موظف بمهام إضافية"},{id:"salary_increase",label:"زيادة راتب",description:"إشعار بزيادة الراتب"},{id:"allowance",label:"بدل إضافي",description:"خطاب منح بدل إضافي"},{id:"deduction",label:"خصم من الراتب",description:"إشعار بخصم من الراتب"},{id:"training",label:"تكليف بدورة تدريبية",description:"إشعار بالتسجيل في دورة تدريبية"},{id:"meeting_notice",label:"إشعار اجتماع",description:"دعوة لحضور اجتماع"},{id:"policy_update",label:"تحديث سياسة",description:"إشعار بتحديث سياسات الشركة"},{id:"performance_review",label:"تقييم أداء",description:"خطاب تقييم الأداء السنوي"},{id:"job_title_change",label:"تغيير مسمى وظيفي",description:"إشعار بتغيير المسمى الوظيفي"},{id:"department_change",label:"تحويل قسم",description:"خطاب تحويل لقسم آخر"}]},disciplinary:{icon:Le,label:"إجراءات تأديبية",color:"bg-red-500",letters:[{id:"warning_first",label:"إنذار أول",description:"إنذار كتابي أول للموظف"},{id:"warning_second",label:"إنذار ثاني",description:"إنذار كتابي ثاني للموظف"},{id:"warning_final",label:"إنذار نهائي",description:"إنذار نهائي قبل الفصل"},{id:"penalty",label:"جزاء",description:"خطاب جزاء على مخالفة"},{id:"suspension",label:"إيقاف عن العمل",description:"إشعار بالإيقاف المؤقت"}]},certificates:{icon:Ie,label:"شهادات وإفادات",color:"bg-purple-500",letters:[{id:"experience_certificate",label:"شهادة خبرة",description:"شهادة خبرة للموظف"},{id:"salary_certificate",label:"شهادة راتب",description:"شهادة راتب للبنك"},{id:"work_certificate",label:"شهادة عمل",description:"شهادة عمل للسفارة"},{id:"to_whom_it_may_concern",label:"لمن يهمه الأمر",description:"إفادة عامة"},{id:"employee_introduction",label:"تعريف بالموظف",description:"خطاب تعريف بموظف"},{id:"income_proof",label:"إثبات دخل",description:"إثبات دخل شهري"},{id:"no_objection",label:"عدم ممانعة",description:"خطاب عدم ممانعة"},{id:"recommendation",label:"توصية",description:"خطاب توصية للموظف"},{id:"clearance_internal",label:"إخلاء طرف داخلي",description:"إخلاء طرف من الأقسام"},{id:"appreciation",label:"شكر وتقدير",description:"خطاب شكر وتقدير"}]},external:{icon:Se,label:"خطابات خارجية",color:"bg-orange-500",letters:[{id:"bank_account",label:"فتح حساب بنكي",description:"خطاب للبنك لفتح حساب"},{id:"bank_loan",label:"طلب قرض",description:"خطاب للبنك لطلب قرض"},{id:"gosi",label:"التأمينات الاجتماعية",description:"خطاب للتأمينات"},{id:"labor_office",label:"مكتب العمل",description:"خطاب لمكتب العمل"},{id:"embassy",label:"السفارة",description:"خطاب للسفارة"},{id:"authorization",label:"تفويض",description:"خطاب تفويض رسمي"},{id:"guarantee",label:"خطاب ضمان",description:"خطاب ضمان بنكي"},{id:"inquiry_response",label:"رد على استفسار",description:"رد على استفسار خارجي"}]},leave:{icon:we,label:"إجازات وغياب",color:"bg-cyan-500",letters:[{id:"leave_approval",label:"موافقة على إجازة",description:"خطاب موافقة على طلب إجازة"},{id:"leave_rejection",label:"رفض إجازة",description:"خطاب رفض طلب إجازة"},{id:"leave_return",label:"عودة من إجازة",description:"إشعار بالعودة من الإجازة"},{id:"absence_warning",label:"إنذار غياب",description:"إنذار بسبب الغياب"},{id:"sick_leave_request",label:"طلب إجازة مرضية",description:"طلب إجازة مرضية بتقرير طبي"},{id:"unpaid_leave",label:"إجازة بدون راتب",description:"موافقة على إجازة بدون راتب"}]},termination:{icon:Fe,label:"إنهاء الخدمة",color:"bg-gray-500",letters:[{id:"resignation_acceptance",label:"قبول استقالة",description:"خطاب قبول استقالة موظف"},{id:"termination",label:"إنهاء خدمة",description:"خطاب إنهاء خدمة موظف"},{id:"dismissal",label:"فصل",description:"خطاب فصل من العمل"},{id:"contract_end",label:"انتهاء عقد",description:"إشعار بانتهاء العقد"},{id:"final_clearance",label:"إخلاء طرف نهائي",description:"إخلاء طرف نهائي"},{id:"final_settlement",label:"تسوية نهائية",description:"خطاب التسوية النهائية"}]}},Ee={formal:"رسمي","semi-formal":"شبه رسمي",friendly:"ودي"},Ae=s=>{if(s)for(const n of Object.values(C)){const a=n.letters.find(h=>h.id===s);if(a)return a}},Me=s=>s?Ae(s)?.label??"خطاب":"خطاب مخصص",Re=s=>s?C[s]?.label??s:"مخصص";function ot(){const{t:s,i18n:n}=ve();n.language;const{isAuthenticated:a}=ye(),h=k.useUtils(),f={limit:le},[o,_]=m.useState("employment"),[d,y]=m.useState(""),[i,u]=m.useState({employeeName:"",employeeId:"",position:"",department:"",date:new Date().toISOString().split("T")[0],additionalInfo:""}),[S,G]=m.useState(""),[I,O]=m.useState(""),[T,X]=m.useState(!1),[D,H]=m.useState("ar"),[U,V]=m.useState("formal"),[q,Q]=m.useState(null),{data:re,isLoading:W,isFetching:ne}=k.letters.getHistory.useQuery(f,{enabled:a}),oe=k.letters.saveLetter.useMutation({onSuccess:()=>{r.success("تم حفظ الخطاب في السجل"),h.letters.getHistory.invalidate(f)},onError:()=>{r.error("تعذر حفظ الخطاب في السجل")}}),$=k.letters.deleteLetter.useMutation({onSuccess:()=>{r.success("تم حذف الخطاب من السجل")},onError:()=>{r.error("تعذر حذف الخطاب")},onSettled:()=>{h.letters.getHistory.invalidate(f),Q(null)}}),Y=re?.letters??[],ce=W&&a,J=ne&&!W,K=async()=>{if(!d&&!S){r.error("يرجى اختيار نوع الخطاب أو كتابة طلب مخصص");return}X(!0),r.info("جاري إنشاء الخطاب...");try{await new Promise(l=>setTimeout(l,2e3));const t=`
بسم الله الرحمن الرحيم

التاريخ: ${new Date(i.date).toLocaleDateString("ar-SA")}
الرقم: ${i.employeeId||"XXX/2025"}

السيد/ة: ${i.employeeName||"[اسم الموظف]"}
المسمى الوظيفي: ${i.position||"[المسمى الوظيفي]"}
القسم: ${i.department||"[القسم]"}

السلام عليكم ورحمة الله وبركاته،

الموضوع: ${Z()}

نود إفادتكم بأنه تم ${de()} وذلك اعتباراً من تاريخه.

${i.additionalInfo?`
${i.additionalInfo}
`:""}

نتمنى لكم التوفيق والنجاح.

وتفضلوا بقبول فائق الاحترام والتقدير.


إدارة الموارد البشرية
[اسم الشركة]
[ختم الشركة]
      `.trim();O(t),he(t),r.success("تم إنشاء الخطاب بنجاح")}catch(t){console.error("Generation Error:",t),r.error("حدث خطأ في إنشاء الخطاب")}finally{X(!1)}},Z=()=>{if(!d)return"خطاب مخصص";for(const t of Object.values(C)){const l=t.letters.find(N=>N.id===d);if(l)return l.label}return"خطاب"},de=()=>"اتخاذ الإجراء المطلوب",me=()=>{if(!I){r.info("لا يوجد خطاب لنسخه بعد");return}navigator.clipboard.writeText(I),r.success("تم نسخ الخطاب")},pe=()=>{r.info("ميزة التصدير قيد التطوير")},F=()=>C[o],xe=F()?.icon||P,he=t=>{if(!a){r.info("سجل الدخول لحفظ الخطابات في السجل");return}oe.mutate({letterType:d||"custom",title:Z(),category:o,language:D,style:U,content:t,metadata:{formData:i,customPrompt:S,selection:{category:o,letterId:d}}})},ue=t=>{O(t.content),t.language&&H(t.language),t.style&&V(t.style);const l=Be(t.metadata??void 0);l.selection?.category?_(l.selection.category):t.category&&_(t.category),l.selection?.letterId?y(l.selection.letterId):t.letterType&&y(t.letterType),l.formData&&u(N=>({...N,...l.formData})),l.customPrompt&&G(l.customPrompt),r.success("تم تحميل الخطاب من السجل")},ge=t=>{navigator.clipboard.writeText(t),r.success("تم نسخ الخطاب من السجل")},je=t=>{if(!a){r.info("سجل الدخول لإدارة سجل الخطابات");return}Q(t),$.mutate({letterId:t})},fe=()=>{a&&h.letters.getHistory.invalidate(f)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"container max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(Ne,{href:"/",children:e.jsx(p,{variant:"ghost",size:"icon",children:e.jsx(_e,{className:"h-5 w-5"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(P,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"مولد الخطابات"}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-purple-500"}),"أكثر من 55 نوع خطاب جاهز - مدعوم بالذكاء الاصطناعي"]})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs(g,{children:[e.jsxs(b,{children:[e.jsx(v,{className:"text-lg",children:"الفئات"}),e.jsx(w,{children:"اختر فئة الخطاب"})]}),e.jsxs(j,{className:"space-y-2",children:[Object.entries(C).map(([t,l])=>{const N=l.icon;return e.jsxs("button",{onClick:()=>{_(t),y("")},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-all ${o===t?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-muted hover:bg-muted/80"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${o===t?"bg-white/20":l.color} text-white`,children:e.jsx(N,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("div",{className:"font-semibold text-sm",children:l.label}),e.jsxs("div",{className:`text-xs ${o===t?"text-white/80":"text-muted-foreground"}`,children:[l.letters.length," خطاب"]})]})]},t)}),e.jsxs("button",{onClick:()=>{_("custom"),y("")},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-all ${o==="custom"?"bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-lg":"bg-gradient-to-r from-purple-100 to-pink-100 hover:from-purple-200 hover:to-pink-200"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${o==="custom"?"bg-white/20":"bg-purple-500"} text-white`,children:e.jsx(se,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("div",{className:"font-semibold text-sm",children:"مولد مخصص بالذكاء الاصطناعي"}),e.jsx("div",{className:`text-xs ${o==="custom"?"text-white/80":"text-purple-700"}`,children:"اكتب طلبك بحرية"})]})]})]})]}),o!=="custom"&&e.jsxs(g,{className:"max-h-[600px] overflow-y-auto",children:[e.jsxs(b,{children:[e.jsxs(v,{className:"text-lg flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),F()?.label]}),e.jsx(w,{children:"اختر نوع الخطاب"})]}),e.jsx(j,{className:"space-y-2",children:F()?.letters.map(t=>e.jsxs("button",{onClick:()=>y(t.id),className:`w-full text-right p-3 rounded-lg transition-all ${d===t.id?"bg-blue-500 text-white shadow-md":"bg-muted hover:bg-muted/80"}`,children:[e.jsx("div",{className:"font-semibold text-sm",children:t.label}),e.jsx("div",{className:`text-xs ${d===t.id?"text-white/80":"text-muted-foreground"}`,children:t.description})]},t.id))})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o==="custom"?e.jsxs(g,{children:[e.jsxs(b,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-purple-500"}),"مولد مخصص بالذكاء الاصطناعي"]}),e.jsx(w,{children:"اكتب طلبك بحرية وسيقوم الذكاء الاصطناعي بصياغة الخطاب"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"custom-prompt",children:"اكتب طلبك"}),e.jsx(te,{id:"custom-prompt",placeholder:"مثال: اكتب خطاب شكر لموظف متميز حصل على جائزة أفضل موظف للشهر...",value:S,onChange:t=>G(t.target.value),rows:6,className:"resize-none"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"اللغة"}),e.jsxs(B,{value:D,onValueChange:H,children:[e.jsx(E,{children:e.jsx(A,{})}),e.jsxs(M,{children:[e.jsx(x,{value:"ar",children:"العربية"}),e.jsx(x,{value:"en",children:"الإنجليزية"}),e.jsx(x,{value:"both",children:"ثنائي اللغة"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"الأسلوب"}),e.jsxs(B,{value:U,onValueChange:V,children:[e.jsx(E,{children:e.jsx(A,{})}),e.jsxs(M,{children:[e.jsx(x,{value:"formal",children:"رسمي"}),e.jsx(x,{value:"semi-formal",children:"شبه رسمي"}),e.jsx(x,{value:"friendly",children:"ودي"})]})]})]})]}),e.jsxs(p,{onClick:K,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700",disabled:!S.trim()||T,children:[e.jsx(z,{className:"h-4 w-4 ml-2"}),T?"جاري الإنشاء...":"إنشاء الخطاب بالذكاء الاصطناعي"]})]})]}):e.jsx(e.Fragment,{children:d&&e.jsxs(g,{children:[e.jsxs(b,{children:[e.jsx(v,{children:"معلومات الخطاب"}),e.jsx(w,{children:"أدخل البيانات المطلوبة لإنشاء الخطاب"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"employee-name",children:"اسم الموظف *"}),e.jsx(L,{id:"employee-name",placeholder:"مثال: أحمد محمد",value:i.employeeName,onChange:t=>u({...i,employeeName:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"employee-id",children:"رقم الموظف"}),e.jsx(L,{id:"employee-id",placeholder:"مثال: 12345",value:i.employeeId,onChange:t=>u({...i,employeeId:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"position",children:"المسمى الوظيفي *"}),e.jsx(L,{id:"position",placeholder:"مثال: مدير مبيعات",value:i.position,onChange:t=>u({...i,position:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"department",children:"القسم"}),e.jsx(L,{id:"department",placeholder:"مثال: المبيعات",value:i.department,onChange:t=>u({...i,department:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"date",children:"التاريخ"}),e.jsx(L,{id:"date",type:"date",value:i.date,onChange:t=>u({...i,date:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"اللغة"}),e.jsxs(B,{value:D,onValueChange:H,children:[e.jsx(E,{children:e.jsx(A,{})}),e.jsxs(M,{children:[e.jsx(x,{value:"ar",children:"العربية"}),e.jsx(x,{value:"en",children:"الإنجليزية"}),e.jsx(x,{value:"both",children:"ثنائي اللغة"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"additional-info",children:"معلومات إضافية"}),e.jsx(te,{id:"additional-info",placeholder:"أي معلومات إضافية تريد إضافتها للخطاب...",value:i.additionalInfo,onChange:t=>u({...i,additionalInfo:t.target.value}),rows:4})]}),e.jsxs(p,{onClick:K,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:!i.employeeName||!i.position||T,children:[e.jsx(z,{className:"h-4 w-4 ml-2"}),T?"جاري الإنشاء...":"إنشاء الخطاب"]})]})]})}),I&&e.jsxs(g,{children:[e.jsx(b,{children:e.jsxs(v,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"معاينة الخطاب"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(ae,{className:"h-4 w-4 ml-2"}),"نسخ"]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:pe,children:[e.jsx(ke,{className:"h-4 w-4 ml-2"}),"تصدير PDF"]})]})]})}),e.jsx(j,{children:e.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-8 min-h-[600px] font-serif",children:e.jsx("pre",{className:"whitespace-pre-wrap text-right leading-relaxed",children:I})})})]}),!d&&o!=="custom"&&e.jsx(g,{className:"border-dashed border-2",children:e.jsxs(j,{className:"py-16 text-center",children:[e.jsx(P,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"اختر نوع الخطاب"}),e.jsx("p",{className:"text-muted-foreground",children:"اختر فئة ونوع الخطاب من القائمة اليمنى للبدء"})]})})]})]}),e.jsx("div",{className:"mt-10",children:e.jsxs(g,{className:"shadow-sm",children:[e.jsxs(b,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5 text-blue-600"}),"سجل الخطابات الأخيرة"]}),e.jsxs(w,{children:["يتم حفظ آخر ",le," خطابات تم توليدها لكل مستخدم"]})]}),a&&e.jsxs(p,{variant:"ghost",size:"sm",onClick:fe,disabled:J,children:[J?e.jsx(ee,{className:"h-4 w-4 ml-2 animate-spin"}):e.jsx(He,{className:"h-4 w-4 ml-2"}),"تحديث"]})]}),e.jsx(j,{children:a?ce?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsx("div",{className:"h-24 rounded-2xl bg-muted/70 animate-pulse"},t))}):Y.length===0?e.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"لم يتم حفظ أي خطابات بعد. قم بإنشاء خطاب جديد وسيظهر هنا تلقائياً."}):e.jsx("div",{className:"space-y-4",children:Y.map(t=>e.jsx("div",{className:"rounded-2xl border bg-white/40 p-4 shadow-sm backdrop-blur",children:e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{className:"font-semibold text-base",children:t.title||Me(t.letterType)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Pe(t.createdAt)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&e.jsx(R,{variant:"outline",children:Re(t.category)}),t.language&&e.jsx(R,{variant:"secondary",children:ze(t.language)}),t.style&&e.jsx(R,{variant:"outline",children:Ee[t.style]||t.style})]}),e.jsx("p",{className:"text-sm text-muted-foreground max-h-24 overflow-hidden",children:t.content})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 md:w-60",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>ue(t),children:[e.jsx(ie,{className:"h-4 w-4 ml-2"}),"عرض"]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>ge(t.content),children:[e.jsx(ae,{className:"h-4 w-4 ml-2"}),"نسخ"]}),e.jsxs(p,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>je(t.id),disabled:q===t.id&&$.isPending,children:[q===t.id&&$.isPending?e.jsx(ee,{className:"h-4 w-4 ml-2 animate-spin"}):e.jsx($e,{className:"h-4 w-4 ml-2"}),"حذف"]})]})]})},t.id))}):e.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"قم بتسجيل الدخول لحفظ الخطابات والوصول إلى السجل الشخصي."})})]})})]})})}export{ot as default};
