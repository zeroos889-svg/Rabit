import{r as o,j as e}from"./ui-vendor-C96WIwkg.js";import{a as x,t as u,B as t,C as l,f as c,c as h,d as p,o as j,L as f,H as N}from"./index-Bkz6h1fQ.js";import{B as g}from"./badge-DdDRUR73.js";import{S as v}from"./skeleton-CH6Aula-.js";import{R as y}from"./refresh-cw-X5VGk4GL.js";import{C}from"./clock-BFXiIUou.js";import"./react-vendor-DDxydHEc.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";const w={open:"مفتوحة",pending:"قيد الانتظار",confirmed:"مؤكدة","in-progress":"قيد التنفيذ",completed:"مكتملة",cancelled:"ملغاة"},L={open:"secondary",pending:"outline",confirmed:"secondary","in-progress":"default",completed:"default",cancelled:"destructive"};function E(){const[,n]=x(),{data:a,isLoading:i,refetch:d,isFetching:m}=u.consultant.getMyBookings.useQuery(),r=o.useMemo(()=>a?.bookings??[],[a]);return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"استشاراتي"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"جميع جلساتك المحجوزة مع المستشارين."})]}),e.jsxs(t,{variant:"outline",onClick:()=>d(),disabled:m,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"تحديث"]})]}),i?e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[1,2,3].map(s=>e.jsx(v,{className:"h-32 w-full"},s))}):r.length===0?e.jsx(l,{children:e.jsx(c,{className:"py-8 text-center text-muted-foreground",children:"لا توجد استشارات بعد. احجز استشارة جديدة من صفحة الاستشارات."})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(s=>e.jsxs(l,{children:[e.jsxs(h,{className:"flex flex-row items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-lg",children:s.subject||s.consultationType?.nameAr||"استشارة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.consultant?.fullNameAr||"سيتم التعيين لاحقاً"})]}),e.jsx(g,{variant:L[s.status||"pending"]||"secondary",children:w[s.status||"pending"]})]}),e.jsxs(c,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:s.scheduledDate?new Date(s.scheduledDate).toLocaleDateString("ar-SA"):"لم يحدد"}),e.jsx(C,{className:"h-4 w-4 ml-3"}),e.jsx("span",{children:s.scheduledTime||"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["SLA: ",s.slaHours||s.consultationType?.slaHours||24," ساعة"]}),e.jsxs("div",{className:"font-semibold text-primary",children:[(s.price||s.consultationType?.price||0).toLocaleString()," ريال"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(f,{href:`/consultation/${s.id}`,children:"التفاصيل"})}),e.jsxs(t,{size:"sm",onClick:()=>n(`/consultation/${s.id}/chat`),children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"المحادثة"]})]})]})]},s.id))})]})}export{E as default};
