{"version":3,"file":"ConsultingBookingNew-CvUaaOQa.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/badge-check.js","../../../client/src/pages/ConsultingBookingNew.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BadgeCheck = createLucideIcon(\"BadgeCheck\", [\n  [\n    \"path\",\n    {\n      d: \"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z\",\n      key: \"3c2336\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { BadgeCheck as default };\n//# sourceMappingURL=badge-check.js.map\n","import { useState, useEffect, useMemo } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { trpc } from \"@/lib/trpc\";\nimport { useAuth } from \"@/_core/hooks/useAuth\";\nimport { toast } from \"sonner\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Calendar,\n  Clock,\n  FileText,\n  Upload,\n  CheckCircle2,\n  ArrowRight,\n  ArrowLeft,\n  User,\n  Briefcase,\n  AlertCircle,\n  BadgeCheck,\n} from \"lucide-react\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Badge } from \"@/components/ui/badge\";\n\nexport default function ConsultingBookingNew() {\n  const { user, isAuthenticated } = useAuth();\n  const [, navigate] = useLocation();\n  const [step, setStep] = useState(1);\n\n  // Form data\n  const [selectedTypeId, setSelectedTypeId] = useState<number | null>(null);\n  const [selectedConsultantId, setSelectedConsultantId] = useState<\n    number | null\n  >(null);\n  const [subject, setSubject] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [selectedTime, setSelectedTime] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [requiredInfo, setRequiredInfo] = useState<Record<string, string>>({});\n  const [uploadedFiles, setUploadedFiles] = useState<\n    Array<{ name: string; url: string; type: string }>\n  >([]);\n  const [savedPackage, setSavedPackage] = useState<{\n    id?: number;\n    name?: string;\n    price?: number;\n    slaHours?: number | null;\n  } | null>(null);\n\n  // Queries\n  const { data: typesData, isLoading: loadingTypes } =\n    trpc.consultant.getConsultationTypes.useQuery();\n  const { data: consultantsData, isLoading: loadingConsultants } =\n    trpc.consultant.getApprovedConsultants.useQuery(undefined, {\n      enabled: step >= 2,\n    });\n\n  const uploadFileMutation = trpc.consultant.uploadFile.useMutation();\n  const createBookingMutation = trpc.consultant.createBooking.useMutation();\n\n  const selectedType = typesData?.types?.find(\n    (t: any) => t.id === selectedTypeId\n  );\n  const selectedConsultant = consultantsData?.consultants?.find(\n    (c: any) => c.id === selectedConsultantId\n  );\n  const summaryPrice =\n    savedPackage?.price ??\n    selectedType?.basePriceSAR ??\n    selectedType?.price ??\n    0;\n  const summarySla = savedPackage?.slaHours ?? selectedType?.slaHours ?? 24;\n  const summaryPackageName =\n    savedPackage?.name || selectedType?.nameAr || \"استشارة الموارد البشرية\";\n  const bookingSubject =\n    summaryPackageName +\n    \" - \" +\n    (subject || selectedType?.nameAr || \"استشارة الموارد البشرية\");\n\n  const estimatedDelivery = useMemo(() => {\n    if (!selectedDate || !selectedTime || !summarySla) return null;\n    const [h, m] = selectedTime.split(\":\").map(Number);\n    if (Number.isNaN(h) || Number.isNaN(m)) return null;\n    const dt = new Date(selectedDate);\n    dt.setHours(h, m, 0, 0);\n    dt.setHours(dt.getHours() + summarySla);\n    return dt.toLocaleString(\"ar-SA\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\",\n    });\n  }, [selectedDate, selectedTime, summarySla]);\n\n  // Preselect consultant/type if passed via query param or saved preference\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const cid = params.get(\"consultantId\");\n    const tid = params.get(\"typeId\") || localStorage.getItem(\"rabit-preferred-type\");\n    const pkg = localStorage.getItem(\"rabit-consulting-package\");\n    const lastConsultant = localStorage.getItem(\"rabit-last-consultant\");\n    const lastSlot = localStorage.getItem(\"rabit-last-slot\");\n    if (cid) {\n      setSelectedConsultantId(Number(cid));\n      setStep(2);\n    }\n    if (lastConsultant && !cid) {\n      const asNumber = Number(lastConsultant);\n      if (!Number.isNaN(asNumber)) {\n        setSelectedConsultantId(asNumber);\n      }\n    }\n    if (tid) {\n      const asNumber = Number(tid);\n      if (!Number.isNaN(asNumber)) {\n        setSelectedTypeId(asNumber);\n      }\n    }\n    if (lastSlot) {\n      try {\n        const parsed = JSON.parse(lastSlot);\n        setSelectedDate(parsed.date || \"\");\n        setSelectedTime(parsed.time || \"\");\n      } catch {\n        /* ignore */\n      }\n    }\n    if (pkg) {\n      try {\n        setSavedPackage(JSON.parse(pkg));\n      } catch {\n        setSavedPackage(null);\n      }\n    }\n  }, []);\n\n  // Parse required documents and info\n  const requiredDocuments = Array.isArray(selectedType?.requiredDocuments)\n    ? selectedType?.requiredDocuments\n    : selectedType?.requiredDocuments\n      ? JSON.parse(selectedType.requiredDocuments)\n      : [];\n  const requiredInfoFields = Array.isArray(selectedType?.requiredInfo)\n    ? selectedType?.requiredInfo\n    : selectedType?.requiredInfo\n      ? JSON.parse(selectedType.requiredInfo)\n      : [];\n\n  // Handle file upload\n  const handleFileUpload = async (\n    e: React.ChangeEvent<HTMLInputElement>,\n    docType: string\n  ) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error(\"حجم الملف يجب أن يكون أقل من 10 ميجابايت\");\n      return;\n    }\n\n    try {\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        const base64 = reader.result as string;\n        const result = await uploadFileMutation.mutateAsync({\n          fileName: file.name,\n          fileData: base64,\n          mimeType: file.type,\n        });\n\n        setUploadedFiles(prev => [\n          ...prev,\n          {\n            name: docType,\n            url: result.url,\n            type: file.type,\n          },\n        ]);\n\n        toast.success(`تم رفع ${docType} بنجاح`);\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      toast.error(\"فشل رفع الملف\");\n    }\n  };\n\n  // Handle booking submission\n  const handleSubmit = async () => {\n    if (!isAuthenticated) {\n      toast.error(\"يجب تسجيل الدخول أولاً\");\n      navigate(\"/login\");\n      return;\n    }\n\n    if (\n      !selectedTypeId ||\n      !selectedConsultantId ||\n      !selectedDate ||\n      !selectedTime\n    ) {\n      toast.error(\"يرجى إكمال جميع الحقول المطلوبة\");\n      return;\n    }\n\n    try {\n      const combinedRequiredInfo = {\n        ...requiredInfo,\n        ...(savedPackage ? { selectedPackage: savedPackage } : {}),\n      };\n\n      const result = await createBookingMutation.mutateAsync({\n        consultationTypeId: selectedTypeId,\n        consultantId: selectedConsultantId,\n        scheduledDate: selectedDate,\n        scheduledTime: selectedTime,\n        description,\n        subject: bookingSubject,\n        requiredInfo: JSON.stringify(combinedRequiredInfo),\n        attachments: JSON.stringify(uploadedFiles),\n        packageName: savedPackage?.name,\n        packagePrice: savedPackage?.price,\n        packageSlaHours: savedPackage?.slaHours ?? undefined,\n      });\n\n      toast.success(\"تم حجز الاستشارة بنجاح!\");\n      navigate(`/consultation/${result.bookingId}`);\n    } catch (error: any) {\n      toast.error(error.message || \"فشل حجز الاستشارة\");\n    }\n  };\n\n  // Generate available times\n  const availableTimes = [\n    \"09:00\",\n    \"10:00\",\n    \"11:00\",\n    \"12:00\",\n    \"14:00\",\n    \"15:00\",\n    \"16:00\",\n    \"17:00\",\n    \"18:00\",\n    \"19:00\",\n    \"20:00\",\n  ];\n\n  // Get minimum date (tomorrow)\n  const minDate = new Date();\n  minDate.setDate(minDate.getDate() + 1);\n  const minDateStr = minDate.toISOString().split(\"T\")[0];\n\n  // Persist preferred type when user changes it\n  useEffect(() => {\n    if (selectedTypeId) {\n      localStorage.setItem(\"rabit-preferred-type\", String(selectedTypeId));\n    }\n  }, [selectedTypeId]);\n\n  useEffect(() => {\n    if (selectedConsultantId) {\n      localStorage.setItem(\"rabit-last-consultant\", String(selectedConsultantId));\n    }\n  }, [selectedConsultantId]);\n\n  useEffect(() => {\n    if (selectedDate && selectedTime) {\n      localStorage.setItem(\n        \"rabit-last-slot\",\n        JSON.stringify({ date: selectedDate, time: selectedTime })\n      );\n    }\n  }, [selectedDate, selectedTime]);\n\n  if (loadingTypes) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12\">\n        <div className=\"container max-w-4xl\">\n          <Skeleton className=\"h-64 w-full\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12\">\n      <div className=\"container max-w-4xl\">\n        {/* Progress Steps */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            {[1, 2, 3, 4].map(s => (\n              <div key={s} className=\"flex items-center flex-1\">\n                <div\n                  className={`flex items-center justify-center w-10 h-10 rounded-full ${\n                    step >= s\n                      ? \"bg-purple-600 text-white\"\n                      : \"bg-gray-200 text-gray-500\"\n                  }`}\n                >\n                  {step > s ? <CheckCircle2 className=\"h-5 w-5\" /> : s}\n                </div>\n                {s < 4 && (\n                  <div\n                    className={`flex-1 h-1 mx-2 ${\n                      step > s ? \"bg-purple-600\" : \"bg-gray-200\"\n                    }`}\n                  />\n                )}\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-between mt-2 text-sm\">\n            <span\n              className={\n                step >= 1 ? \"text-purple-600 font-medium\" : \"text-gray-500\"\n              }\n            >\n              نوع الاستشارة\n            </span>\n            <span\n              className={\n                step >= 2 ? \"text-purple-600 font-medium\" : \"text-gray-500\"\n              }\n            >\n              المستشار\n            </span>\n            <span\n              className={\n                step >= 3 ? \"text-purple-600 font-medium\" : \"text-gray-500\"\n              }\n            >\n              الموعد والمتطلبات\n            </span>\n            <span\n              className={\n                step >= 4 ? \"text-purple-600 font-medium\" : \"text-gray-500\"\n              }\n            >\n              التأكيد\n            </span>\n          </div>\n        </div>\n\n        {savedPackage && (\n          <Card className=\"mb-6 border-green-200 bg-green-50/80\">\n            <CardContent className=\"py-4 flex items-start justify-between gap-3\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center\">\n                  <BadgeCheck className=\"h-5 w-5 text-green-600\" />\n                </div>\n                <div>\n                  <div className=\"flex items-center gap-2\">\n                    <p className=\"font-semibold text-green-800\">\n                      {savedPackage.name || \"باقة استشارية\"}\n                    </p>\n                    {typeof savedPackage.price === \"number\" && (\n                      <Badge variant=\"secondary\" className=\"bg-white text-green-700\">\n                        {savedPackage.price} ريال\n                      </Badge>\n                    )}\n                  </div>\n                  {savedPackage.slaHours ? (\n                    <p className=\"text-sm text-green-700\">\n                      SLA {savedPackage.slaHours} ساعة • لن يتم تحصيل الدفع الآن\n                    </p>\n                  ) : (\n                    <p className=\"text-sm text-green-700\">لن يتم تحصيل الدفع الآن</p>\n                  )}\n                </div>\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => {\n                  localStorage.removeItem(\"rabit-consulting-package\");\n                  setSavedPackage(null);\n                }}\n              >\n                إزالة\n              </Button>\n            </CardContent>\n          </Card>\n        )}\n\n        <Card className=\"p-8\">\n          {/* Step 1: Select Consultation Type */}\n          {step === 1 && (\n            <div className=\"space-y-6\">\n              <div className=\"text-center mb-6\">\n                <Briefcase className=\"h-12 w-12 text-purple-600 mx-auto mb-3\" />\n                <h2 className=\"text-2xl font-bold\">اختر نوع الاستشارة</h2>\n                <p className=\"text-muted-foreground\">\n                  حدد نوع الاستشارة التي تحتاجها\n                </p>\n              </div>\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                {typesData?.types?.map((type: any) => (\n                  <Card\n                    key={type.id}\n                    className={`p-4 cursor-pointer transition-all hover:shadow-lg ${\n                      selectedTypeId === type.id\n                        ? \"border-2 border-purple-600 bg-purple-50\"\n                        : \"\"\n                    }`}\n                    onClick={() => setSelectedTypeId(type.id)}\n                  >\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <h3 className=\"font-bold\">{type.nameAr}</h3>\n                      {selectedTypeId === type.id && (\n                        <CheckCircle2 className=\"h-5 w-5 text-purple-600\" />\n                      )}\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2\">\n                      {type.descriptionAr}\n                    </p>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-lg font-bold text-purple-600\">\n                        {type.price} ريال\n                      </span>\n                      <div className=\"text-right\">\n                        <span className=\"block text-sm text-muted-foreground\">\n                          {type.duration} دقيقة\n                        </span>\n                        <span className=\"block text-xs text-green-600\">\n                          SLA: {type.slaHours || 24} ساعة\n                        </span>\n                      </div>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button\n                  onClick={() => setStep(2)}\n                  disabled={!selectedTypeId}\n                  className=\"bg-purple-600 hover:bg-purple-700\"\n                >\n                  التالي\n                  <ArrowRight className=\"mr-2 h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Select Consultant */}\n          {step === 2 && (\n            <div className=\"space-y-6\">\n              <div className=\"text-center mb-6\">\n                <User className=\"h-12 w-12 text-purple-600 mx-auto mb-3\" />\n                <h2 className=\"text-2xl font-bold\">اختر المستشار</h2>\n                <p className=\"text-muted-foreground\">حدد المستشار المناسب لك</p>\n              </div>\n\n              {loadingConsultants ? (\n                <div className=\"space-y-4\">\n                  {[1, 2, 3].map(i => (\n                    <Skeleton key={i} className=\"h-24 w-full\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {consultantsData?.consultants?.map((consultant: any) => (\n                    <Card\n                      key={consultant.id}\n                      className={`p-4 cursor-pointer transition-all hover:shadow-lg ${\n                        selectedConsultantId === consultant.id\n                          ? \"border-2 border-purple-600 bg-purple-50\"\n                          : \"\"\n                      }`}\n                      onClick={() => setSelectedConsultantId(consultant.id)}\n                    >\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"h-16 w-16 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0\">\n                          <User className=\"h-8 w-8 text-purple-600\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <div className=\"flex justify-between items-start\">\n                            <div>\n                              <h3 className=\"font-bold\">\n                                {consultant.fullNameAr}\n                              </h3>\n                              <p className=\"text-sm text-muted-foreground\">\n                                {consultant.yearsOfExperience} سنوات خبرة\n                              </p>\n                            </div>\n                            {selectedConsultantId === consultant.id && (\n                              <CheckCircle2 className=\"h-5 w-5 text-purple-600\" />\n                            )}\n                          </div>\n                          <p className=\"text-sm mt-2 line-clamp-2\">\n                            {consultant.bioAr}\n                          </p>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              )}\n\n              <div className=\"flex justify-between\">\n                <Button onClick={() => setStep(1)} variant=\"outline\">\n                  <ArrowLeft className=\"ml-2 h-4 w-4\" />\n                  السابق\n                </Button>\n                <Button\n                  onClick={() => setStep(3)}\n                  disabled={!selectedConsultantId}\n                  className=\"bg-purple-600 hover:bg-purple-700\"\n                >\n                  التالي\n                  <ArrowRight className=\"mr-2 h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Date, Time & Requirements */}\n          {step === 3 && (\n            <div className=\"space-y-6\">\n              <div className=\"text-center mb-6\">\n                <Calendar className=\"h-12 w-12 text-purple-600 mx-auto mb-3\" />\n                <h2 className=\"text-2xl font-bold\">الموعد والمتطلبات</h2>\n                <p className=\"text-muted-foreground\">\n                  حدد الموعد وأرفق المستندات المطلوبة\n                </p>\n              </div>\n\n              {/* Date & Time */}\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label>التاريخ *</Label>\n                  <Input\n                    type=\"date\"\n                    value={selectedDate}\n                    onChange={e => setSelectedDate(e.target.value)}\n                    min={minDateStr}\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>الوقت *</Label>\n                  <Select value={selectedTime} onValueChange={setSelectedTime}>\n                    <SelectTrigger className=\"mt-1\">\n                      <SelectValue placeholder=\"اختر الوقت\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {availableTimes.map(time => (\n                        <SelectItem key={time} value={time}>\n                          {time}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              {/* Description */}\n              <div>\n                <Label>عنوان مختصر</Label>\n                <Input\n                  value={subject}\n                  onChange={e => setSubject(e.target.value)}\n                  placeholder=\"مثال: مراجعة عقد عمل لموظف جديد\"\n                  className=\"mt-1\"\n                />\n              </div>\n              <div>\n                <Label>وصف المشكلة أو الاستفسار *</Label>\n                <Textarea\n                  value={description}\n                  onChange={e => setDescription(e.target.value)}\n                  placeholder=\"اشرح بالتفصيل ما تحتاج مساعدة فيه...\"\n                  rows={4}\n                  className=\"mt-1\"\n                />\n              </div>\n\n              {/* Required Info Fields */}\n              {requiredInfoFields.length > 0 && (\n                <div className=\"space-y-4\">\n                  <h3 className=\"font-bold flex items-center gap-2\">\n                    <FileText className=\"h-5 w-5\" />\n                    معلومات مطلوبة\n                  </h3>\n                  {requiredInfoFields.map((field: any, index: number) => (\n                    <div key={index}>\n                      <Label>\n                        {field.nameAr} {field.required && \"*\"}\n                      </Label>\n                      {field.type === \"textarea\" ? (\n                        <Textarea\n                          value={requiredInfo[field.nameAr] || \"\"}\n                          onChange={e =>\n                            setRequiredInfo(prev => ({\n                              ...prev,\n                              [field.nameAr]: e.target.value,\n                            }))\n                          }\n                          placeholder={field.nameAr}\n                          rows={3}\n                          className=\"mt-1\"\n                        />\n                      ) : field.type === \"select\" && field.options ? (\n                        <Select\n                          value={requiredInfo[field.nameAr] || \"\"}\n                          onValueChange={value =>\n                            setRequiredInfo(prev => ({\n                              ...prev,\n                              [field.nameAr]: value,\n                            }))\n                          }\n                        >\n                          <SelectTrigger className=\"mt-1\">\n                            <SelectValue placeholder={`اختر ${field.nameAr}`} />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {field.options.map((option: string) => (\n                              <SelectItem key={option} value={option}>\n                                {option}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      ) : (\n                        <Input\n                          type={field.type}\n                          value={requiredInfo[field.nameAr] || \"\"}\n                          onChange={e =>\n                            setRequiredInfo(prev => ({\n                              ...prev,\n                              [field.nameAr]: e.target.value,\n                            }))\n                          }\n                          placeholder={field.nameAr}\n                          className=\"mt-1\"\n                        />\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Required Documents */}\n              {requiredDocuments.length > 0 && (\n                <div className=\"space-y-4\">\n                  <h3 className=\"font-bold flex items-center gap-2\">\n                    <Upload className=\"h-5 w-5\" />\n                    المستندات المطلوبة\n                  </h3>\n                  {requiredDocuments.map((doc: any, index: number) => (\n                    <div key={index} className=\"border rounded-lg p-4\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <div>\n                          <Label className=\"text-base\">\n                            {doc.nameAr}{\" \"}\n                            {doc.required && (\n                              <span className=\"text-red-500\">*</span>\n                            )}\n                          </Label>\n                          <p className=\"text-sm text-muted-foreground mt-1\">\n                            {doc.description}\n                          </p>\n                        </div>\n                      </div>\n                      <Input\n                        type=\"file\"\n                        onChange={e => handleFileUpload(e, doc.nameAr)}\n                        accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                        className=\"mt-2\"\n                      />\n                      {uploadedFiles.find(f => f.name === doc.nameAr) && (\n                        <div className=\"mt-2 flex items-center gap-2 text-sm text-green-600\">\n                          <CheckCircle2 className=\"h-4 w-4\" />\n                          تم الرفع بنجاح\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              <div className=\"flex justify-between\">\n                <Button onClick={() => setStep(2)} variant=\"outline\">\n                  <ArrowLeft className=\"ml-2 h-4 w-4\" />\n                  السابق\n                </Button>\n                <Button\n                  onClick={() => setStep(4)}\n                  disabled={!selectedDate || !selectedTime || !description}\n                  className=\"bg-purple-600 hover:bg-purple-700\"\n                >\n                  التالي\n                  <ArrowRight className=\"mr-2 h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 4: Confirmation */}\n          {step === 4 && (\n            <div className=\"space-y-6\">\n              <div className=\"text-center mb-6\">\n                <CheckCircle2 className=\"h-12 w-12 text-purple-600 mx-auto mb-3\" />\n                <h2 className=\"text-2xl font-bold\">تأكيد الحجز</h2>\n                <p className=\"text-muted-foreground\">\n                  راجع تفاصيل حجزك قبل التأكيد\n                </p>\n              </div>\n\n              <div className=\"space-y-4\">\n                <Card className=\"p-4 bg-purple-50\">\n                  <h3 className=\"font-bold mb-3\">ملخص الحجز</h3>\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">\n                        نوع الاستشارة:\n                      </span>\n                      <span className=\"font-medium\">\n                        {bookingSubject}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">المستشار:</span>\n                      <span className=\"font-medium\">\n                        {selectedConsultant?.fullNameAr}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">التاريخ:</span>\n                      <span className=\"font-medium\">{selectedDate}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">الوقت:</span>\n                      <span className=\"font-medium\">{selectedTime}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">المدة:</span>\n                      <span className=\"font-medium\">\n                        {selectedType?.estimatedDuration || selectedType?.duration} دقيقة\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">SLA:</span>\n                      <span className=\"font-medium\">{summarySla} ساعة</span>\n                    </div>\n                    {savedPackage && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">الباقة:</span>\n                        <span className=\"font-medium\">{summaryPackageName}</span>\n                      </div>\n                    )}\n                    {!savedPackage && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">الباقة:</span>\n                        <span className=\"font-medium\">أساسي</span>\n                      </div>\n                    )}\n                    <div className=\"border-t pt-2 mt-2 flex justify-between text-lg\">\n                      <span className=\"font-bold\">الإجمالي:</span>\n                      <span className=\"font-bold text-purple-600\">\n                        {summaryPrice} ريال\n                      </span>\n                    </div>\n                    {savedPackage && (\n                      <div className=\"text-xs text-green-700 mt-1\">\n                        سيتم تطبيق باقة {savedPackage.name} دون تحصيل فوري\n                      </div>\n                    )}\n                    {!savedPackage && (\n                      <div className=\"text-xs text-blue-700 mt-1\">\n                        لم تختر باقة محددة؛ سيتم تأكيد السعر بعد مراجعة الاستشارة.\n                      </div>\n                    )}\n                    {estimatedDelivery && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">تسليم متوقع:</span>\n                        <span className=\"font-medium\">{estimatedDelivery}</span>\n                      </div>\n                    )}\n                  </div>\n                </Card>\n\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3\">\n                  <AlertCircle className=\"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n                  <div className=\"text-sm\">\n                    <p className=\"font-medium text-blue-900 mb-1\">\n                      ملاحظة مهمة\n                    </p>\n                    <p className=\"text-blue-700\">\n                      سيتم التواصل معك عبر لوحة الاستشارة بعد التأكيد. يرجى\n                      متابعة الرسائل بانتظام. لن يتم تحصيل الدفع الآن. سيتم تأكيد\n                      السعر والبنود عند مراجعة الباقة المختارة.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-between\">\n                <Button onClick={() => setStep(3)} variant=\"outline\">\n                  <ArrowLeft className=\"ml-2 h-4 w-4\" />\n                  السابق\n                </Button>\n                <Button\n                  onClick={handleSubmit}\n                  disabled={createBookingMutation.isPending}\n                  className=\"bg-purple-600 hover:bg-purple-700\"\n                >\n                  {createBookingMutation.isPending\n                    ? \"جاري الحجز...\"\n                    : \"تأكيد الحجز\"}\n                  <CheckCircle2 className=\"mr-2 h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["BadgeCheck","createLucideIcon","ConsultingBookingNew","isAuthenticated","useAuth","navigate","useLocation","step","setStep","useState","selectedTypeId","setSelectedTypeId","selectedConsultantId","setSelectedConsultantId","subject","setSubject","selectedDate","setSelectedDate","selectedTime","setSelectedTime","description","setDescription","requiredInfo","setRequiredInfo","uploadedFiles","setUploadedFiles","savedPackage","setSavedPackage","typesData","loadingTypes","trpc","consultantsData","loadingConsultants","uploadFileMutation","createBookingMutation","selectedType","t","selectedConsultant","c","summaryPrice","summarySla","summaryPackageName","bookingSubject","estimatedDelivery","useMemo","h","m","dt","useEffect","params","cid","tid","pkg","lastConsultant","lastSlot","asNumber","parsed","requiredDocuments","requiredInfoFields","handleFileUpload","e","docType","file","toast","reader","base64","result","prev","handleSubmit","combinedRequiredInfo","error","availableTimes","minDate","minDateStr","jsx","Skeleton","jsxs","CheckCircle2","Card","CardContent","Badge","Button","Briefcase","type","ArrowRight","User","i","consultant","ArrowLeft","Calendar","Label","Input","Select","SelectTrigger","SelectValue","SelectContent","time","SelectItem","Textarea","FileText","field","index","value","option","Upload","doc","f","AlertCircle"],"mappings":"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","x_google_ignoreList":[0]}