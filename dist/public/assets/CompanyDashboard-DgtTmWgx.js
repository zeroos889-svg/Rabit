import{r as l,j as e}from"./ui-vendor-C96WIwkg.js";import{t as W,C as m,c as x,d as h,j as p,F as y,f as j,e as N,L as X,B as a,I as Y,o as Z}from"./index-Bkz6h1fQ.js";import{B as _}from"./badge-DdDRUR73.js";import{D as ee,T as C}from"./DashboardLayout-BL5EQdI4.js";import{S as A}from"./skeleton-CH6Aula-.js";import{S as I,a as M,b as B,c as E,d as i}from"./select-B0y6YODy.js";import{B as T}from"./briefcase-B7DqEMtf.js";import{A as se}from"./arrow-up-right-DkvzYWOT.js";import{C as te}from"./clock-BFXiIUou.js";import{P as le}from"./plus-0j2KamQO.js";import{C as F}from"./circle-check-DlUG-57U.js";import{C as ie}from"./circle-alert-BSV6M1IC.js";import"./react-vendor-DDxydHEc.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";import"./chart-column-D_-lOMZP.js";import"./shield-check-CohldUcE.js";import"./bell-BqXFjnTJ.js";function ye(){const c=W.dashboard.companyOverview.useQuery(void 0,{staleTime:3e4}),D={totalEmployees:156,activeJobs:12,openTickets:23,pendingApplicants:45},o=c.data?.stats||D,n=c.isError,P=[{id:1,type:"employee",message:"تم تعيين موظف جديد: أحمد محمد",timeAgo:"منذ ساعتين"},{id:2,type:"job",message:"تم نشر وظيفة جديدة: مطور برمجيات",timeAgo:"منذ 3 ساعات"},{id:3,type:"ticket",message:"تذكرة جديدة: طلب إجازة - سارة علي",timeAgo:"منذ 5 ساعات"},{id:4,type:"applicant",message:"15 متقدم جديد لوظيفة محاسب",timeAgo:"منذ يوم"}],Q=[{id:1,title:"مقابلة مع مرشح لوظيفة مدير مبيعات",due:"اليوم، 2:00 م",priority:"high"},{id:2,title:"مراجعة طلبات الإجازات المعلقة",due:"غداً، 10:00 ص",priority:"medium"},{id:3,title:"إعداد تقرير الرواتب الشهري",due:"15 نوفمبر",priority:"low"}],v=c.data?.activities||P,u=c.data?.tasks||Q,t=c.isLoading,[d,z]=l.useState(""),[S,V]=l.useState(5),[L,$]=l.useState(5),[g,J]=l.useState("all"),[r,R]=l.useState("all"),b=l.useMemo(()=>v.filter(s=>g==="all"||s.type===g),[v,g]),k=l.useMemo(()=>b.slice(0,S),[b,S]),w=l.useMemo(()=>u.filter(f=>f.title?.toLowerCase().includes(d.toLowerCase())&&(r==="all"||f.priority===r)).slice(0,L),[u,d,r,L]),U=l.useMemo(()=>u.filter(s=>s.title?.toLowerCase().includes(d.toLowerCase())&&(r==="all"||s.priority===r)).length,[u,d,r]),q=b.length>k.length,H=w.length<U,O=[{title:"إضافة موظف",icon:p,href:"/dashboard/employees/new",color:"bg-blue-500"},{title:"نشر وظيفة",icon:T,href:"/dashboard/jobs/new",color:"bg-green-500"},{title:"إنشاء تذكرة",icon:C,href:"/dashboard/tickets/new",color:"bg-purple-500"},{title:"إنشاء خطاب",icon:y,href:"/tools/letter-generator",color:"bg-orange-500"}],G=s=>s==="employee"?{Icon:p,color:"text-green-500"}:s==="job"?{Icon:T,color:"text-blue-500"}:s==="ticket"?{Icon:C,color:"text-purple-500"}:s==="applicant"?{Icon:y,color:"text-orange-500"}:{Icon:p,color:"text-primary"};return e.jsx(ee,{children:e.jsxs("div",{className:"space-y-8 p-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"لوحة التحكم"}),e.jsx("p",{className:"text-muted-foreground",children:"نظرة عامة على أداء الموارد البشرية في شركتك"}),n&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:"تعذر تحميل البيانات، يتم عرض بيانات احتياطية مؤقتاً."})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:["employees","jobs","tickets","applicants"].map(s=>e.jsxs(m,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:s==="employees"?"إجمالي الموظفين":s==="jobs"?"الوظائف النشطة":s==="tickets"?"التذاكر المفتوحة":"المتقدمين الجدد"}),s==="employees"&&e.jsx(p,{className:"h-5 w-5 text-blue-500"}),s==="jobs"&&e.jsx(T,{className:"h-5 w-5 text-green-500"}),s==="tickets"&&e.jsx(C,{className:"h-5 w-5 text-purple-500"}),s==="applicants"&&e.jsx(y,{className:"h-5 w-5 text-orange-500"})]}),e.jsxs(j,{children:[t?e.jsx(A,{className:"h-8 w-16"}):e.jsxs("div",{className:"text-3xl font-bold",children:[s==="employees"&&o.totalEmployees,s==="jobs"&&o.activeJobs,s==="tickets"&&o.openTickets,s==="applicants"&&o.pendingApplicants]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s==="employees"?"عن الشهر الماضي":s==="jobs"?`${o.pendingApplicants||0} متقدم في الانتظار`:s==="tickets"?"تابع التذاكر الحرجة":"متقدم جديد اليوم"})]})]},s))}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"إجراءات سريعة"}),e.jsx(N,{children:"الوصول السريع للمهام الشائعة"})]}),e.jsx(j,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:O.map(s=>e.jsx(X,{href:s.href,children:e.jsxs(a,{variant:"outline",className:"w-full h-24 flex-col gap-2 hover:shadow-md transition-all",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.color}`,children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-semibold",children:s.title})]})},s.title))})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(h,{children:"النشاطات الأخيرة"}),e.jsx(N,{children:"آخر التحديثات في النظام"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{value:g,onValueChange:J,children:[e.jsx(M,{className:"w-36",children:e.jsx(B,{placeholder:"نوع النشاط"})}),e.jsxs(E,{children:[e.jsx(i,{value:"all",children:"كل الأنواع"}),e.jsx(i,{value:"employee",children:"موظف"}),e.jsx(i,{value:"job",children:"وظيفة"}),e.jsx(i,{value:"ticket",children:"تذكرة"}),e.jsx(i,{value:"applicant",children:"متقدم"})]})]}),e.jsxs(a,{variant:"ghost",size:"sm",children:["عرض الكل",e.jsx(se,{className:"h-4 w-4 mr-1"})]})]})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[t&&e.jsx(A,{className:"h-24 w-full"}),!t&&k.map(s=>{const{Icon:f,color:K}=G(s.type);return e.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-lg bg-muted ${K}`,children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(te,{className:"h-3 w-3"}),s.timeAgo||s.time]})]})]},s.id)}),!t&&!v.length&&!n&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"لا يوجد نشاط حديث حالياً."}),!t&&n&&e.jsx("p",{className:"text-sm text-red-500",children:"تعذر تحميل النشاطات، يتم عرض بيانات احتياطية."}),!t&&q&&e.jsx(a,{variant:"outline",className:"w-full",onClick:()=>V(s=>s+5),children:"عرض المزيد"})]})})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(h,{children:"المهام القادمة"}),e.jsx(N,{children:"المواعيد والمهام المجدولة"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{value:r,onValueChange:R,children:[e.jsx(M,{className:"w-36",children:e.jsx(B,{placeholder:"الأولوية"})}),e.jsxs(E,{children:[e.jsx(i,{value:"all",children:"كل الأولويات"}),e.jsx(i,{value:"high",children:"عالي"}),e.jsx(i,{value:"medium",children:"متوسط"}),e.jsx(i,{value:"low",children:"منخفض"})]})]}),e.jsx(Y,{placeholder:"بحث عن مهمة...",value:d,onChange:s=>z(s.target.value),className:"max-w-xs"}),e.jsxs(a,{variant:"ghost",size:"sm",children:[e.jsx(le,{className:"h-4 w-4 mr-1"}),"إضافة مهمة"]})]})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[t&&e.jsx(A,{className:"h-24 w-full"}),!t&&w.map(s=>e.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg border hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-medium",children:s.title}),e.jsx(_,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",className:"text-xs",children:s.priority==="high"?"عاجل":s.priority==="medium"?"متوسط":"عادي"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3"}),s.due||s.date]})]}),e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})]},s.id)),!t&&!w.length&&!n&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"لا توجد مهام قادمة."}),!t&&n&&e.jsx("p",{className:"text-sm text-red-500",children:"تعذر تحميل المهام، حاول لاحقاً."}),!t&&H&&e.jsx(a,{variant:"outline",className:"w-full",onClick:()=>$(s=>s+5),children:"عرض المزيد"})]})})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"حالة النظام"}),e.jsx(N,{children:"معلومات سريعة عن استخدام النظام"})]}),e.jsx(j,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-green-50 border border-green-200",children:[e.jsx(F,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"جميع الأنظمة تعمل"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"آخر تحديث: الآن"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-blue-50 border border-blue-200",children:[e.jsx(p,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"45 مستخدم نشط"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"متصلين الآن"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-orange-50 border border-orange-200",children:[e.jsx(ie,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"3 إشعارات جديدة"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"تحتاج مراجعة"})]})]})]})})]})]})})}export{ye as default};
