import{r as c,j as e}from"./ui-vendor-C96WIwkg.js";import{D as $}from"./DashboardLayout-BL5EQdI4.js";import{u as z,t as P,L as C,B as n,C as o,c as d,d as m,p as U,f as x,o as H,e as k,I as Q}from"./index-Bkz6h1fQ.js";import{B as G}from"./badge-DdDRUR73.js";import{S as h}from"./skeleton-CH6Aula-.js";import{S as q,a as K,b as W,c as X,d as r}from"./select-B0y6YODy.js";import{B as Y}from"./briefcase-B7DqEMtf.js";import{C as Z}from"./circle-check-DlUG-57U.js";import{E as T}from"./eye-D29FSyEF.js";import{T as _}from"./trending-up-Bx2v0sIc.js";import{M as D}from"./map-pin-Dk8EH_HJ.js";import{D as L}from"./dollar-sign-BRdvXPnQ.js";import{C as ee}from"./clock-BFXiIUou.js";import{S as se}from"./star-Dq__ZUzY.js";import"./react-vendor-DDxydHEc.js";import"./chart-column-D_-lOMZP.js";import"./shield-check-CohldUcE.js";import"./bell-BqXFjnTJ.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";function be(){const{t:te,i18n:R}=z(),t=R.language==="ar",[p,A]=c.useState(""),[j,B]=c.useState("all"),u=P.dashboard.employeeOverview.useQuery(void 0,{staleTime:3e4}),g=u.data?.stats||{applicationsSubmitted:12,interviewsScheduled:3,offersReceived:1,profileViews:156},f=u.isError,v=u.data?.applications||[{id:1,jobTitle:"مطور Full Stack",jobTitleEn:"Full Stack Developer",company:"شركة التقنية المتقدمة",companyEn:"Advanced Tech Company",status:"قيد المراجعة",statusEn:"Under Review",statusColor:"yellow",appliedDate:"2024-11-15",salary:"12,000 - 18,000 ﷼",location:"الرياض",locationEn:"Riyadh"},{id:2,jobTitle:"محاسب رئيسي",jobTitleEn:"Senior Accountant",company:"مجموعة الأعمال الدولية",companyEn:"International Business Group",status:"مقابلة مجدولة",statusEn:"Interview Scheduled",statusColor:"blue",appliedDate:"2024-11-10",salary:"10,000 - 15,000 ﷼",location:"جدة",locationEn:"Jeddah"},{id:3,jobTitle:"مدير مبيعات",jobTitleEn:"Sales Manager",company:"شركة التسويق الرقمي",companyEn:"Digital Marketing Company",status:"مرفوض",statusEn:"Rejected",statusColor:"red",appliedDate:"2024-11-05",salary:"15,000 - 20,000 ﷼",location:"الدمام",locationEn:"Dammam"}],b=u.data?.recommendedJobs||[{id:1,title:"مطور React",titleEn:"React Developer",company:"شركة البرمجيات الحديثة",companyEn:"Modern Software Company",location:"الرياض",locationEn:"Riyadh",salary:"10,000 - 14,000 ﷼",type:"دوام كامل",typeEn:"Full Time",postedDays:2,match:95},{id:2,title:"مهندس DevOps",titleEn:"DevOps Engineer",company:"شركة الحلول التقنية",companyEn:"Tech Solutions Company",location:"جدة",locationEn:"Jeddah",salary:"14,000 - 20,000 ﷼",type:"دوام كامل",typeEn:"Full Time",postedDays:5,match:88}],a=u.isLoading,y=c.useMemo(()=>v.filter(s=>{const i=`${s.jobTitle} ${s.company}`.toLowerCase().includes(p.toLowerCase()),l=j==="all"||(s.status||"").toLowerCase()===j||(s.statusEn||"").toLowerCase()===j;return i&&l}),[v,p,j]),N=c.useMemo(()=>b.filter(s=>`${s.title} ${s.company}`.toLowerCase().includes(p.toLowerCase())),[b,p]),[M,F]=c.useState(5),[I,J]=c.useState(5),S=y.slice(0,M),E=N.slice(0,I),V=(s,i)=>{const l={yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",green:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",red:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return e.jsx(G,{className:l[i]||l.yellow,children:s})};return e.jsx($,{userType:"employee",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:t?"لوحة التحكم":"Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:t?"تتبع طلباتك واكتشف فرص جديدة":"Track your applications and discover new opportunities"}),f&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t?"تعذر تحميل البيانات، يتم عرض بيانات احتياطية.":"Failed to load data. Showing fallback info."})]}),e.jsx(C,{href:"/jobs",children:e.jsxs(n,{className:"bg-gradient-to-r from-green-600 to-emerald-600",children:[e.jsx(Y,{className:"w-4 h-4 ml-2"}),t?"تصفح الوظائف":"Browse Jobs"]})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs(o,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-600",children:t?"الطلبات المقدمة":"Applications Submitted"}),e.jsx(U,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(x,{children:[a?e.jsx(h,{className:"h-6 w-12"}):e.jsx("div",{className:"text-2xl font-bold",children:g.applicationsSubmitted}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t?"هذا الشهر":"This month"})]})]}),e.jsxs(o,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-600",children:t?"المقابلات المجدولة":"Interviews Scheduled"}),e.jsx(H,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(x,{children:[a?e.jsx(h,{className:"h-6 w-12"}):e.jsx("div",{className:"text-2xl font-bold",children:g.interviewsScheduled}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t?"قادمة":"Upcoming"})]})]}),e.jsxs(o,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-600",children:t?"العروض المستلمة":"Offers Received"}),e.jsx(Z,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(x,{children:[a?e.jsx(h,{className:"h-6 w-12"}):e.jsx("div",{className:"text-2xl font-bold",children:g.offersReceived}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t?"هذا الشهر":"This month"})]})]}),e.jsxs(o,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-600",children:t?"مشاهدات الملف":"Profile Views"}),e.jsx(T,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(x,{children:[a?e.jsx(h,{className:"h-6 w-12"}):e.jsx("div",{className:"text-2xl font-bold",children:g.profileViews}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3 inline text-green-500"}),t?"هذا الأسبوع":"this week"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"md:col-span-2",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(m,{children:t?"طلباتي":"My Applications"}),e.jsx(k,{children:t?"تتبع حالة طلبات التوظيف":"Track your job application status"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(q,{value:j,onValueChange:B,children:[e.jsx(K,{className:"w-40",children:e.jsx(W,{placeholder:t?"حالة الطلب":"Status"})}),e.jsxs(X,{children:[e.jsx(r,{value:"all",children:t?"كل الحالات":"All"}),e.jsx(r,{value:"pending",children:t?"قيد المراجعة":"Pending"}),e.jsx(r,{value:"reviewing",children:t?"تحت المراجعة":"Reviewing"}),e.jsx(r,{value:"interview",children:t?"مقابلة":"Interview"}),e.jsx(r,{value:"offer",children:t?"عرض":"Offer"}),e.jsx(r,{value:"rejected",children:t?"مرفوض":"Rejected"}),e.jsx(r,{value:"hired",children:t?"موظف":"Hired"})]})]}),e.jsx(Q,{placeholder:t?"ابحث في الطلبات...":"Search applications...",value:p,onChange:s=>A(s.target.value),className:"max-w-xs"}),e.jsx(C,{href:"/applications",children:e.jsx(n,{variant:"outline",size:"sm",children:t?"عرض الكل":"View All"})})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[a&&e.jsx(h,{className:"h-24 w-full"}),!a&&S.map(s=>{const i=t?s.jobTitle:s.jobTitleEn??s.jobTitle,l=t?s.company:s.companyEn??s.company,w=t?s.status:s.statusEn??s.status,O=t?s.location:s.locationEn??s.location;return e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:i}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l})]}),V(w,s.statusColor)]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mt-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),O]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),s.salary]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),s.appliedDate]})]})]}),e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(T,{className:"w-4 h-4"})})]},s.id)}),!a&&!y.length&&!f&&e.jsx("p",{className:"text-sm text-gray-500",children:t?"لا توجد طلبات بعد":"No applications yet"}),!a&&f&&e.jsx("p",{className:"text-sm text-red-500",children:t?"تعذر تحميل الطلبات.":"Failed to load applications."}),!a&&y.length>S.length&&e.jsx(n,{variant:"outline",className:"w-full",onClick:()=>F(s=>s+5),children:t?"عرض المزيد":"Show more"})]})})]}),e.jsxs(o,{children:[e.jsxs(d,{children:[e.jsx(m,{children:t?"وظائف موصى بها":"Recommended Jobs"}),e.jsx(k,{children:t?"بناءً على ملفك الشخصي":"Based on your profile"})]}),e.jsxs(x,{children:[e.jsxs("div",{className:"space-y-4",children:[a&&e.jsx(h,{className:"h-24 w-full"}),!a&&E.map(s=>{const i=t?s.title:s.titleEn??s.title,l=t?s.company:s.companyEn??s.company,w=t?s.location:s.locationEn??s.location;return e.jsxs("div",{className:"p-4 rounded-lg border hover:border-green-500 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:i}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l})]}),e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(se,{className:"w-3 h-3 fill-current"}),e.jsxs("span",{className:"text-xs font-medium",children:[s.match,"%"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-gray-500 mt-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),w]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),s.salary]})]}),e.jsx(n,{size:"sm",className:"w-full mt-3 bg-gradient-to-r from-green-600 to-emerald-600",children:t?"تقدم الآن":"Apply Now"})]},s.id)}),!a&&!N.length&&!f&&e.jsx("p",{className:"text-sm text-gray-500",children:t?"لا توجد وظائف مقترحة حالياً":"No recommendations yet"}),!a&&f&&e.jsx("p",{className:"text-sm text-red-500",children:t?"تعذر تحميل الوظائف المقترحة.":"Failed to load recommendations."}),!a&&N.length>E.length&&e.jsx(n,{variant:"outline",className:"w-full",onClick:()=>J(s=>s+5),children:t?"عرض المزيد":"Show more"})]}),e.jsx(n,{variant:"outline",className:"w-full mt-4",children:t?"المزيد من الوظائف":"More Jobs"})]})]})]})]})})}export{be as default};
