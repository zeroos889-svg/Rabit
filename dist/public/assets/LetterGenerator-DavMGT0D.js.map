{"version":3,"file":"LetterGenerator-DavMGT0D.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/user-x.js","../../../client/src/pages/LetterGenerator.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst UserX = createLucideIcon(\"UserX\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"17\", x2: \"22\", y1: \"8\", y2: \"13\", key: \"3nzzx3\" }],\n  [\"line\", { x1: \"22\", x2: \"17\", y1: \"8\", y2: \"13\", key: \"1swrse\" }]\n]);\n\nexport { UserX as default };\n//# sourceMappingURL=user-x.js.map\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { trpc } from \"@/lib/trpc\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport {\n  FileText,\n  Sparkles,\n  Download,\n  Eye,\n  Copy,\n  Briefcase,\n  Users,\n  AlertTriangle,\n  Award,\n  Building2,\n  Calendar,\n  UserX,\n  Wand2,\n  ArrowRight,\n  ChevronLeft,\n  History,\n  Trash2,\n  Loader2,\n  RefreshCw,\n} from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { useAuth } from \"@/_core/hooks/useAuth\";\nimport type { inferRouterOutputs } from \"@trpc/server\";\nimport type { AppRouter } from \"../../../server/routers\";\n\ntype RouterOutputs = inferRouterOutputs<AppRouter>;\ntype LetterHistoryItem = RouterOutputs[\"letters\"][\"getHistory\"][\"letters\"][number];\ntype LetterFormData = Record<string, string>;\n\ninterface LetterHistoryMetadata {\n  formData?: LetterFormData;\n  customPrompt?: string;\n  selection?: {\n    category?: string;\n    letterId?: string;\n  };\n}\n\nconst HISTORY_LIMIT = 10;\n\nconst formatTimestamp = (value?: string | Date | null) => {\n  if (!value) return \"—\";\n  try {\n    const date = typeof value === \"string\" ? new Date(value) : value;\n    return date.toLocaleString(\"ar-SA\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\",\n    });\n  } catch {\n    return \"—\";\n  }\n};\n\nconst formatLanguageLabel = (lang?: string | null) => {\n  if (!lang) return \"\";\n  if (lang === \"ar\") return \"العربية\";\n  if (lang === \"en\") return \"الإنجليزية\";\n  if (lang === \"both\") return \"ثنائي\";\n  return lang;\n};\n\nconst parseLetterMetadata = (\n  metadata?: Record<string, unknown> | null\n): LetterHistoryMetadata => {\n  if (!metadata) return {};\n  const data = metadata as Record<string, unknown> & {\n    formData?: LetterFormData;\n    customPrompt?: string;\n    selection?: Record<string, unknown> | null;\n  };\n\n  const selection =\n    data.selection && typeof data.selection === \"object\"\n      ? (data.selection as Record<string, unknown>)\n      : undefined;\n\n  const selectionCategory =\n    selection && typeof selection.category === \"string\" ? (selection.category as string) : undefined;\n  const selectionLetterId =\n    selection && typeof selection.letterId === \"string\" ? (selection.letterId as string) : undefined;\n\n  return {\n    formData: typeof data.formData === \"object\" ? (data.formData as LetterFormData) : undefined,\n    customPrompt: typeof data.customPrompt === \"string\" ? data.customPrompt : undefined,\n    selection: selection\n      ? {\n          category: selectionCategory,\n          letterId: selectionLetterId,\n        }\n      : undefined,\n  };\n};\n\n// Letter Categories\nconst letterCategories = {\n  employment: {\n    icon: Briefcase,\n    label: \"خطابات التوظيف\",\n    color: \"bg-blue-500\",\n    letters: [\n      {\n        id: \"job_offer\",\n        label: \"عرض توظيف\",\n        description: \"خطاب عرض وظيفة لمرشح\",\n      },\n      {\n        id: \"job_rejection\",\n        label: \"رفض طلب توظيف\",\n        description: \"إشعار برفض طلب التوظيف\",\n      },\n      {\n        id: \"interview_invitation\",\n        label: \"دعوة لمقابلة\",\n        description: \"دعوة مرشح لإجراء مقابلة\",\n      },\n      {\n        id: \"interview_cancellation\",\n        label: \"إلغاء مقابلة\",\n        description: \"إشعار بإلغاء موعد المقابلة\",\n      },\n      {\n        id: \"appointment_letter\",\n        label: \"خطاب تعيين\",\n        description: \"خطاب رسمي بتعيين موظف جديد\",\n      },\n      {\n        id: \"probation_completion\",\n        label: \"إنهاء فترة تجريبية\",\n        description: \"إشعار بإنهاء الفترة التجريبية بنجاح\",\n      },\n      {\n        id: \"contract_renewal\",\n        label: \"تجديد عقد\",\n        description: \"خطاب تجديد عقد العمل\",\n      },\n      {\n        id: \"contract_extension\",\n        label: \"تمديد عقد\",\n        description: \"خطاب تمديد مدة العقد\",\n      },\n    ],\n  },\n  internal: {\n    icon: Users,\n    label: \"خطابات داخلية\",\n    color: \"bg-green-500\",\n    letters: [\n      {\n        id: \"promotion\",\n        label: \"ترقية موظف\",\n        description: \"إشعار بترقية الموظف\",\n      },\n      {\n        id: \"transfer\",\n        label: \"نقل موظف\",\n        description: \"خطاب نقل موظف لقسم آخر\",\n      },\n      {\n        id: \"assignment\",\n        label: \"تكليف بمهام\",\n        description: \"تكليف موظف بمهام إضافية\",\n      },\n      {\n        id: \"salary_increase\",\n        label: \"زيادة راتب\",\n        description: \"إشعار بزيادة الراتب\",\n      },\n      {\n        id: \"allowance\",\n        label: \"بدل إضافي\",\n        description: \"خطاب منح بدل إضافي\",\n      },\n      {\n        id: \"deduction\",\n        label: \"خصم من الراتب\",\n        description: \"إشعار بخصم من الراتب\",\n      },\n      {\n        id: \"training\",\n        label: \"تكليف بدورة تدريبية\",\n        description: \"إشعار بالتسجيل في دورة تدريبية\",\n      },\n      {\n        id: \"meeting_notice\",\n        label: \"إشعار اجتماع\",\n        description: \"دعوة لحضور اجتماع\",\n      },\n      {\n        id: \"policy_update\",\n        label: \"تحديث سياسة\",\n        description: \"إشعار بتحديث سياسات الشركة\",\n      },\n      {\n        id: \"performance_review\",\n        label: \"تقييم أداء\",\n        description: \"خطاب تقييم الأداء السنوي\",\n      },\n      {\n        id: \"job_title_change\",\n        label: \"تغيير مسمى وظيفي\",\n        description: \"إشعار بتغيير المسمى الوظيفي\",\n      },\n      {\n        id: \"department_change\",\n        label: \"تحويل قسم\",\n        description: \"خطاب تحويل لقسم آخر\",\n      },\n    ],\n  },\n  disciplinary: {\n    icon: AlertTriangle,\n    label: \"إجراءات تأديبية\",\n    color: \"bg-red-500\",\n    letters: [\n      {\n        id: \"warning_first\",\n        label: \"إنذار أول\",\n        description: \"إنذار كتابي أول للموظف\",\n      },\n      {\n        id: \"warning_second\",\n        label: \"إنذار ثاني\",\n        description: \"إنذار كتابي ثاني للموظف\",\n      },\n      {\n        id: \"warning_final\",\n        label: \"إنذار نهائي\",\n        description: \"إنذار نهائي قبل الفصل\",\n      },\n      { id: \"penalty\", label: \"جزاء\", description: \"خطاب جزاء على مخالفة\" },\n      {\n        id: \"suspension\",\n        label: \"إيقاف عن العمل\",\n        description: \"إشعار بالإيقاف المؤقت\",\n      },\n    ],\n  },\n  certificates: {\n    icon: Award,\n    label: \"شهادات وإفادات\",\n    color: \"bg-purple-500\",\n    letters: [\n      {\n        id: \"experience_certificate\",\n        label: \"شهادة خبرة\",\n        description: \"شهادة خبرة للموظف\",\n      },\n      {\n        id: \"salary_certificate\",\n        label: \"شهادة راتب\",\n        description: \"شهادة راتب للبنك\",\n      },\n      {\n        id: \"work_certificate\",\n        label: \"شهادة عمل\",\n        description: \"شهادة عمل للسفارة\",\n      },\n      {\n        id: \"to_whom_it_may_concern\",\n        label: \"لمن يهمه الأمر\",\n        description: \"إفادة عامة\",\n      },\n      {\n        id: \"employee_introduction\",\n        label: \"تعريف بالموظف\",\n        description: \"خطاب تعريف بموظف\",\n      },\n      { id: \"income_proof\", label: \"إثبات دخل\", description: \"إثبات دخل شهري\" },\n      {\n        id: \"no_objection\",\n        label: \"عدم ممانعة\",\n        description: \"خطاب عدم ممانعة\",\n      },\n      {\n        id: \"recommendation\",\n        label: \"توصية\",\n        description: \"خطاب توصية للموظف\",\n      },\n      {\n        id: \"clearance_internal\",\n        label: \"إخلاء طرف داخلي\",\n        description: \"إخلاء طرف من الأقسام\",\n      },\n      {\n        id: \"appreciation\",\n        label: \"شكر وتقدير\",\n        description: \"خطاب شكر وتقدير\",\n      },\n    ],\n  },\n  external: {\n    icon: Building2,\n    label: \"خطابات خارجية\",\n    color: \"bg-orange-500\",\n    letters: [\n      {\n        id: \"bank_account\",\n        label: \"فتح حساب بنكي\",\n        description: \"خطاب للبنك لفتح حساب\",\n      },\n      { id: \"bank_loan\", label: \"طلب قرض\", description: \"خطاب للبنك لطلب قرض\" },\n      {\n        id: \"gosi\",\n        label: \"التأمينات الاجتماعية\",\n        description: \"خطاب للتأمينات\",\n      },\n      {\n        id: \"labor_office\",\n        label: \"مكتب العمل\",\n        description: \"خطاب لمكتب العمل\",\n      },\n      { id: \"embassy\", label: \"السفارة\", description: \"خطاب للسفارة\" },\n      { id: \"authorization\", label: \"تفويض\", description: \"خطاب تفويض رسمي\" },\n      { id: \"guarantee\", label: \"خطاب ضمان\", description: \"خطاب ضمان بنكي\" },\n      {\n        id: \"inquiry_response\",\n        label: \"رد على استفسار\",\n        description: \"رد على استفسار خارجي\",\n      },\n    ],\n  },\n  leave: {\n    icon: Calendar,\n    label: \"إجازات وغياب\",\n    color: \"bg-cyan-500\",\n    letters: [\n      {\n        id: \"leave_approval\",\n        label: \"موافقة على إجازة\",\n        description: \"خطاب موافقة على طلب إجازة\",\n      },\n      {\n        id: \"leave_rejection\",\n        label: \"رفض إجازة\",\n        description: \"خطاب رفض طلب إجازة\",\n      },\n      {\n        id: \"leave_return\",\n        label: \"عودة من إجازة\",\n        description: \"إشعار بالعودة من الإجازة\",\n      },\n      {\n        id: \"absence_warning\",\n        label: \"إنذار غياب\",\n        description: \"إنذار بسبب الغياب\",\n      },\n      {\n        id: \"sick_leave_request\",\n        label: \"طلب إجازة مرضية\",\n        description: \"طلب إجازة مرضية بتقرير طبي\",\n      },\n      {\n        id: \"unpaid_leave\",\n        label: \"إجازة بدون راتب\",\n        description: \"موافقة على إجازة بدون راتب\",\n      },\n    ],\n  },\n  termination: {\n    icon: UserX,\n    label: \"إنهاء الخدمة\",\n    color: \"bg-gray-500\",\n    letters: [\n      {\n        id: \"resignation_acceptance\",\n        label: \"قبول استقالة\",\n        description: \"خطاب قبول استقالة موظف\",\n      },\n      {\n        id: \"termination\",\n        label: \"إنهاء خدمة\",\n        description: \"خطاب إنهاء خدمة موظف\",\n      },\n      { id: \"dismissal\", label: \"فصل\", description: \"خطاب فصل من العمل\" },\n      {\n        id: \"contract_end\",\n        label: \"انتهاء عقد\",\n        description: \"إشعار بانتهاء العقد\",\n      },\n      {\n        id: \"final_clearance\",\n        label: \"إخلاء طرف نهائي\",\n        description: \"إخلاء طرف نهائي\",\n      },\n      {\n        id: \"final_settlement\",\n        label: \"تسوية نهائية\",\n        description: \"خطاب التسوية النهائية\",\n      },\n    ],\n  },\n};\n\nconst LETTER_STYLE_LABELS: Record<string, string> = {\n  formal: \"رسمي\",\n  \"semi-formal\": \"شبه رسمي\",\n  friendly: \"ودي\",\n};\n\nconst getLetterDefinitionById = (letterId?: string | null) => {\n  if (!letterId) return undefined;\n  for (const category of Object.values(letterCategories)) {\n    const match = category.letters.find(letter => letter.id === letterId);\n    if (match) {\n      return match;\n    }\n  }\n  return undefined;\n};\n\nconst getLetterLabelById = (letterId?: string | null) => {\n  if (!letterId) return \"خطاب مخصص\";\n  return getLetterDefinitionById(letterId)?.label ?? \"خطاب\";\n};\n\nconst getCategoryLabel = (key?: string | null) => {\n  if (!key) return \"مخصص\";\n  return letterCategories[key as keyof typeof letterCategories]?.label ?? key;\n};\n\nexport default function LetterGenerator() {\n  const { t, i18n } = useTranslation();\n  const isRTL = i18n.language === \"ar\";\n  const { isAuthenticated } = useAuth();\n  const utils = trpc.useUtils();\n  const historyQueryInput = { limit: HISTORY_LIMIT } as const;\n\n  // State\n  const [selectedCategory, setSelectedCategory] =\n    useState<string>(\"employment\");\n  const [selectedLetter, setSelectedLetter] = useState<string>(\"\");\n  const [letterData, setLetterData] = useState<LetterFormData>({\n    employeeName: \"\",\n    employeeId: \"\",\n    position: \"\",\n    department: \"\",\n    date: new Date().toISOString().split(\"T\")[0],\n    additionalInfo: \"\",\n  });\n  const [customPrompt, setCustomPrompt] = useState<string>(\"\");\n  const [generatedLetter, setGeneratedLetter] = useState<string>(\"\");\n  const [isGenerating, setIsGenerating] = useState<boolean>(false);\n  const [letterLanguage, setLetterLanguage] = useState<string>(\"ar\");\n  const [letterStyle, setLetterStyle] = useState<string>(\"formal\");\n  const [deletingLetterId, setDeletingLetterId] = useState<number | null>(null);\n\n  const {\n    data: letterHistoryData,\n    isLoading: letterHistoryLoading,\n    isFetching: letterHistoryFetching,\n  } = trpc.letters.getHistory.useQuery(historyQueryInput, {\n    enabled: isAuthenticated,\n  });\n\n  const saveLetterMutation = trpc.letters.saveLetter.useMutation({\n    onSuccess: () => {\n      toast.success(\"تم حفظ الخطاب في السجل\");\n      utils.letters.getHistory.invalidate(historyQueryInput);\n    },\n    onError: () => {\n      toast.error(\"تعذر حفظ الخطاب في السجل\");\n    },\n  });\n\n  const deleteLetterMutation = trpc.letters.deleteLetter.useMutation({\n    onSuccess: () => {\n      toast.success(\"تم حذف الخطاب من السجل\");\n    },\n    onError: () => {\n      toast.error(\"تعذر حذف الخطاب\");\n    },\n    onSettled: () => {\n      utils.letters.getHistory.invalidate(historyQueryInput);\n      setDeletingLetterId(null);\n    },\n  });\n\n  const letterHistory = letterHistoryData?.letters ?? [];\n  const isHistoryLoading = letterHistoryLoading && isAuthenticated;\n  const isHistoryRefreshing = letterHistoryFetching && !letterHistoryLoading;\n\n  const handleGenerateLetter = async () => {\n    if (!selectedLetter && !customPrompt) {\n      toast.error(\"يرجى اختيار نوع الخطاب أو كتابة طلب مخصص\");\n      return;\n    }\n\n    setIsGenerating(true);\n    toast.info(\"جاري إنشاء الخطاب...\");\n\n    try {\n      // Simulate AI generation (will be connected to real API)\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      const sampleLetter = `\nبسم الله الرحمن الرحيم\n\nالتاريخ: ${new Date(letterData.date).toLocaleDateString(\"ar-SA\")}\nالرقم: ${letterData.employeeId || \"XXX/2025\"}\n\nالسيد/ة: ${letterData.employeeName || \"[اسم الموظف]\"}\nالمسمى الوظيفي: ${letterData.position || \"[المسمى الوظيفي]\"}\nالقسم: ${letterData.department || \"[القسم]\"}\n\nالسلام عليكم ورحمة الله وبركاته،\n\nالموضوع: ${getLetterTitle()}\n\nنود إفادتكم بأنه تم ${getLetterAction()} وذلك اعتباراً من تاريخه.\n\n${letterData.additionalInfo ? `\\n${letterData.additionalInfo}\\n` : \"\"}\n\nنتمنى لكم التوفيق والنجاح.\n\nوتفضلوا بقبول فائق الاحترام والتقدير.\n\n\nإدارة الموارد البشرية\n[اسم الشركة]\n[ختم الشركة]\n      `.trim();\n\n      setGeneratedLetter(sampleLetter);\n      handleSaveLetterHistory(sampleLetter);\n      toast.success(\"تم إنشاء الخطاب بنجاح\");\n    } catch (error) {\n      console.error(\"Generation Error:\", error);\n      toast.error(\"حدث خطأ في إنشاء الخطاب\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const getLetterTitle = (): string => {\n    if (!selectedLetter) return \"خطاب مخصص\";\n\n    for (const category of Object.values(letterCategories)) {\n      const letter = category.letters.find(l => l.id === selectedLetter);\n      if (letter) return letter.label;\n    }\n    return \"خطاب\";\n  };\n\n  const getLetterAction = (): string => {\n    // This will be enhanced with AI\n    return \"اتخاذ الإجراء المطلوب\";\n  };\n\n  const handleCopyLetter = () => {\n    if (!generatedLetter) {\n      toast.info(\"لا يوجد خطاب لنسخه بعد\");\n      return;\n    }\n    navigator.clipboard.writeText(generatedLetter);\n    toast.success(\"تم نسخ الخطاب\");\n  };\n\n  const handleDownloadPDF = () => {\n    toast.info(\"ميزة التصدير قيد التطوير\");\n  };\n\n  const getCurrentCategory = () => {\n    return letterCategories[selectedCategory as keyof typeof letterCategories];\n  };\n\n  const CategoryIcon = getCurrentCategory()?.icon || FileText;\n\n  const handleSaveLetterHistory = (content: string) => {\n    if (!isAuthenticated) {\n      toast.info(\"سجل الدخول لحفظ الخطابات في السجل\");\n      return;\n    }\n\n    saveLetterMutation.mutate({\n      letterType: selectedLetter || \"custom\",\n      title: getLetterTitle(),\n      category: selectedCategory,\n      language: letterLanguage,\n      style: letterStyle,\n      content,\n      metadata: {\n        formData: letterData,\n        customPrompt,\n        selection: {\n          category: selectedCategory,\n          letterId: selectedLetter,\n        },\n      },\n    });\n  };\n\n  const handleLoadLetterFromHistory = (entry: LetterHistoryItem) => {\n    setGeneratedLetter(entry.content);\n    if (entry.language) {\n      setLetterLanguage(entry.language);\n    }\n    if (entry.style) {\n      setLetterStyle(entry.style);\n    }\n\n    const metadata = parseLetterMetadata(entry.metadata ?? undefined);\n    if (metadata.selection?.category) {\n      setSelectedCategory(metadata.selection.category);\n    } else if (entry.category) {\n      setSelectedCategory(entry.category);\n    }\n\n    if (metadata.selection?.letterId) {\n      setSelectedLetter(metadata.selection.letterId);\n    } else if (entry.letterType) {\n      setSelectedLetter(entry.letterType);\n    }\n\n    if (metadata.formData) {\n      setLetterData(prev => ({ ...prev, ...metadata.formData }));\n    }\n\n    if (metadata.customPrompt) {\n      setCustomPrompt(metadata.customPrompt);\n    }\n\n    toast.success(\"تم تحميل الخطاب من السجل\");\n  };\n\n  const handleCopyHistoryLetter = (content: string) => {\n    navigator.clipboard.writeText(content);\n    toast.success(\"تم نسخ الخطاب من السجل\");\n  };\n\n  const handleDeleteHistoryLetter = (letterId: number) => {\n    if (!isAuthenticated) {\n      toast.info(\"سجل الدخول لإدارة سجل الخطابات\");\n      return;\n    }\n    setDeletingLetterId(letterId);\n    deleteLetterMutation.mutate({ letterId });\n  };\n\n  const handleRefreshHistory = () => {\n    if (!isAuthenticated) return;\n    utils.letters.getHistory.invalidate(historyQueryInput);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4\">\n      <div className=\"container max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 mb-8\">\n          <Link href=\"/\">\n            <Button variant=\"ghost\" size=\"icon\">\n              <ChevronLeft className=\"h-5 w-5\" />\n            </Button>\n          </Link>\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white\">\n                <FileText className=\"h-8 w-8\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                  مولد الخطابات\n                </h1>\n                <p className=\"text-muted-foreground flex items-center gap-2\">\n                  <Sparkles className=\"h-4 w-4 text-purple-500\" />\n                  أكثر من 55 نوع خطاب جاهز - مدعوم بالذكاء الاصطناعي\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-6\">\n          {/* Left Panel - Categories & Letters */}\n          <div className=\"lg:col-span-1 space-y-4\">\n            {/* Categories */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">الفئات</CardTitle>\n                <CardDescription>اختر فئة الخطاب</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-2\">\n                {Object.entries(letterCategories).map(([key, category]) => {\n                  const Icon = category.icon;\n                  return (\n                    <button\n                      key={key}\n                      onClick={() => {\n                        setSelectedCategory(key);\n                        setSelectedLetter(\"\");\n                      }}\n                      className={`w-full flex items-center gap-3 p-3 rounded-lg transition-all ${\n                        selectedCategory === key\n                          ? \"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg\"\n                          : \"bg-muted hover:bg-muted/80\"\n                      }`}\n                    >\n                      <div\n                        className={`p-2 rounded-lg ${selectedCategory === key ? \"bg-white/20\" : category.color} text-white`}\n                      >\n                        <Icon className=\"h-4 w-4\" />\n                      </div>\n                      <div className=\"flex-1 text-right\">\n                        <div className=\"font-semibold text-sm\">\n                          {category.label}\n                        </div>\n                        <div\n                          className={`text-xs ${selectedCategory === key ? \"text-white/80\" : \"text-muted-foreground\"}`}\n                        >\n                          {category.letters.length} خطاب\n                        </div>\n                      </div>\n                    </button>\n                  );\n                })}\n\n                {/* AI Custom Generator */}\n                <button\n                  onClick={() => {\n                    setSelectedCategory(\"custom\");\n                    setSelectedLetter(\"\");\n                  }}\n                  className={`w-full flex items-center gap-3 p-3 rounded-lg transition-all ${\n                    selectedCategory === \"custom\"\n                      ? \"bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-lg\"\n                      : \"bg-gradient-to-r from-purple-100 to-pink-100 hover:from-purple-200 hover:to-pink-200\"\n                  }`}\n                >\n                  <div\n                    className={`p-2 rounded-lg ${selectedCategory === \"custom\" ? \"bg-white/20\" : \"bg-purple-500\"} text-white`}\n                  >\n                    <Wand2 className=\"h-4 w-4\" />\n                  </div>\n                  <div className=\"flex-1 text-right\">\n                    <div className=\"font-semibold text-sm\">\n                      مولد مخصص بالذكاء الاصطناعي\n                    </div>\n                    <div\n                      className={`text-xs ${selectedCategory === \"custom\" ? \"text-white/80\" : \"text-purple-700\"}`}\n                    >\n                      اكتب طلبك بحرية\n                    </div>\n                  </div>\n                </button>\n              </CardContent>\n            </Card>\n\n            {/* Letter Types */}\n            {selectedCategory !== \"custom\" && (\n              <Card className=\"max-h-[600px] overflow-y-auto\">\n                <CardHeader>\n                  <CardTitle className=\"text-lg flex items-center gap-2\">\n                    <CategoryIcon className=\"h-5 w-5\" />\n                    {getCurrentCategory()?.label}\n                  </CardTitle>\n                  <CardDescription>اختر نوع الخطاب</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-2\">\n                  {getCurrentCategory()?.letters.map(letter => (\n                    <button\n                      key={letter.id}\n                      onClick={() => setSelectedLetter(letter.id)}\n                      className={`w-full text-right p-3 rounded-lg transition-all ${\n                        selectedLetter === letter.id\n                          ? \"bg-blue-500 text-white shadow-md\"\n                          : \"bg-muted hover:bg-muted/80\"\n                      }`}\n                    >\n                      <div className=\"font-semibold text-sm\">\n                        {letter.label}\n                      </div>\n                      <div\n                        className={`text-xs ${selectedLetter === letter.id ? \"text-white/80\" : \"text-muted-foreground\"}`}\n                      >\n                        {letter.description}\n                      </div>\n                    </button>\n                  ))}\n                </CardContent>\n              </Card>\n            )}\n          </div>\n\n          {/* Right Panel - Form & Preview */}\n          <div className=\"lg:col-span-2 space-y-4\">\n            {selectedCategory === \"custom\" ? (\n              // Custom AI Generator\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Wand2 className=\"h-5 w-5 text-purple-500\" />\n                    مولد مخصص بالذكاء الاصطناعي\n                  </CardTitle>\n                  <CardDescription>\n                    اكتب طلبك بحرية وسيقوم الذكاء الاصطناعي بصياغة الخطاب\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"custom-prompt\">اكتب طلبك</Label>\n                    <Textarea\n                      id=\"custom-prompt\"\n                      placeholder=\"مثال: اكتب خطاب شكر لموظف متميز حصل على جائزة أفضل موظف للشهر...\"\n                      value={customPrompt}\n                      onChange={e => setCustomPrompt(e.target.value)}\n                      rows={6}\n                      className=\"resize-none\"\n                    />\n                  </div>\n\n                  <div className=\"grid md:grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>اللغة</Label>\n                      <Select\n                        value={letterLanguage}\n                        onValueChange={setLetterLanguage}\n                      >\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"ar\">العربية</SelectItem>\n                          <SelectItem value=\"en\">الإنجليزية</SelectItem>\n                          <SelectItem value=\"both\">ثنائي اللغة</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>الأسلوب</Label>\n                      <Select\n                        value={letterStyle}\n                        onValueChange={setLetterStyle}\n                      >\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"formal\">رسمي</SelectItem>\n                          <SelectItem value=\"semi-formal\">شبه رسمي</SelectItem>\n                          <SelectItem value=\"friendly\">ودي</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  </div>\n\n                  <Button\n                    onClick={handleGenerateLetter}\n                    className=\"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700\"\n                    disabled={!customPrompt.trim() || isGenerating}\n                  >\n                    <Sparkles className=\"h-4 w-4 ml-2\" />\n                    {isGenerating\n                      ? \"جاري الإنشاء...\"\n                      : \"إنشاء الخطاب بالذكاء الاصطناعي\"}\n                  </Button>\n                </CardContent>\n              </Card>\n            ) : (\n              // Standard Letter Form\n              <>\n                {selectedLetter && (\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>معلومات الخطاب</CardTitle>\n                      <CardDescription>\n                        أدخل البيانات المطلوبة لإنشاء الخطاب\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"grid md:grid-cols-2 gap-4\">\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"employee-name\">اسم الموظف *</Label>\n                          <Input\n                            id=\"employee-name\"\n                            placeholder=\"مثال: أحمد محمد\"\n                            value={letterData.employeeName}\n                            onChange={e =>\n                              setLetterData({\n                                ...letterData,\n                                employeeName: e.target.value,\n                              })\n                            }\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"employee-id\">رقم الموظف</Label>\n                          <Input\n                            id=\"employee-id\"\n                            placeholder=\"مثال: 12345\"\n                            value={letterData.employeeId}\n                            onChange={e =>\n                              setLetterData({\n                                ...letterData,\n                                employeeId: e.target.value,\n                              })\n                            }\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"position\">المسمى الوظيفي *</Label>\n                          <Input\n                            id=\"position\"\n                            placeholder=\"مثال: مدير مبيعات\"\n                            value={letterData.position}\n                            onChange={e =>\n                              setLetterData({\n                                ...letterData,\n                                position: e.target.value,\n                              })\n                            }\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"department\">القسم</Label>\n                          <Input\n                            id=\"department\"\n                            placeholder=\"مثال: المبيعات\"\n                            value={letterData.department}\n                            onChange={e =>\n                              setLetterData({\n                                ...letterData,\n                                department: e.target.value,\n                              })\n                            }\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"date\">التاريخ</Label>\n                          <Input\n                            id=\"date\"\n                            type=\"date\"\n                            value={letterData.date}\n                            onChange={e =>\n                              setLetterData({\n                                ...letterData,\n                                date: e.target.value,\n                              })\n                            }\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <Label>اللغة</Label>\n                          <Select\n                            value={letterLanguage}\n                            onValueChange={setLetterLanguage}\n                          >\n                            <SelectTrigger>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"ar\">العربية</SelectItem>\n                              <SelectItem value=\"en\">الإنجليزية</SelectItem>\n                              <SelectItem value=\"both\">ثنائي اللغة</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </div>\n                      </div>\n\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"additional-info\">معلومات إضافية</Label>\n                        <Textarea\n                          id=\"additional-info\"\n                          placeholder=\"أي معلومات إضافية تريد إضافتها للخطاب...\"\n                          value={letterData.additionalInfo}\n                          onChange={e =>\n                            setLetterData({\n                              ...letterData,\n                              additionalInfo: e.target.value,\n                            })\n                          }\n                          rows={4}\n                        />\n                      </div>\n\n                      <Button\n                        onClick={handleGenerateLetter}\n                        className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700\"\n                        disabled={\n                          !letterData.employeeName ||\n                          !letterData.position ||\n                          isGenerating\n                        }\n                      >\n                        <Sparkles className=\"h-4 w-4 ml-2\" />\n                        {isGenerating ? \"جاري الإنشاء...\" : \"إنشاء الخطاب\"}\n                      </Button>\n                    </CardContent>\n                  </Card>\n                )}\n              </>\n            )}\n\n            {/* Preview */}\n            {generatedLetter && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span className=\"flex items-center gap-2\">\n                      <Eye className=\"h-5 w-5\" />\n                      معاينة الخطاب\n                    </span>\n                    <div className=\"flex gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={handleCopyLetter}\n                      >\n                        <Copy className=\"h-4 w-4 ml-2\" />\n                        نسخ\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={handleDownloadPDF}\n                      >\n                        <Download className=\"h-4 w-4 ml-2\" />\n                        تصدير PDF\n                      </Button>\n                    </div>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"bg-white border-2 border-gray-200 rounded-lg p-8 min-h-[600px] font-serif\">\n                    <pre className=\"whitespace-pre-wrap text-right leading-relaxed\">\n                      {generatedLetter}\n                    </pre>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Empty State */}\n            {!selectedLetter && selectedCategory !== \"custom\" && (\n              <Card className=\"border-dashed border-2\">\n                <CardContent className=\"py-16 text-center\">\n                  <FileText className=\"h-16 w-16 mx-auto text-muted-foreground mb-4\" />\n                  <h3 className=\"text-lg font-semibold mb-2\">\n                    اختر نوع الخطاب\n                  </h3>\n                  <p className=\"text-muted-foreground\">\n                    اختر فئة ونوع الخطاب من القائمة اليمنى للبدء\n                  </p>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mt-10\">\n          <Card className=\"shadow-sm\">\n            <CardHeader className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\n              <div>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <History className=\"h-5 w-5 text-blue-600\" />\n                  سجل الخطابات الأخيرة\n                </CardTitle>\n                <CardDescription>\n                  يتم حفظ آخر {HISTORY_LIMIT} خطابات تم توليدها لكل مستخدم\n                </CardDescription>\n              </div>\n              {isAuthenticated && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={handleRefreshHistory}\n                  disabled={isHistoryRefreshing}\n                >\n                  {isHistoryRefreshing ? (\n                    <Loader2 className=\"h-4 w-4 ml-2 animate-spin\" />\n                  ) : (\n                    <RefreshCw className=\"h-4 w-4 ml-2\" />\n                  )}\n                  تحديث\n                </Button>\n              )}\n            </CardHeader>\n            <CardContent>\n              {!isAuthenticated ? (\n                <div className=\"p-6 text-center text-muted-foreground\">\n                  قم بتسجيل الدخول لحفظ الخطابات والوصول إلى السجل الشخصي.\n                </div>\n              ) : isHistoryLoading ? (\n                <div className=\"space-y-4\">\n                  {[1, 2, 3].map(key => (\n                    <div key={key} className=\"h-24 rounded-2xl bg-muted/70 animate-pulse\" />\n                  ))}\n                </div>\n              ) : letterHistory.length === 0 ? (\n                <div className=\"p-6 text-center text-muted-foreground\">\n                  لم يتم حفظ أي خطابات بعد. قم بإنشاء خطاب جديد وسيظهر هنا تلقائياً.\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {letterHistory.map(entry => (\n                    <div\n                      key={entry.id}\n                      className=\"rounded-2xl border bg-white/40 p-4 shadow-sm backdrop-blur\"\n                    >\n                      <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:gap-6\">\n                        <div className=\"flex-1 space-y-2\">\n                          <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                            <div className=\"font-semibold text-base\">\n                              {entry.title || getLetterLabelById(entry.letterType)}\n                            </div>\n                            <span className=\"text-xs text-muted-foreground\">\n                              {formatTimestamp(entry.createdAt)}\n                            </span>\n                          </div>\n                          <div className=\"flex flex-wrap gap-2 text-xs\">\n                            {entry.category && (\n                              <Badge variant=\"outline\">{getCategoryLabel(entry.category)}</Badge>\n                            )}\n                            {entry.language && (\n                              <Badge variant=\"secondary\">\n                                {formatLanguageLabel(entry.language)}\n                              </Badge>\n                            )}\n                            {entry.style && (\n                              <Badge variant=\"outline\">\n                                {LETTER_STYLE_LABELS[entry.style] || entry.style}\n                              </Badge>\n                            )}\n                          </div>\n                          <p className=\"text-sm text-muted-foreground max-h-24 overflow-hidden\">\n                            {entry.content}\n                          </p>\n                        </div>\n                        <div className=\"flex flex-wrap gap-2 md:w-60\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleLoadLetterFromHistory(entry)}\n                          >\n                            <Eye className=\"h-4 w-4 ml-2\" />\n                            عرض\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleCopyHistoryLetter(entry.content)}\n                          >\n                            <Copy className=\"h-4 w-4 ml-2\" />\n                            نسخ\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"text-red-600\"\n                            onClick={() => handleDeleteHistoryLetter(entry.id)}\n                            disabled={deletingLetterId === entry.id && deleteLetterMutation.isPending}\n                          >\n                            {deletingLetterId === entry.id && deleteLetterMutation.isPending ? (\n                              <Loader2 className=\"h-4 w-4 ml-2 animate-spin\" />\n                            ) : (\n                              <Trash2 className=\"h-4 w-4 ml-2\" />\n                            )}\n                            حذف\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["UserX","createLucideIcon","HISTORY_LIMIT","formatTimestamp","value","formatLanguageLabel","lang","parseLetterMetadata","metadata","data","selection","selectionCategory","selectionLetterId","letterCategories","Briefcase","Users","AlertTriangle","Award","Building2","Calendar","LETTER_STYLE_LABELS","getLetterDefinitionById","letterId","category","match","letter","getLetterLabelById","getCategoryLabel","key","LetterGenerator","t","i18n","useTranslation","isAuthenticated","useAuth","utils","trpc","historyQueryInput","selectedCategory","setSelectedCategory","useState","selectedLetter","setSelectedLetter","letterData","setLetterData","customPrompt","setCustomPrompt","generatedLetter","setGeneratedLetter","isGenerating","setIsGenerating","letterLanguage","setLetterLanguage","letterStyle","setLetterStyle","deletingLetterId","setDeletingLetterId","letterHistoryData","letterHistoryLoading","letterHistoryFetching","saveLetterMutation","toast","deleteLetterMutation","letterHistory","isHistoryLoading","isHistoryRefreshing","handleGenerateLetter","resolve","sampleLetter","getLetterTitle","getLetterAction","handleSaveLetterHistory","error","l","handleCopyLetter","handleDownloadPDF","getCurrentCategory","CategoryIcon","FileText","content","handleLoadLetterFromHistory","entry","prev","handleCopyHistoryLetter","handleDeleteHistoryLetter","handleRefreshHistory","jsxs","jsx","Link","Button","ChevronLeft","Sparkles","Card","CardHeader","CardTitle","CardDescription","CardContent","Icon","Wand2","Label","Textarea","e","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Fragment","Input","Eye","Copy","Download","History","Loader2","RefreshCw","Badge","Trash2"],"mappings":"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","x_google_ignoreList":[0]}