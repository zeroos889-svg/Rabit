import{r as m,j as e}from"./ui-vendor-C96WIwkg.js";import{B as b}from"./BackButton-rFUz39lD.js";import{u as w,a as v,t as N,b as i,S as y,C as k,c as C,d as L,e as S,f as M,I as p,L as h,B as n}from"./index-Bkz6h1fQ.js";import{L as u}from"./label-CmhXhWbA.js";import{S as B}from"./separator-DBdTAbb0.js";import{M as E}from"./mail-hhykUda4.js";import{L as I}from"./lock-CN3EPsKv.js";import{E as P}from"./eye-off-N0ImDqp6.js";import{E as H}from"./eye-D29FSyEF.js";import{C as z}from"./chrome-CgQe3XBN.js";import{L as D}from"./linkedin-Cr-UcUQb.js";import"./react-vendor-DDxydHEc.js";import"./arrow-right-yQLf5R-N.js";import"./house-CS3RhUwS.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";function Z(){const{t:s}=w(),[,r]=v(),[o,g]=m.useState(!1),[t,c]=m.useState(!1),[l,x]=m.useState({email:"",password:""}),f=N.auth.login.useMutation({onSuccess:a=>{i.success(s("login.success")),a.user&&localStorage.setItem("user",JSON.stringify(a.user)),setTimeout(()=>{switch(a.user.userType){case"company":r("/dashboard/company");break;case"consultant":case"individual":r("/dashboard/consultant");break;case"employee":r("/dashboard/employee");break;case"admin":r("/admin/dashboard");break;default:r("/")}},500)},onError:a=>{i.error(a.message||s("login.error")),c(!1)},onSettled:()=>c(!1)}),j=async a=>{if(a.preventDefault(),!l.email||!l.password){i.error(s("login.fillAllFields"));return}c(!0),f.mutate(l)},d=a=>{i.info(`${s("login.oauth")} ${a} - ${s("login.comingSoon",{defaultValue:"قريباً"})}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx(b,{}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mb-4 shadow-lg",children:e.jsx(y,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:s("login.welcomeBack")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:s("login.subtitle")})]}),e.jsxs(k,{className:"shadow-xl",children:[e.jsxs(C,{children:[e.jsx(L,{children:s("login.title")}),e.jsx(S,{children:s("login.description")})]}),e.jsxs(M,{children:[e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:s("login.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(p,{id:"email",type:"email",placeholder:s("login.emailPlaceholder"),className:"pr-10",value:l.email,onChange:a=>x({...l,email:a.target.value}),disabled:t,autoComplete:"email",dir:"ltr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(u,{htmlFor:"password",children:s("login.password")}),e.jsx(h,{href:"/forgot-password",children:e.jsx("a",{className:"text-sm text-blue-600 hover:text-blue-700",children:s("login.forgotPassword")})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(p,{id:"password",type:o?"text":"password",placeholder:s("login.passwordPlaceholder"),className:"pr-10 pl-10",value:l.password,onChange:a=>x({...l,password:a.target.value}),disabled:t,autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>g(!o),className:"absolute left-3 top-3 text-gray-400 hover:text-gray-600","aria-label":o?s("login.hidePassword",{defaultValue:"إخفاء كلمة المرور"}):s("login.showPassword",{defaultValue:"إظهار كلمة المرور"}),children:o?e.jsx(P,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]})]}),e.jsx(n,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:t,children:t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s("login.loggingIn")]}):s("login.loginButton")})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx(B,{}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 px-4",children:e.jsx("span",{className:"text-sm text-gray-500",children:s("login.or")})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>d("Google"),disabled:t,children:[e.jsx(z,{className:"w-5 h-5 ml-2"}),s("login.continueWithGoogle")]}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>d("Microsoft"),disabled:t,children:[e.jsxs("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#f25022",d:"M0 0h11v11H0z"}),e.jsx("path",{fill:"#00a4ef",d:"M12 0h11v11H12z"}),e.jsx("path",{fill:"#7fba00",d:"M0 12h11v11H0z"}),e.jsx("path",{fill:"#ffb900",d:"M12 12h11v11H12z"})]}),s("login.continueWithMicrosoft")]}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>d("LinkedIn"),disabled:t,children:[e.jsx(D,{className:"w-5 h-5 ml-2"}),s("login.continueWithLinkedIn")]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s("login.noAccount")," ",e.jsx(h,{href:"/signup",children:e.jsx("a",{className:"text-blue-600 hover:text-blue-700 font-semibold",children:s("login.signUpNow")})})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[s("login.needHelp")," ",e.jsx(h,{href:"/faq",children:e.jsx("a",{className:"text-blue-600 hover:text-blue-700",children:s("login.contactSupport")})})]})})]})]})}export{Z as default};
