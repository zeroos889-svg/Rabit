{"version":3,"file":"EndOfServiceCalculator-BfkVSfJ7.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/file-check.js","../../../client/src/pages/EndOfServiceCalculator.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.468.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileCheck = createLucideIcon(\"FileCheck\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"m9 15 2 2 4-4\", key: \"1grp1n\" }]\n]);\n\nexport { FileCheck as default };\n//# sourceMappingURL=file-check.js.map\n","import { useState, useEffect, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Calculator,\n  Download,\n  Share2,\n  Save,\n  Info,\n  TrendingUp,\n  Calendar,\n  DollarSign,\n  FileText,\n  ArrowRight,\n  CheckCircle2,\n  Sparkles,\n  Upload,\n  Bot,\n  FileCheck,\n  History,\n  Trash2,\n  Loader2,\n} from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { trpc } from \"@/lib/trpc\";\nimport { toast } from \"sonner\";\nimport { APP_LOGO } from \"@/const\";\nimport { useAuth } from \"@/_core/hooks/useAuth\";\nimport type { inferRouterOutputs } from \"@trpc/server\";\nimport type { AppRouter } from \"../../../server/routers\";\n\ntype RouterOutputs = inferRouterOutputs<AppRouter>;\ntype CalculationHistoryItem =\n  RouterOutputs[\"eosb\"][\"getCalculationHistory\"][\"history\"][number];\n\n// Types\ninterface CalculationResult {\n  totalAmount: number;\n  firstFiveYears: number;\n  afterFiveYears: number;\n  percentage: number;\n  yearsCount: number;\n  monthsCount: number;\n  daysCount: number;\n  breakdown: {\n    years: number;\n    months: number;\n    days: number;\n  };\n  aiInsights?: string;\n}\n\nconst CONTRACT_TYPE_LABELS: Record<string, string> = {\n  unlimited: \"عقد غير محدد المدة\",\n  limited: \"عقد محدد المدة\",\n};\n\nconst TERMINATION_REASON_LABELS: Record<string, string> = {\n  contract_end: \"انتهاء مدة العقد\",\n  resignation: \"استقالة العامل\",\n  resignation_before_end: \"استقالة قبل انتهاء العقد\",\n  employer_termination: \"إنهاء من صاحب العمل\",\n  retirement: \"بلوغ سن التقاعد\",\n  disability: \"العجز الكلي/الجزئي\",\n  death: \"الوفاة\",\n  force_majeure: \"القوة القاهرة\",\n  marriage: \"زواج (للمرأة)\",\n  maternity: \"ولادة (للمرأة)\",\n  disciplinary: \"فصل تأديبي\",\n  disciplinary_severe: \"فصل تأديبي جسيم\",\n};\n\nconst getContractTypeLabel = (value?: string | null) =>\n  value ? CONTRACT_TYPE_LABELS[value] ?? value : undefined;\n\nconst getTerminationReasonLabel = (value?: string | null) =>\n  value ? TERMINATION_REASON_LABELS[value] ?? value : undefined;\n\nconst formatDurationText = (duration?: {\n  years: number;\n  months: number;\n  days: number;\n} | null) => {\n  if (!duration) return null;\n  return `مدة الخدمة: ${duration.years} سنة، ${duration.months} شهر، ${duration.days} يوم`;\n};\n\nconst formatDateRange = (start?: string | null, end?: string | null) => {\n  if (!start || !end) return \"—\";\n  try {\n    return `${new Date(start).toLocaleDateString(\"ar-SA\")} → ${new Date(end).toLocaleDateString(\"ar-SA\")}`;\n  } catch {\n    return \"—\";\n  }\n};\n\nconst formatTimestamp = (dateInput?: string | Date | null) => {\n  if (!dateInput) return null;\n  try {\n    const date = typeof dateInput === \"string\" ? new Date(dateInput) : dateInput;\n    return date.toLocaleString(\"ar-SA\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\",\n    });\n  } catch {\n    return null;\n  }\n};\n\nexport default function EndOfServiceCalculator() {\n  const { t, i18n } = useTranslation();\n  const isRTL = i18n.language === \"ar\";\n  const { isAuthenticated } = useAuth();\n  const utils = trpc.useUtils();\n\n  // Form State\n  const [salary, setSalary] = useState<string>(\"\");\n  const [contractType, setContractType] = useState<string>(\"\");\n  const [terminationReason, setTerminationReason] = useState<string>(\"\");\n  const [startDate, setStartDate] = useState<string>(\"\");\n  const [endDate, setEndDate] = useState<string>(\"\");\n\n  // AI Features\n  const [aiQuestion, setAiQuestion] = useState<string>(\"\");\n  const [aiResponse, setAiResponse] = useState<string>(\"\");\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\n  const [verificationResult, setVerificationResult] = useState<string>(\"\");\n\n  // Result State\n  const [result, setResult] = useState<CalculationResult | null>(null);\n  const [showResult, setShowResult] = useState(false);\n\n  // Calculate service duration from dates\n  const calculateDuration = (start: string, end: string) => {\n    if (!start || !end) return { years: 0, months: 0, days: 0 };\n\n    const startD = new Date(start);\n    const endD = new Date(end);\n\n    let years = endD.getFullYear() - startD.getFullYear();\n    let months = endD.getMonth() - startD.getMonth();\n    let days = endD.getDate() - startD.getDate();\n\n    if (days < 0) {\n      months--;\n      const prevMonth = new Date(endD.getFullYear(), endD.getMonth(), 0);\n      days += prevMonth.getDate();\n    }\n\n    if (months < 0) {\n      years--;\n      months += 12;\n    }\n\n    return { years, months, days };\n  };\n\n  // Calculate in real-time\n  useEffect(() => {\n    if (salary && contractType && terminationReason && startDate && endDate) {\n      calculateEOSB();\n    }\n  }, [salary, contractType, terminationReason, startDate, endDate]);\n\n  const calculateEOSB = async () => {\n    const salaryNum = parseFloat(salary) || 0;\n\n    if (salaryNum <= 0 || !startDate || !endDate) return;\n\n    const duration = calculateDuration(startDate, endDate);\n    const { years: yearsNum, months: monthsNum, days: daysNum } = duration;\n\n    // Convert everything to years\n    const totalYears = yearsNum + monthsNum / 12 + daysNum / 365;\n\n    // Calculate first 5 years\n    const firstFiveYearsCount = Math.min(totalYears, 5);\n    const firstFiveYearsAmount = (salaryNum / 2) * firstFiveYearsCount;\n\n    // Calculate after 5 years\n    const afterFiveYearsCount = Math.max(0, totalYears - 5);\n    const afterFiveYearsAmount = salaryNum * afterFiveYearsCount;\n\n    // Total before percentage\n    const totalBeforePercentage = firstFiveYearsAmount + afterFiveYearsAmount;\n\n    // Determine percentage based on contract type and termination reason\n    let percentage = 100;\n\n    if (contractType === \"unlimited\" && terminationReason === \"resignation\") {\n      if (totalYears < 2) {\n        percentage = 0;\n      } else if (totalYears < 5) {\n        percentage = 33.33;\n      } else if (totalYears < 10) {\n        percentage = 66.66;\n      } else {\n        percentage = 100;\n      }\n    } else if (\n      contractType === \"limited\" &&\n      terminationReason === \"resignation_before_end\"\n    ) {\n      if (totalYears < 2) {\n        percentage = 0;\n      } else if (totalYears < 5) {\n        percentage = 33.33;\n      } else if (totalYears < 10) {\n        percentage = 66.66;\n      } else {\n        percentage = 100;\n      }\n    } else if (terminationReason === \"disciplinary_severe\") {\n      percentage = 0;\n    }\n\n    const finalAmount = (totalBeforePercentage * percentage) / 100;\n\n    // Get AI insights\n    let aiInsights = \"\";\n    try {\n      // This would call the AI to provide insights\n      aiInsights = `بناءً على الحساب، الموظف يستحق ${percentage}% من المكافأة الكاملة حسب المادة 84 من نظام العمل السعودي.`;\n    } catch (error) {\n      console.error(\"AI insights error:\", error);\n    }\n\n    setResult({\n      totalAmount: Math.round(finalAmount),\n      firstFiveYears: Math.round(firstFiveYearsAmount),\n      afterFiveYears: Math.round(afterFiveYearsAmount),\n      percentage,\n      yearsCount: yearsNum,\n      monthsCount: monthsNum,\n      daysCount: daysNum,\n      breakdown: {\n        years: yearsNum,\n        months: monthsNum,\n        days: daysNum,\n      },\n      aiInsights,\n    });\n\n    setShowResult(true);\n  };\n\n  const generatePDFMutation = trpc.eosb.generatePDF.useMutation();\n  const historyInput = useMemo(\n    () => ({ calculationType: \"end-of-service\" as const, limit: 20 }),\n    []\n  );\n\n  const calculationHistoryQuery = trpc.eosb.getCalculationHistory.useQuery(\n    historyInput,\n    {\n      enabled: isAuthenticated,\n    }\n  );\n\n  const saveCalculationMutation = trpc.eosb.saveCalculation.useMutation({\n    onSuccess: async () => {\n      await utils.eosb.getCalculationHistory.invalidate(historyInput);\n      toast.success(\"تم حفظ الحساب في السجل\");\n    },\n    onError: error => {\n      toast.error(error.message || \"تعذر حفظ الحساب\");\n    },\n  });\n\n  const deleteCalculationMutation = trpc.eosb.deleteCalculationRecord.useMutation({\n    onSuccess: async () => {\n      await utils.eosb.getCalculationHistory.invalidate(historyInput);\n      toast.success(\"تم حذف السجل\");\n    },\n    onError: error => {\n      toast.error(error.message || \"تعذر حذف السجل\");\n    },\n  });\n\n  const handleSaveCalculation = async () => {\n    if (!result) {\n      toast.error(\"يجب إجراء الحساب أولاً\");\n      return;\n    }\n\n    if (!isAuthenticated) {\n      toast.error(\"سجّل الدخول لحفظ السجل\");\n      return;\n    }\n\n    try {\n      await saveCalculationMutation.mutateAsync({\n        calculationType: \"end-of-service\",\n        salary: parseFloat(salary) || result.totalAmount,\n        contractType,\n        terminationReason,\n        startDate,\n        endDate,\n        duration: result.breakdown,\n        inputData: {\n          salary,\n          contractType,\n          terminationReason,\n          startDate,\n          endDate,\n        },\n        result,\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleLoadCalculation = (item: CalculationHistoryItem) => {\n    if (item.salary) setSalary(String(item.salary));\n    if (item.contractType) setContractType(item.contractType);\n    if (item.terminationReason) setTerminationReason(item.terminationReason);\n    if (item.startDate) setStartDate(item.startDate);\n    if (item.endDate) setEndDate(item.endDate);\n\n    const savedResult = item.result as CalculationResult | undefined;\n    if (savedResult) {\n      setResult({\n        totalAmount: Number(savedResult.totalAmount || 0),\n        firstFiveYears: Number(savedResult.firstFiveYears || 0),\n        afterFiveYears: Number(savedResult.afterFiveYears || 0),\n        percentage: Number(savedResult.percentage || 0),\n        yearsCount: Number(savedResult.yearsCount || item.duration?.years || 0),\n        monthsCount: Number(savedResult.monthsCount || item.duration?.months || 0),\n        daysCount: Number(savedResult.daysCount || item.duration?.days || 0),\n        breakdown:\n          savedResult.breakdown ||\n          item.duration || { years: 0, months: 0, days: 0 },\n        aiInsights: savedResult.aiInsights,\n      });\n      setShowResult(true);\n    }\n  };\n\n  const handleDeleteCalculation = async (recordId: number) => {\n    if (!recordId) return;\n    await deleteCalculationMutation.mutateAsync({ recordId });\n  };\n\n  const handleExportPDF = async () => {\n    if (!result || !salary || !startDate || !endDate) {\n      toast.error(\"يجب إجراء الحساب أولاً\");\n      return;\n    }\n\n    try {\n      toast.info(\"جاري إنشاء ملف PDF...\");\n\n      const response = await generatePDFMutation.mutateAsync({\n        salary: parseFloat(salary),\n        startDate,\n        endDate,\n        contractType,\n        terminationReason,\n        result: {\n          totalAmount: result.totalAmount,\n          firstFiveYears: result.firstFiveYears,\n          afterFiveYears: result.afterFiveYears,\n          percentage: result.percentage,\n          yearsCount: result.yearsCount,\n          monthsCount: result.monthsCount,\n          daysCount: result.daysCount,\n        },\n      });\n\n      // Create blob and download\n      const blob = new Blob([response.pdfContent], { type: \"text/html\" });\n      const url = window.URL.createObjectURL(blob);\n\n      // Open in new window for printing\n      const printWindow = window.open(url, \"_blank\");\n      if (printWindow) {\n        printWindow.onload = () => {\n          printWindow.print();\n        };\n      }\n\n      toast.success(\"تم إنشاء التقرير بنجاح\");\n    } catch (error) {\n      console.error(\"PDF generation error:\", error);\n      toast.error(\"حدث خطأ في إنشاء التقرير\");\n    }\n  };\n\n  const handleReset = () => {\n    setSalary(\"\");\n    setContractType(\"\");\n    setTerminationReason(\"\");\n    setStartDate(\"\");\n    setEndDate(\"\");\n    setResult(null);\n    setShowResult(false);\n    setAiQuestion(\"\");\n    setAiResponse(\"\");\n    setUploadedFile(null);\n    setVerificationResult(\"\");\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setUploadedFile(file);\n      toast.success(\"تم رفع الملف بنجاح\");\n      // Here you would process the file with AI\n      setTimeout(() => {\n        setVerificationResult(\n          \"جاري التحقق من الملف باستخدام الذكاء الاصطناعي...\"\n        );\n      }, 500);\n    }\n  };\n\n  const handleAskAI = async () => {\n    if (!aiQuestion.trim()) return;\n\n    toast.info(\"جاري الحصول على الإجابة...\");\n    // Here you would call the AI API\n    setTimeout(() => {\n      setAiResponse(\n        \"هذا مثال على إجابة الذكاء الاصطناعي. سيتم ربطها بالنظام الفعلي قريباً.\"\n      );\n      toast.success(\"تم الحصول على الإجابة\");\n    }, 1000);\n  };\n\n  const formatCurrency = (amount: number) => {\n    return `${amount.toLocaleString(\"ar-SA\")} ﷼`;\n  };\n\n  const historyItems = calculationHistoryQuery.data?.history ?? [];\n  const isHistoryFetching =\n    calculationHistoryQuery.isFetching && !calculationHistoryQuery.isLoading;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\n      {/* Header */}\n      <header className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50\">\n        <div className=\"container flex h-16 items-center justify-between\">\n          <Link href=\"/\">\n            <a className=\"flex items-center gap-2\">\n              <img src={APP_LOGO} alt=\"Rabit\" className=\"h-8\" />\n            </a>\n          </Link>\n          <Button variant=\"ghost\">\n            <Link href=\"/\">العودة للرئيسية</Link>\n          </Button>\n        </div>\n      </header>\n\n      <div className=\"container py-8 md:py-12\">\n        {/* Page Title */}\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center h-16 w-16 rounded-full gradient-primary mb-4\">\n            <Calculator className=\"h-8 w-8 text-white\" />\n          </div>\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-3\">\n            حاسبة نهاية الخدمة\n          </h1>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto flex items-center justify-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-primary\" />\n            احسب مكافأة نهاية الخدمة بدقة وفقاً للمادة 84 - مدعومة بالذكاء\n            الاصطناعي\n          </p>\n        </div>\n\n        <div className=\"grid lg:grid-cols-2 gap-8 max-w-7xl mx-auto\">\n          {/* Calculator Form */}\n          <div className=\"space-y-6\">\n            <Card className=\"shadow-lg\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <FileText className=\"h-5 w-5 text-primary\" />\n                  بيانات الحساب\n                </CardTitle>\n                <CardDescription>\n                  أدخل البيانات المطلوبة لحساب مكافأة نهاية الخدمة\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Salary */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"salary\" className=\"flex items-center gap-2\">\n                    <DollarSign className=\"h-4 w-4\" />\n                    الراتب الأساسي الأخير *\n                  </Label>\n                  <div className=\"relative\">\n                    <Input\n                      id=\"salary\"\n                      type=\"number\"\n                      placeholder=\"مثال: 10000\"\n                      value={salary}\n                      onChange={e => setSalary(e.target.value)}\n                      className=\"text-lg pr-12\"\n                    />\n                    <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-bold\">\n                      ﷼\n                    </span>\n                  </div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    الراتب الأساسي + البدلات الثابتة\n                  </p>\n                </div>\n\n                {/* Dates */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label\n                      htmlFor=\"start-date\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      <Calendar className=\"h-4 w-4\" />\n                      تاريخ المباشرة *\n                    </Label>\n                    <Input\n                      id=\"start-date\"\n                      type=\"date\"\n                      value={startDate}\n                      onChange={e => setStartDate(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label\n                      htmlFor=\"end-date\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      <Calendar className=\"h-4 w-4\" />\n                      آخر يوم عمل *\n                    </Label>\n                    <Input\n                      id=\"end-date\"\n                      type=\"date\"\n                      value={endDate}\n                      onChange={e => setEndDate(e.target.value)}\n                    />\n                  </div>\n                </div>\n\n                {/* Service Duration Display */}\n                {startDate && endDate && (\n                  <div className=\"p-4 bg-primary/10 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">\n                      مدة الخدمة المحسوبة:\n                    </p>\n                    <p className=\"text-lg font-bold gradient-text\">\n                      {(() => {\n                        const duration = calculateDuration(startDate, endDate);\n                        return `${duration.years} سنة، ${duration.months} شهر، ${duration.days} يوم`;\n                      })()}\n                    </p>\n                  </div>\n                )}\n\n                <Separator />\n\n                {/* Contract Type */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"contract-type\">نوع العقد *</Label>\n                  <Select value={contractType} onValueChange={setContractType}>\n                    <SelectTrigger id=\"contract-type\">\n                      <SelectValue placeholder=\"اختر نوع العقد\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {Object.entries(CONTRACT_TYPE_LABELS).map(([value, label]) => (\n                        <SelectItem key={value} value={value}>\n                          {label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Termination Reason */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"termination-reason\">\n                    سبب انتهاء الخدمة *\n                  </Label>\n                  <Select\n                    value={terminationReason}\n                    onValueChange={setTerminationReason}\n                  >\n                    <SelectTrigger id=\"termination-reason\">\n                      <SelectValue placeholder=\"اختر سبب الإنهاء\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {Object.entries(TERMINATION_REASON_LABELS).map(([value, label]) => (\n                        <SelectItem key={value} value={value}>\n                          {label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3 pt-4\">\n                  <Button\n                    onClick={calculateEOSB}\n                    className=\"flex-1 gradient-primary\"\n                    size=\"lg\"\n                    disabled={\n                      !salary ||\n                      !contractType ||\n                      !terminationReason ||\n                      !startDate ||\n                      !endDate\n                    }\n                  >\n                    <Calculator className=\"h-5 w-5 ml-2\" />\n                    احسب المكافأة\n                  </Button>\n                  <Button onClick={handleReset} variant=\"outline\" size=\"lg\">\n                    إعادة تعيين\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* AI Assistant */}\n            <Card className=\"shadow-lg border-purple-200 dark:border-purple-800\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Bot className=\"h-5 w-5 text-purple-600\" />\n                  المساعد الذكي\n                </CardTitle>\n                <CardDescription>\n                  اسأل أي سؤال عن حساب نهاية الخدمة\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Textarea\n                    placeholder=\"مثال: ما هي حقوقي في حالة الاستقالة بعد 3 سنوات؟\"\n                    value={aiQuestion}\n                    onChange={e => setAiQuestion(e.target.value)}\n                    rows={3}\n                  />\n                  <Button\n                    onClick={handleAskAI}\n                    className=\"w-full bg-purple-600 hover:bg-purple-700\"\n                    disabled={!aiQuestion.trim()}\n                  >\n                    <Sparkles className=\"h-4 w-4 ml-2\" />\n                    اسأل الذكاء الاصطناعي\n                  </Button>\n                </div>\n\n                {aiResponse && (\n                  <div className=\"p-4 bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800\">\n                    <p className=\"text-sm\">{aiResponse}</p>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* File Verification */}\n            <Card className=\"shadow-lg border-green-200 dark:border-green-800\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <FileCheck className=\"h-5 w-5 text-green-600\" />\n                  التحقق من الحساب\n                </CardTitle>\n                <CardDescription>ارفع ملف لتحقق من صحة الحساب</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer\">\n                  <input\n                    type=\"file\"\n                    id=\"file-upload\"\n                    className=\"hidden\"\n                    accept=\".pdf,.xlsx,.xls,.jpg,.jpeg,.png\"\n                    onChange={handleFileUpload}\n                  />\n                  <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                    <Upload className=\"h-10 w-10 mx-auto mb-3 text-muted-foreground\" />\n                    <p className=\"text-sm font-medium mb-1\">\n                      {uploadedFile ? uploadedFile.name : \"اضغط لرفع ملف\"}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      PDF, Excel, أو صورة\n                    </p>\n                  </label>\n                </div>\n\n                {verificationResult && (\n                  <div className=\"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800\">\n                    <p className=\"text-sm\">{verificationResult}</p>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Results */}\n          {showResult && result ? (\n            <Card className=\"shadow-lg border-primary/20 lg:sticky lg:top-20 h-fit\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <TrendingUp className=\"h-5 w-5 text-primary\" />\n                  نتيجة الحساب\n                </CardTitle>\n                <CardDescription>\n                  تفاصيل مكافأة نهاية الخدمة المستحقة\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Total Amount */}\n                <div className=\"text-center p-6 bg-gradient-to-br from-primary/10 to-secondary/10 rounded-lg\">\n                  <p className=\"text-sm text-muted-foreground mb-2\">\n                    المبلغ الإجمالي المستحق\n                  </p>\n                  <p className=\"text-4xl font-bold gradient-text\">\n                    {formatCurrency(result.totalAmount)}\n                  </p>\n                  {result.percentage < 100 && (\n                    <Badge variant=\"secondary\" className=\"mt-3\">\n                      {result.percentage}% من المكافأة الكاملة\n                    </Badge>\n                  )}\n                </div>\n\n                {/* Breakdown */}\n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold flex items-center gap-2\">\n                    <Info className=\"h-4 w-4\" />\n                    تفاصيل الحساب\n                  </h4>\n\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center p-3 bg-muted/50 rounded-lg\">\n                      <span className=\"text-sm\">السنوات الخمس الأولى</span>\n                      <span className=\"font-semibold\">\n                        {formatCurrency(result.firstFiveYears)}\n                      </span>\n                    </div>\n\n                    {result.afterFiveYears > 0 && (\n                      <div className=\"flex justify-between items-center p-3 bg-muted/50 rounded-lg\">\n                        <span className=\"text-sm\">ما بعد السنوات الخمس</span>\n                        <span className=\"font-semibold\">\n                          {formatCurrency(result.afterFiveYears)}\n                        </span>\n                      </div>\n                    )}\n\n                    <div className=\"flex justify-between items-center p-3 bg-primary/10 rounded-lg\">\n                      <span className=\"text-sm font-medium\">مدة الخدمة</span>\n                      <span className=\"font-semibold\">\n                        {result.yearsCount} سنة، {result.monthsCount} شهر،{\" \"}\n                        {result.daysCount} يوم\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* AI Insights */}\n                {result.aiInsights && (\n                  <div className=\"p-4 bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800 rounded-lg\">\n                    <div className=\"flex gap-3\">\n                      <Sparkles className=\"h-5 w-5 text-purple-600 flex-shrink-0 mt-0.5\" />\n                      <div className=\"text-sm\">\n                        <p className=\"font-medium mb-1 text-purple-900 dark:text-purple-100\">\n                          رؤية ذكية\n                        </p>\n                        <p className=\"text-xs opacity-90\">\n                          {result.aiInsights}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Info Note */}\n                <div className=\"p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n                  <div className=\"flex gap-3\">\n                    <CheckCircle2 className=\"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n                    <div className=\"text-sm text-blue-900 dark:text-blue-100\">\n                      <p className=\"font-medium mb-1\">الحساب وفقاً للمادة 84</p>\n                      <p className=\"text-xs opacity-90\">\n                        تم احتساب المكافأة وفقاً لنظام العمل السعودي. النتيجة\n                        تقريبية ويُنصح بمراجعة قسم الموارد البشرية للتأكيد.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"grid grid-cols-2 gap-3 pt-4\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"w-full\"\n                    onClick={handleExportPDF}\n                    disabled={generatePDFMutation.isPending}\n                  >\n                    <Download className=\"h-4 w-4 ml-2\" />\n                    {generatePDFMutation.isPending\n                      ? \"جاري الإنشاء...\"\n                      : \"تصدير PDF\"}\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <Share2 className=\"h-4 w-4 ml-2\" />\n                    مشاركة\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"w-full\"\n                    onClick={handleSaveCalculation}\n                    disabled={\n                      saveCalculationMutation.isPending ||\n                      !result ||\n                      !isAuthenticated\n                    }\n                  >\n                    {saveCalculationMutation.isPending ? (\n                      <Loader2 className=\"h-4 w-4 ml-2 animate-spin\" />\n                    ) : (\n                      <Save className=\"h-4 w-4 ml-2\" />\n                    )}\n                    حفظ في السجل\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <FileText className=\"h-4 w-4 ml-2\" />\n                    Excel\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <Card className=\"shadow-lg border-dashed lg:sticky lg:top-20\">\n              <CardContent className=\"flex flex-col items-center justify-center h-full min-h-[400px] text-center p-8\">\n                <div className=\"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4\">\n                  <Calculator className=\"h-10 w-10 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-xl font-semibold mb-2\">ابدأ الحساب</h3>\n                <p className=\"text-muted-foreground mb-6 max-w-sm\">\n                  أدخل البيانات المطلوبة في النموذج لحساب مكافأة نهاية الخدمة\n                </p>\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  <ArrowRight className=\"h-4 w-4\" />\n                  <span>النتيجة ستظهر هنا تلقائياً</span>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n\n        {/* History Section */}\n        <Card className=\"mt-8 max-w-7xl mx-auto\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <History className=\"h-5 w-5 text-primary\" />\n              سجل الحسابات المحفوظة\n            </CardTitle>\n            <CardDescription>\n              احتفظ بكل حساباتك وارجع لها أو عدّلها في أي وقت\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {!isAuthenticated ? (\n              <div className=\"p-6 bg-muted/50 rounded-lg text-center text-sm text-muted-foreground\">\n                سجّل الدخول للاطلاع على سجل حساباتك المحفوظة.\n              </div>\n            ) : calculationHistoryQuery.isLoading ? (\n              <div className=\"flex items-center justify-center py-6 text-muted-foreground\">\n                <Loader2 className=\"h-5 w-5 animate-spin ml-2\" />\n                جاري تحميل السجل...\n              </div>\n            ) : calculationHistoryQuery.error ? (\n              <div className=\"p-6 bg-red-50 dark:bg-red-950/20 rounded-lg text-center text-sm text-red-600 dark:text-red-200\">\n                تعذر تحميل السجل حالياً. حاول مجدداً لاحقاً.\n              </div>\n            ) : historyItems.length ? (\n              <div className=\"space-y-4\">\n                {isHistoryFetching && (\n                  <div className=\"flex items-center gap-2 text-xs text-muted-foreground bg-muted/40 rounded-lg px-4 py-2\">\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    يتم تحديث السجل...\n                  </div>\n                )}\n                {historyItems.map(item => {\n                  const savedResult = item.result as CalculationResult | undefined;\n                  const contractLabel = getContractTypeLabel(item.contractType);\n                  const terminationLabel = getTerminationReasonLabel(\n                    item.terminationReason\n                  );\n                  const durationLabel = formatDurationText(item.duration);\n                  const createdAtLabel = formatTimestamp(item.createdAt);\n                  return (\n                    <div\n                      key={item.id}\n                      className=\"border rounded-xl p-4 flex flex-col gap-3 bg-background/60\"\n                    >\n                      <div className=\"flex flex-wrap items-center justify-between gap-3\">\n                        <div>\n                          <p className=\"text-lg font-bold\">\n                            {formatCurrency(Number(savedResult?.totalAmount ?? 0))}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {formatDateRange(item.startDate, item.endDate)}\n                          </p>\n                          {createdAtLabel && (\n                            <p className=\"text-xs text-muted-foreground\">\n                              محفوظ بتاريخ: {createdAtLabel}\n                            </p>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Button variant=\"outline\" onClick={() => handleLoadCalculation(item)}>\n                            <ArrowRight className=\"h-4 w-4 ml-2\" />\n                            تحميل التفاصيل\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"text-destructive\"\n                            onClick={() => handleDeleteCalculation(item.id)}\n                            disabled={deleteCalculationMutation.isPending}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                      <div className=\"flex flex-wrap gap-2 text-xs text-muted-foreground\">\n                        {contractLabel && <Badge variant=\"outline\">{contractLabel}</Badge>}\n                        {terminationLabel && <Badge variant=\"outline\">{terminationLabel}</Badge>}\n                        {typeof savedResult?.percentage === \"number\" && (\n                          <Badge variant=\"secondary\">\n                            نسبة الاستحقاق {savedResult.percentage}%\n                          </Badge>\n                        )}\n                        {durationLabel && <span>{durationLabel}</span>}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"p-6 bg-muted/50 rounded-lg text-center text-sm text-muted-foreground\">\n                لا توجد سجلات بعد. احفظ أول حساب لك لبدء السجل.\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Info Section */}\n        <Card className=\"mt-8 max-w-7xl mx-auto\">\n          <CardHeader>\n            <CardTitle>معلومات مهمة عن مكافأة نهاية الخدمة</CardTitle>\n          </CardHeader>\n          <CardContent className=\"prose prose-sm max-w-none dark:prose-invert\">\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <h4 className=\"font-semibold mb-2\">قواعد الحساب:</h4>\n                <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                  <li>نصف شهر عن كل سنة من السنوات الخمس الأولى</li>\n                  <li>شهر كامل عن كل سنة بعد السنوات الخمس</li>\n                  <li>يُعتمد آخر راتب أساسي في الحساب</li>\n                  <li>تُحسب الكسور (الأشهر والأيام) بالتناسب</li>\n                </ul>\n              </div>\n              <div>\n                <h4 className=\"font-semibold mb-2\">حالات خاصة:</h4>\n                <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                  <li>الاستقالة: نسب مختلفة حسب مدة الخدمة</li>\n                  <li>الإنهاء من صاحب العمل: مكافأة كاملة</li>\n                  <li>التقاعد أو العجز: مكافأة كاملة</li>\n                  <li>المرأة العاملة: حالات خاصة للزواج والولادة</li>\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["FileCheck","createLucideIcon","CONTRACT_TYPE_LABELS","TERMINATION_REASON_LABELS","getContractTypeLabel","value","getTerminationReasonLabel","formatDurationText","duration","formatDateRange","start","end","formatTimestamp","dateInput","EndOfServiceCalculator","t","i18n","useTranslation","isAuthenticated","useAuth","utils","trpc","salary","setSalary","useState","contractType","setContractType","terminationReason","setTerminationReason","startDate","setStartDate","endDate","setEndDate","aiQuestion","setAiQuestion","aiResponse","setAiResponse","uploadedFile","setUploadedFile","verificationResult","setVerificationResult","result","setResult","showResult","setShowResult","calculateDuration","startD","endD","years","months","days","prevMonth","useEffect","calculateEOSB","salaryNum","yearsNum","monthsNum","daysNum","totalYears","firstFiveYearsCount","firstFiveYearsAmount","afterFiveYearsCount","afterFiveYearsAmount","totalBeforePercentage","percentage","finalAmount","aiInsights","error","generatePDFMutation","historyInput","useMemo","calculationHistoryQuery","saveCalculationMutation","toast","deleteCalculationMutation","handleSaveCalculation","handleLoadCalculation","item","savedResult","handleDeleteCalculation","recordId","handleExportPDF","response","blob","url","printWindow","handleReset","handleFileUpload","e","file","handleAskAI","formatCurrency","amount","historyItems","isHistoryFetching","jsxs","jsx","Link","APP_LOGO","Button","Calculator","Sparkles","Card","CardHeader","CardTitle","FileText","CardDescription","CardContent","Label","DollarSign","Input","Calendar","Separator","Select","SelectTrigger","SelectValue","SelectContent","label","SelectItem","Bot","Textarea","Upload","TrendingUp","Badge","Info","CheckCircle2","Download","Share2","Loader2","Save","ArrowRight","History","contractLabel","terminationLabel","durationLabel","createdAtLabel","Trash2"],"mappings":"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","x_google_ignoreList":[0]}