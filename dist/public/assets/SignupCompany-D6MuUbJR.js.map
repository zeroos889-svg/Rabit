{"version":3,"file":"SignupCompany-D6MuUbJR.js","sources":["../../../client/src/pages/SignupCompany.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link, useLocation } from \"wouter\";\nimport { BackButton } from \"@/components/BackButton\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Building2,\n  Mail,\n  Lock,\n  Eye,\n  EyeOff,\n  Phone,\n  User,\n  Globe,\n  Users,\n  MapPin,\n  Sparkles,\n  ShieldCheck,\n  CheckCircle2,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { trpc } from \"@/lib/trpc\";\nimport { getDashboardPath } from \"@/lib/navigation\";\n\ntype CompanyForm = {\n  companyName: string;\n  tradeNumber: string;\n  taxNumber: string;\n  industry: string;\n  companySize: string;\n  website: string;\n  location: string;\n  contactName: string;\n  jobTitle: string;\n  email: string;\n  phone: string;\n  password: string;\n  confirmPassword: string;\n  packageId?: number | null;\n};\n\nconst DRAFT_KEY = \"rabit-company-signup-draft\";\n\nconst StepCard = ({\n  title,\n  active,\n  done,\n}: {\n  title: string;\n  active: boolean;\n  done: boolean;\n}) => (\n  <div\n    className={`p-3 rounded-lg border flex items-center gap-2 text-sm ${\n      active\n        ? \"border-purple-500 bg-purple-50 text-purple-800\"\n        : done\n        ? \"border-emerald-200 bg-emerald-50 text-emerald-700\"\n        : \"border-slate-200 bg-white text-slate-600\"\n    }`}\n  >\n    {done ? (\n      <CheckCircle2 className=\"h-4 w-4\" />\n    ) : (\n      <ShieldCheck className=\"h-4 w-4\" />\n    )}\n    <span>{title}</span>\n  </div>\n);\n\nexport default function SignupCompany() {\n  const { t, i18n } = useTranslation();\n  const [, setLocation] = useLocation();\n  const isArabic = i18n.language === \"ar\";\n\n  const [formData, setFormData] = useState<CompanyForm>({\n    companyName: \"\",\n    tradeNumber: \"\",\n    taxNumber: \"\",\n    industry: \"\",\n    companySize: \"\",\n    website: \"\",\n    location: \"\",\n    contactName: \"\",\n    jobTitle: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    packageId: null,\n  });\n  const [agreements, setAgreements] = useState({\n    terms: false,\n    privacy: false,\n    marketing: false,\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentStep, setCurrentStep] = useState(0);\n\n  const { data: packagesData, isLoading: loadingPackages } =\n    trpc.consulting.getPackages.useQuery(undefined, {\n      refetchOnWindowFocus: false,\n    });\n\n  const steps = [\n    { id: 0, title: isArabic ? \"بيانات الشركة\" : \"Company info\" },\n    { id: 1, title: isArabic ? \"بيانات المسؤول\" : \"Owner details\" },\n    { id: 2, title: isArabic ? \"الباقة والمراجعة\" : \"Package & review\" },\n  ];\n\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(DRAFT_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        setFormData(parsed.formData ?? formData);\n        setAgreements(parsed.agreements ?? agreements);\n        setCurrentStep(parsed.currentStep ?? 0);\n      }\n    } catch {\n      /* ignore corrupted drafts */\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const draft = {\n      formData,\n      agreements,\n      currentStep,\n    };\n    localStorage.setItem(DRAFT_KEY, JSON.stringify(draft));\n  }, [formData, agreements, currentStep]);\n\n  useEffect(() => {\n    if (!formData.packageId && packagesData?.packages?.length) {\n      setFormData(prev => ({ ...prev, packageId: packagesData.packages[0].id }));\n    }\n  }, [formData.packageId, packagesData]);\n\n  const registerMutation = trpc.auth.register.useMutation({\n    onSuccess: (data: any) => {\n      toast.success(\n        isArabic\n          ? \"تم إنشاء حساب الشركة بنجاح\"\n          : \"Company account created successfully\"\n      );\n      localStorage.removeItem(DRAFT_KEY);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      const token = data.token || data.accessToken;\n      if (token) localStorage.setItem(\"token\", token);\n      const nextPath = getDashboardPath(data.user);\n      setTimeout(() => setLocation(nextPath), 600);\n    },\n    onError: error => {\n      toast.error(error.message || t(\"signup.error\"));\n      setIsLoading(false);\n    },\n    onSettled: () => setIsLoading(false),\n  });\n\n  const selectedPackage = useMemo(\n    () =>\n      packagesData?.packages?.find(pkg => pkg.id === formData.packageId) ||\n      null,\n    [packagesData, formData.packageId]\n  );\n\n  const validateStep = (step: number) => {\n    if (step === 0) {\n      return !!formData.companyName;\n    }\n    if (step === 1) {\n      return (\n        formData.contactName &&\n        formData.email &&\n        formData.phone &&\n        formData.password &&\n        formData.confirmPassword &&\n        formData.password === formData.confirmPassword &&\n        formData.password.length >= 8\n      );\n    }\n    if (step === 2) {\n      return agreements.terms && agreements.privacy;\n    }\n    return true;\n  };\n\n  const goNext = () => {\n    if (!validateStep(currentStep)) {\n      toast.error(\n        isArabic\n          ? \"أكمل الحقول المطلوبة في هذه الخطوة\"\n          : \"Please complete required fields\"\n      );\n      return;\n    }\n    setCurrentStep(prev => Math.min(prev + 1, steps.length - 1));\n  };\n\n  const goBack = () => setCurrentStep(prev => Math.max(prev - 1, 0));\n\n  const handleSubmit = (e?: React.FormEvent) => {\n    if (e) e.preventDefault();\n    if (!validateStep(1) || !validateStep(2)) {\n      toast.error(\n        isArabic\n          ? \"أكمل البيانات والاتفاقيات قبل المتابعة\"\n          : \"Complete data and agreements first\"\n      );\n      return;\n    }\n    setIsLoading(true);\n    registerMutation.mutate({\n      name: formData.companyName,\n      email: formData.email,\n      password: formData.password,\n      phoneNumber: formData.phone,\n      userType: \"company\",\n    });\n  };\n\n  const features = [\n    isArabic ? \"إدارة الموظفين والملفات\" : \"Employee & docs management\",\n    isArabic ? \"نظام ATS كامل\" : \"Full ATS pipeline\",\n    isArabic ? \"التذاكر والمهام\" : \"Tickets & tasks\",\n    isArabic ? \"الأدوات الذكية\" : \"Smart HR tools\",\n    isArabic ? \"تنبيهات وإشعارات\" : \"Alerts & notifications\",\n    isArabic ? \"تقارير متقدمة\" : \"Advanced analytics\",\n  ];\n\n  const renderStepContent = () => {\n    if (currentStep === 0) {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"companyName\">\n              {isArabic ? \"اسم الشركة\" : \"Company Name\"} *\n            </Label>\n            <div className=\"relative\">\n              <Building2 className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n              <Input\n                id=\"companyName\"\n                type=\"text\"\n                placeholder={\n                  isArabic\n                    ? \"شركة الموارد البشرية المتحدة\"\n                    : \"Rabit HR Solutions\"\n                }\n                className=\"pr-10\"\n                value={formData.companyName}\n                onChange={e =>\n                  setFormData({\n                    ...formData,\n                    companyName: e.target.value,\n                  })\n                }\n                disabled={isLoading}\n              />\n            </div>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"tradeNumber\">\n                {isArabic ? \"السجل التجاري\" : \"Trade license\"}\n              </Label>\n              <Input\n                id=\"tradeNumber\"\n                type=\"text\"\n                placeholder=\"1010xxxx\"\n                value={formData.tradeNumber}\n                onChange={e =>\n                  setFormData({ ...formData, tradeNumber: e.target.value })\n                }\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"taxNumber\">\n                {isArabic ? \"الرقم الضريبي\" : \"Tax number\"}\n              </Label>\n              <Input\n                id=\"taxNumber\"\n                type=\"text\"\n                placeholder=\"3xx-xxxx-xxxxxx\"\n                value={formData.taxNumber}\n                onChange={e =>\n                  setFormData({ ...formData, taxNumber: e.target.value })\n                }\n                disabled={isLoading}\n              />\n            </div>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"industry\">\n                {isArabic ? \"القطاع\" : \"Industry\"}\n              </Label>\n              <Input\n                id=\"industry\"\n                type=\"text\"\n                placeholder={\n                  isArabic\n                    ? \"تقنية / خدمات / تصنيع\"\n                    : \"Tech / Services / Manufacturing\"\n                }\n                value={formData.industry}\n                onChange={e =>\n                  setFormData({ ...formData, industry: e.target.value })\n                }\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"companySize\">\n                {isArabic ? \"حجم الشركة\" : \"Company Size\"}\n              </Label>\n              <div className=\"relative\">\n                <Users className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"companySize\"\n                  type=\"text\"\n                  placeholder={isArabic ? \"11-50 موظف\" : \"11-50 employees\"}\n                  className=\"pr-10\"\n                  value={formData.companySize}\n                  onChange={e =>\n                    setFormData({\n                      ...formData,\n                      companySize: e.target.value,\n                    })\n                  }\n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"website\">\n                {isArabic ? \"الموقع الإلكتروني\" : \"Website\"}\n              </Label>\n              <div className=\"relative\">\n                <Globe className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"website\"\n                  type=\"url\"\n                  placeholder=\"https://company.com\"\n                  className=\"pr-10\"\n                  value={formData.website}\n                  onChange={e =>\n                    setFormData({ ...formData, website: e.target.value })\n                  }\n                  disabled={isLoading}\n                  dir=\"ltr\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"location\">\n                {isArabic ? \"الموقع\" : \"Location\"}\n              </Label>\n              <div className=\"relative\">\n                <MapPin className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"location\"\n                  type=\"text\"\n                  placeholder={\n                    isArabic ? \"الرياض، السعودية\" : \"Riyadh, Saudi Arabia\"\n                  }\n                  className=\"pr-10\"\n                  value={formData.location}\n                  onChange={e =>\n                    setFormData({ ...formData, location: e.target.value })\n                  }\n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (currentStep === 1) {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"contactName\">\n              {isArabic ? \"اسم المسؤول\" : \"Contact Person\"} *\n            </Label>\n            <div className=\"relative\">\n              <User className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n              <Input\n                id=\"contactName\"\n                type=\"text\"\n                placeholder={isArabic ? \"أحمد محمد\" : \"Ahmad Mohammed\"}\n                className=\"pr-10\"\n                value={formData.contactName}\n                onChange={e =>\n                  setFormData({\n                    ...formData,\n                    contactName: e.target.value,\n                  })\n                }\n                disabled={isLoading}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"jobTitle\">\n              {isArabic ? \"المسمى الوظيفي\" : \"Job Title\"}\n            </Label>\n            <Input\n              id=\"jobTitle\"\n              type=\"text\"\n              placeholder={isArabic ? \"مدير موارد بشرية\" : \"HR Manager\"}\n              value={formData.jobTitle}\n              onChange={e =>\n                setFormData({ ...formData, jobTitle: e.target.value })\n              }\n              disabled={isLoading}\n            />\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"phone\">\n                {isArabic ? \"رقم الجوال\" : \"Phone Number\"} *\n              </Label>\n              <div className=\"relative\">\n                <Phone className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  placeholder=\"05XXXXXXXX\"\n                  className=\"pr-10\"\n                  value={formData.phone}\n                  onChange={e =>\n                    setFormData({ ...formData, phone: e.target.value })\n                  }\n                  disabled={isLoading}\n                  dir=\"ltr\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">\n                {isArabic ? \"البريد الإلكتروني\" : \"Email\"} *\n              </Label>\n              <div className=\"relative\">\n                <Mail className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"admin@company.com\"\n                  className=\"pr-10\"\n                  value={formData.email}\n                  onChange={e =>\n                    setFormData({ ...formData, email: e.target.value })\n                  }\n                  disabled={isLoading}\n                  dir=\"ltr\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">\n                {isArabic ? \"كلمة المرور\" : \"Password\"} *\n              </Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"••••••••\"\n                  className=\"pr-10 pl-10\"\n                  value={formData.password}\n                  onChange={e =>\n                    setFormData({ ...formData, password: e.target.value })\n                  }\n                  disabled={isLoading}\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute left-3 top-2.5 text-gray-500\"\n                  onClick={() => setShowPassword(prev => !prev)}\n                  aria-label={isArabic ? \"عرض كلمة المرور\" : \"Show password\"}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">\n                {isArabic ? \"تأكيد كلمة المرور\" : \"Confirm Password\"} *\n              </Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"confirmPassword\"\n                  type={showConfirmPassword ? \"text\" : \"password\"}\n                  placeholder=\"••••••••\"\n                  className=\"pr-10 pl-10\"\n                  value={formData.confirmPassword}\n                  onChange={e =>\n                    setFormData({\n                      ...formData,\n                      confirmPassword: e.target.value,\n                    })\n                  }\n                  disabled={isLoading}\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute left-3 top-2.5 text-gray-500\"\n                  onClick={() => setShowConfirmPassword(prev => !prev)}\n                  aria-label={isArabic ? \"عرض كلمة المرور\" : \"Show password\"}\n                >\n                  {showConfirmPassword ? (\n                    <EyeOff className=\"h-5 w-5\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5\" />\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"space-y-4\">\n        <div>\n          <p className=\"text-sm text-muted-foreground mb-2\">\n            {isArabic\n              ? \"اختر الباقة المناسبة. يمكن تغييرها لاحقاً من الإعدادات.\"\n              : \"Pick a package; you can switch later from settings.\"}\n          </p>\n          {loadingPackages ? (\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              {[1, 2].map(i => (\n                <Card key={i} className=\"p-4\">\n                  <Skeleton className=\"h-5 w-32 mb-2\" />\n                  <Skeleton className=\"h-4 w-24 mb-4\" />\n                  <Skeleton className=\"h-10 w-full\" />\n                </Card>\n              ))}\n            </div>\n          ) : (\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              {packagesData?.packages?.map(pkg => (\n                <Card\n                  key={pkg.id}\n                  className={`p-4 cursor-pointer border-2 ${\n                    formData.packageId === pkg.id\n                      ? \"border-purple-500 shadow\"\n                      : \"border-transparent hover:border-slate-200\"\n                  }`}\n                  onClick={() =>\n                    setFormData(prev => ({ ...prev, packageId: pkg.id }))\n                  }\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <CardTitle className=\"text-lg\">\n                        {(pkg as any).name}\n                      </CardTitle>\n                      {(pkg as any).description && (\n                        <CardDescription className=\"mt-1 text-sm\">\n                          {(pkg as any).description}\n                        </CardDescription>\n                      )}\n                    </div>\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      SLA {pkg.slaHours || 24}h\n                    </Badge>\n                  </div>\n                  <div className=\"mt-3\">\n                    <div className=\"text-2xl font-bold text-purple-700\">\n                      {(pkg as any).priceSAR ?? (pkg as any).price ?? 0} ريال\n                    </div>\n                    {(pkg as any).duration && (\n                      <p className=\"text-xs text-muted-foreground\">\n                        {isArabic ? \"مدة الجلسة\" : \"Session length\"} ~{\" \"}\n                        {(pkg as any).duration} {isArabic ? \"دقيقة\" : \"min\"}\n                      </p>\n                    )}\n                  </div>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <Separator />\n\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\n            <Checkbox\n              id=\"terms\"\n              checked={agreements.terms}\n              onCheckedChange={checked =>\n                setAgreements(prev => ({ ...prev, terms: Boolean(checked) }))\n              }\n              disabled={isLoading}\n            />\n            <Label htmlFor=\"terms\" className=\"text-sm\">\n              {isArabic\n                ? \"أوافق على الشروط والأحكام\"\n                : \"I agree to the terms and conditions\"}\n            </Label>\n          </div>\n          <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\n            <Checkbox\n              id=\"privacy\"\n              checked={agreements.privacy}\n              onCheckedChange={checked =>\n                setAgreements(prev => ({ ...prev, privacy: Boolean(checked) }))\n              }\n              disabled={isLoading}\n            />\n            <Label htmlFor=\"privacy\" className=\"text-sm\">\n              {isArabic\n                ? \"أوافق على سياسة الخصوصية\"\n                : \"I agree to the privacy policy\"}\n            </Label>\n          </div>\n          <div className=\"flex items-center space-x-2 rtl:space-x-reverse\">\n            <Checkbox\n              id=\"marketing\"\n              checked={agreements.marketing}\n              onCheckedChange={checked =>\n                setAgreements(prev => ({ ...prev, marketing: Boolean(checked) }))\n              }\n              disabled={isLoading}\n            />\n            <Label htmlFor=\"marketing\" className=\"text-sm\">\n              {isArabic\n                ? \"أرغب في استلام تحديثات وعروض\"\n                : \"I want to receive updates and offers\"}\n            </Label>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-950/40 dark:to-purple-950/40 py-12 px-4 sm:px-6 lg:px-8\">\n      <BackButton />\n\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mb-4 shadow-lg\">\n            <Building2 className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold mb-2\">\n            <span className=\"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              {isArabic ? \"إنشاء حساب شركة\" : \"Create Company Account\"}\n            </span>\n          </h1>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            {isArabic\n              ? \"رحلة بثلاث خطوات: بيانات، مسؤول، باقة — مع حفظ مسودة تلقائي.\"\n              : \"A 3-step journey: company, owner, package — with autosave.\"}\n          </p>\n          <div className=\"mt-4 flex items-center justify-center gap-4\">\n            <Badge className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n              {isArabic ? \"ابتداءً من 599 ريال/شهر\" : \"From 599 SAR/month\"}\n            </Badge>\n            <Badge variant=\"outline\">\n              {isArabic ? \"تجربة مجانية 14 يوم\" : \"14-day free trial\"}\n            </Badge>\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-6\">\n          {/* Form */}\n          <Card className=\"lg:col-span-2 shadow-xl\">\n            <CardHeader className=\"pb-2\">\n              <CardTitle>\n                {isArabic ? \"خطوات التسجيل\" : \"Sign-up steps\"}\n              </CardTitle>\n              <CardDescription>\n                {isArabic\n                  ? \"نراجع الحقول الأساسية، ثم نختار الباقة، ثم ننشئ الحساب.\"\n                  : \"We capture essentials, select a package, then create your account.\"}\n              </CardDescription>\n              <div className=\"mt-4 grid grid-cols-3 gap-3\">\n                {steps.map(step => (\n                  <StepCard\n                    key={step.id}\n                    title={step.title}\n                    active={step.id === currentStep}\n                    done={step.id < currentStep}\n                  />\n                ))}\n              </div>\n            </CardHeader>\n\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                {renderStepContent()}\n              </form>\n            </CardContent>\n\n            <div className=\"px-6 pb-6 flex items-center justify-between\">\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {isArabic ? \"سجّل للدخول؟\" : \"Already have an account?\"}{\" \"}\n                <Link href=\"/login\" className=\"text-primary hover:underline\">\n                  {isArabic ? \"تسجيل الدخول\" : \"Login\"}\n                </Link>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                {currentStep > 0 && (\n                  <Button variant=\"outline\" onClick={goBack} disabled={isLoading}>\n                    {isArabic ? \"السابق\" : \"Back\"}\n                  </Button>\n                )}\n                {currentStep < steps.length - 1 ? (\n                  <Button onClick={goNext} disabled={isLoading}>\n                    {isArabic ? \"التالي\" : \"Next\"}\n                  </Button>\n                ) : (\n                  <Button onClick={() => handleSubmit()} disabled={isLoading}>\n                    {isLoading ? (\n                      <>\n                        <Sparkles className=\"h-4 w-4 mr-2 animate-spin\" />\n                        {isArabic ? \"جاري التسجيل...\" : \"Signing up...\"}\n                      </>\n                    ) : (\n                      <>{isArabic ? \"إنشاء حساب شركة\" : \"Create Company Account\"}</>\n                    )}\n                  </Button>\n                )}\n              </div>\n            </div>\n          </Card>\n\n          {/* Sidebar */}\n          <Card className=\"shadow-xl\">\n            <CardHeader>\n              <CardTitle>\n                {isArabic ? \"لماذا رابِط للشركات؟\" : \"Why Rabit for Companies?\"}\n              </CardTitle>\n              <CardDescription>\n                {isArabic\n                  ? \"حلول متكاملة للموارد البشرية\"\n                  : \"Integrated HR solutions\"}\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center gap-3 p-3 bg-white/60 rounded-lg border\">\n                <Sparkles className=\"h-5 w-5 text-purple-600\" />\n                <div>\n                  <p className=\"font-semibold\">\n                    {isArabic ? \"تشغيل متكامل\" : \"End-to-end operations\"}\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {isArabic\n                      ? \"من التوظيف إلى نهاية الخدمة مع لوحة تحكم واحدة\"\n                      : \"From hiring to exit in one dashboard\"}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                {features.map(feature => (\n                  <div\n                    key={feature}\n                    className=\"flex items-center gap-2 text-sm text-muted-foreground\"\n                  >\n                    <div className=\"h-2 w-2 rounded-full bg-gradient-to-r from-blue-600 to-purple-600\" />\n                    <span>{feature}</span>\n                  </div>\n                ))}\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-2\">\n                <p className=\"text-sm text-muted-foreground\">\n                  {isArabic\n                    ? \"بالنقر على التسجيل، أنت توافق على\"\n                    : \"By signing up you agree to our\"}\n                </p>\n                <div className=\"flex gap-2 text-sm\">\n                  <Link\n                    href=\"/terms\"\n                    className=\"text-primary hover:underline\"\n                  >\n                    {isArabic ? \"الشروط\" : \"Terms\"}\n                  </Link>\n                  <span>•</span>\n                  <Link\n                    href=\"/privacy\"\n                    className=\"text-primary hover:underline\"\n                  >\n                    {isArabic ? \"الخصوصية\" : \"Privacy\"}\n                  </Link>\n                  <span>•</span>\n                  <Link\n                    href=\"/cookies\"\n                    className=\"text-primary hover:underline\"\n                  >\n                    {isArabic ? \"الكوكيز\" : \"Cookies\"}\n                  </Link>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["DRAFT_KEY","StepCard","title","active","done","jsxs","jsx","CheckCircle2","ShieldCheck","SignupCompany","t","i18n","useTranslation","setLocation","useLocation","isArabic","formData","setFormData","useState","agreements","setAgreements","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isLoading","setIsLoading","currentStep","setCurrentStep","packagesData","loadingPackages","trpc","steps","useEffect","saved","parsed","draft","prev","registerMutation","data","toast","token","nextPath","getDashboardPath","error","useMemo","pkg","validateStep","step","goNext","goBack","handleSubmit","e","features","renderStepContent","Label","Building2","Input","Users","Globe","MapPin","User","Phone","Mail","Lock","EyeOff","Eye","i","Card","Skeleton","CardTitle","CardDescription","Badge","Separator","Checkbox","checked","BackButton","CardHeader","CardContent","Link","Button","Fragment","Sparkles","feature"],"mappings":"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"}