{"version":3,"file":"Chat-nZoiewft.js","sources":["../../../client/src/pages/admin/Chat.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  MessageCircle,\n  Send,\n  CheckCircle2,\n  Clock,\n  User,\n  Mail,\n} from \"lucide-react\";\nimport { trpc } from \"@/lib/trpc\";\nimport { toast } from \"sonner\";\n\ntype Conversation = {\n  id: number;\n  visitorName?: string | null;\n  visitorEmail?: string | null;\n  status: \"open\" | \"closed\";\n  lastMessageAt?: string;\n};\n\ntype ChatMessage = {\n  id?: number;\n  sender?: string;\n  senderType?: string;\n  message?: string;\n  createdAt?: string | Date;\n};\n\nexport default function AdminChat() {\n  const [selectedConversationId, setSelectedConversationId] = useState<\n    number | null\n  >(null);\n  const [message, setMessage] = useState(\"\");\n\n  // جلب جميع المحادثات\n  const {\n    data: conversationsData,\n    refetch: refetchConversations,\n  } = trpc.chat.getAllConversations.useQuery(undefined, {\n    refetchInterval: 5000, // تحديث كل 5 ثواني\n  });\n  const conversations: Conversation[] = (conversationsData ?? []) as Conversation[];\n\n  // جلب رسائل المحادثة المحددة\n  const { data: messagesData, refetch: refetchMessages } =\n    trpc.chat.getMessages.useQuery(\n      { conversationId: selectedConversationId! },\n      {\n        enabled: !!selectedConversationId,\n        refetchInterval: 3000, // تحديث كل 3 ثواني\n      }\n    );\n  const messages: ChatMessage[] = (messagesData ?? []) as unknown as ChatMessage[];\n\n  // إرسال رسالة\n  const sendMessageMutation = trpc.chat.sendMessage.useMutation({\n    onSuccess: () => {\n      setMessage(\"\");\n      refetchMessages();\n      refetchConversations();\n    },\n    onError: () => {\n      toast.error(\"فشل إرسال الرسالة\");\n    },\n  });\n\n  // تحديث حالة المحادثة\n  const updateStatusMutation = trpc.chat.updateStatus.useMutation({\n    onSuccess: () => {\n      toast.success(\"تم تحديث حالة المحادثة\");\n      refetchConversations();\n    },\n    onError: () => {\n      toast.error(\"فشل تحديث الحالة\");\n    },\n  });\n\n  const handleSendMessage = () => {\n    if (!message.trim() || !selectedConversationId) return;\n\n    sendMessageMutation.mutate({\n      conversationId: selectedConversationId,\n      message: message.trim(),\n    });\n  };\n\n  const handleCloseConversation = (id: number) => {\n    updateStatusMutation.mutate({\n      id,\n      status: \"closed\",\n    });\n  };\n\n  const handleReopenConversation = (id: number) => {\n    updateStatusMutation.mutate({\n      id,\n      status: \"open\",\n    });\n  };\n\n  const selectedConversation = conversations.find(\n    c => c.id === selectedConversationId\n  );\n  const openConversations = conversations.filter(c => c.status === \"open\");\n  const closedConversations = conversations.filter(c => c.status === \"closed\");\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold\">الدردشة المباشرة</h1>\n        <p className=\"text-muted-foreground\">\n          إدارة محادثات الزوار والرد عليهم\n        </p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid md:grid-cols-3 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              المحادثات المفتوحة\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{openConversations.length}</div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              المحادثات المغلقة\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">\n              {closedConversations.length}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              إجمالي المحادثات\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{conversations.length}</div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Chat Interface */}\n      <div className=\"grid md:grid-cols-3 gap-6 h-[600px]\">\n        {/* Conversations List */}\n        <Card className=\"md:col-span-1\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MessageCircle className=\"h-5 w-5\" />\n              المحادثات\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <ScrollArea className=\"h-[500px]\">\n              {conversations.length === 0 ? (\n                <div className=\"p-6 text-center text-muted-foreground\">\n                  لا توجد محادثات\n                </div>\n              ) : (\n                <div className=\"space-y-1 p-2\">\n                  {conversations.map(conversation => (\n                    <button\n                      key={conversation.id}\n                      onClick={() => setSelectedConversationId(conversation.id)}\n                      className={`w-full text-right p-3 rounded-lg transition-colors ${\n                        selectedConversationId === conversation.id\n                          ? \"bg-primary/10 border-2 border-primary\"\n                          : \"hover:bg-gray-100 border-2 border-transparent\"\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between mb-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"h-8 w-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white text-sm\">\n                            {conversation.visitorName?.[0] || \"ز\"}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-sm\">\n                              {conversation.visitorName || \"زائر\"}\n                            </p>\n                            {conversation.visitorEmail && (\n                              <p className=\"text-xs text-muted-foreground\">\n                                {conversation.visitorEmail}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                        <Badge\n                          variant={\n                            conversation.status === \"open\"\n                              ? \"default\"\n                              : \"secondary\"\n                          }\n                        >\n                          {conversation.status === \"open\" ? \"مفتوحة\" : \"مغلقة\"}\n                        </Badge>\n                      </div>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {conversation.lastMessageAt\n                          ? new Date(conversation.lastMessageAt).toLocaleString(\n                              \"ar-SA\"\n                            )\n                          : \"--\"}\n                      </p>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </ScrollArea>\n          </CardContent>\n        </Card>\n\n        {/* Messages */}\n        <Card className=\"md:col-span-2\">\n          {selectedConversation ? (\n            <>\n              <CardHeader className=\"border-b\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white\">\n                      {selectedConversation.visitorName?.[0] || \"ز\"}\n                    </div>\n                    <div>\n                      <CardTitle className=\"text-lg\">\n                        {selectedConversation.visitorName || \"زائر\"}\n                      </CardTitle>\n                      {selectedConversation.visitorEmail && (\n                        <p className=\"text-sm text-muted-foreground flex items-center gap-1\">\n                          <Mail className=\"h-3 w-3\" />\n                          {selectedConversation.visitorEmail}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {selectedConversation.status === \"open\" ? (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() =>\n                          handleCloseConversation(selectedConversation.id)\n                        }\n                      >\n                        <CheckCircle2 className=\"h-4 w-4 ml-2\" />\n                        إغلاق المحادثة\n                      </Button>\n                    ) : (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() =>\n                          handleReopenConversation(selectedConversation.id)\n                        }\n                      >\n                        <Clock className=\"h-4 w-4 ml-2\" />\n                        إعادة فتح\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </CardHeader>\n\n              <CardContent className=\"p-0\">\n                <ScrollArea className=\"h-[400px] p-4\">\n                  {messages.length === 0 ? (\n                    <div className=\"text-center text-muted-foreground py-8\">\n                      لا توجد رسائل\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {messages.map(msg => (\n                        <div\n                          key={msg.id}\n                          className={`flex ${\n                            msg.senderType === \"admin\"\n                              ? \"justify-end\"\n                              : \"justify-start\"\n                          }`}\n                        >\n                          <div className=\"flex flex-col max-w-[70%] space-y-1\">\n                            {msg.senderType === \"assistant\" && (\n                              <span className=\"text-[10px] text-blue-500 uppercase tracking-wide\">\n                                AI\n                              </span>\n                            )}\n                            <div\n                              className={`max-w-[70%] rounded-lg px-4 py-2 ${\n                                msg.senderType === \"admin\"\n                                  ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\n                                  : msg.senderType === \"assistant\"\n                                    ? \"bg-blue-50 text-blue-900 border border-blue-100\"\n                                    : \"bg-gray-100 text-gray-900\"\n                              }`}\n                            >\n                              <p className=\"text-sm whitespace-pre-wrap\">\n                                {msg.message}\n                              </p>\n                              <p\n                                className={`text-xs mt-1 ${\n                                  msg.senderType === \"admin\"\n                                    ? \"text-white/80\"\n                                    : msg.senderType === \"assistant\"\n                                      ? \"text-blue-600\"\n                                      : \"text-gray-500\"\n                                }`}\n                              >\n                                {new Date(\n                                  msg.createdAt || new Date().toISOString()\n                                ).toLocaleTimeString(\"ar-SA\", {\n                                  hour: \"2-digit\",\n                                  minute: \"2-digit\",\n                                })}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </ScrollArea>\n\n                {selectedConversation.status === \"open\" && (\n                  <div className=\"p-4 border-t\">\n                    <div className=\"flex gap-2\">\n                      <Input\n                        placeholder=\"اكتب ردك...\"\n                        value={message}\n                        onChange={e => setMessage(e.target.value)}\n                        onKeyPress={e => {\n                          if (e.key === \"Enter\" && !e.shiftKey) {\n                            e.preventDefault();\n                            handleSendMessage();\n                          }\n                        }}\n                        disabled={sendMessageMutation.isPending}\n                      />\n                      <Button\n                        onClick={handleSendMessage}\n                        disabled={\n                          !message.trim() || sendMessageMutation.isPending\n                        }\n                        className=\"gradient-primary\"\n                      >\n                        <Send className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </>\n          ) : (\n            <div className=\"h-full flex items-center justify-center text-muted-foreground\">\n              <div className=\"text-center\">\n                <MessageCircle className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                <p>اختر محادثة للبدء</p>\n              </div>\n            </div>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["AdminChat","selectedConversationId","setSelectedConversationId","useState","message","setMessage","conversationsData","refetchConversations","trpc","conversations","messagesData","refetchMessages","messages","sendMessageMutation","toast","updateStatusMutation","handleSendMessage","handleCloseConversation","id","handleReopenConversation","selectedConversation","c","openConversations","closedConversations","jsxs","jsx","Card","CardHeader","CardTitle","CardContent","MessageCircle","ScrollArea","conversation","Badge","Fragment","Mail","Button","CheckCircle2","Clock","msg","Input","e","Send"],"mappings":"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"}