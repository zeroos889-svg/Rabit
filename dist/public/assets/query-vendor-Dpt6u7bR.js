var kr=t=>{throw TypeError(t)};var tr=(t,e,r)=>e.has(t)||kr("Cannot "+r);var u=(t,e,r)=>(tr(t,e,"read from private field"),r?r.call(t):e.get(t)),g=(t,e,r)=>e.has(t)?kr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),h=(t,e,r,n)=>(tr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),w=(t,e,r)=>(tr(t,e,"access private method"),r);var At=(t,e,r,n)=>({set _(s){h(t,e,s,r)},get _(){return u(t,e,n)}});import{r as E,j as yn,R as ns}from"./ui-vendor-C96WIwkg.js";var tt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ss={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Re,Qr,rn,is=(rn=class{constructor(){g(this,Re,ss);g(this,Qr,!1)}setTimeoutProvider(t){h(this,Re,t)}setTimeout(t,e){return u(this,Re).setTimeout(t,e)}clearTimeout(t){u(this,Re).clearTimeout(t)}setInterval(t,e){return u(this,Re).setInterval(t,e)}clearInterval(t){u(this,Re).clearInterval(t)}},Re=new WeakMap,Qr=new WeakMap,rn),Ne=new is;function os(t){setTimeout(t,0)}var Xe=typeof window>"u"||"Deno"in globalThis;function Z(){}function as(t,e){return typeof t=="function"?t(e):t}function or(t){return typeof t=="number"&&t>=0&&t!==1/0}function vn(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ke(t,e){return typeof t=="function"?t(e):t}function ce(t,e){return typeof t=="function"?t(e):t}function Ur(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Er(o,e.options))return!1}else if(!wt(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function $r(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ue(e.options.mutationKey)!==Ue(i))return!1}else if(!wt(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Er(t,e){return(e?.queryKeyHashFn||Ue)(t)}function Ue(t){return JSON.stringify(t,(e,r)=>ar(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function wt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wt(t[r],e[r])):!1}var us=Object.prototype.hasOwnProperty;function Mr(t,e){if(t===e)return t;const r=Lr(t)&&Lr(e);if(!r&&!(ar(t)&&ar(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),o=i.length,a=r?new Array(o):{};let c=0;for(let l=0;l<o;l++){const m=r?l:i[l],f=t[m],b=e[m];if(f===b){a[m]=f,(r?l<s:us.call(t,m))&&c++;continue}if(f===null||b===null||typeof f!="object"||typeof b!="object"){a[m]=b;continue}const y=Mr(f,b);a[m]=y,y===f&&c++}return s===o&&c===s?t:a}function St(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Lr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ar(t){if(!Kr(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Kr(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Kr(t){return Object.prototype.toString.call(t)==="[object Object]"}function cs(t){return new Promise(e=>{Ne.setTimeout(e,t)})}function ur(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Mr(t,e):e}function ls(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function fs(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ie=Symbol();function mn(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ie?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bn(t,e){return typeof t=="function"?t(...e):!!t}var He,Qe,it,nn,hs=(nn=class extends tt{constructor(){super();g(this,He);g(this,Qe);g(this,it);h(this,it,e=>{if(!Xe&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){u(this,Qe)||this.setEventListener(u(this,it))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Qe))==null||e.call(this),h(this,Qe,void 0))}setEventListener(e){var r;h(this,it,e),(r=u(this,Qe))==null||r.call(this),h(this,Qe,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){u(this,He)!==e&&(h(this,He,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){return typeof u(this,He)=="boolean"?u(this,He):globalThis.document?.visibilityState!=="hidden"}},He=new WeakMap,Qe=new WeakMap,it=new WeakMap,nn),Ir=new hs;function cr(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var ds=os;function ps(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=ds;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var W=ps(),ot,Ee,at,sn,ys=(sn=class extends tt{constructor(){super();g(this,ot,!0);g(this,Ee);g(this,at);h(this,at,e=>{if(!Xe&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){u(this,Ee)||this.setEventListener(u(this,at))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Ee))==null||e.call(this),h(this,Ee,void 0))}setEventListener(e){var r;h(this,at,e),(r=u(this,Ee))==null||r.call(this),h(this,Ee,e(this.setOnline.bind(this)))}setOnline(e){u(this,ot)!==e&&(h(this,ot,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return u(this,ot)}},ot=new WeakMap,Ee=new WeakMap,at=new WeakMap,sn),Wt=new ys;function vs(t){return Math.min(1e3*2**t,3e4)}function gn(t){return(t??"online")==="online"?Wt.isOnline():!0}var lr=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function On(t){let e=!1,r=0,n;const s=cr(),i=()=>s.status!=="pending",o=p=>{if(!i()){const Q=new lr(p);b(Q),t.onCancel?.(Q)}},a=()=>{e=!0},c=()=>{e=!1},l=()=>Ir.isFocused()&&(t.networkMode==="always"||Wt.isOnline())&&t.canRun(),m=()=>gn(t.networkMode)&&t.canRun(),f=p=>{i()||(n?.(),s.resolve(p))},b=p=>{i()||(n?.(),s.reject(p))},y=()=>new Promise(p=>{n=Q=>{(i()||l())&&p(Q)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),R=()=>{if(i())return;let p;const Q=r===0?t.initialPromise:void 0;try{p=Q??t.fn()}catch(q){p=Promise.reject(q)}Promise.resolve(p).then(f).catch(q=>{if(i())return;const F=t.retry??(Xe?0:3),de=t.retryDelay??vs,ge=typeof de=="function"?de(r,q):de,S=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,q);if(e||!S){b(q);return}r++,t.onFail?.(r,q),cs(ge).then(()=>l()?void 0:y()).then(()=>{e?b(q):R()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:a,continueRetry:c,canStart:m,start:()=>(m()?R():y().then(R),s)}}var We,on,Pn=(on=class{constructor(){g(this,We)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),or(this.gcTime)&&h(this,We,Ne.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xe?1/0:300*1e3))}clearGcTimeout(){u(this,We)&&(Ne.clearTimeout(u(this,We)),h(this,We,void 0))}},We=new WeakMap,on),Ge,ut,ae,ze,V,_t,Be,le,Pe,an,ms=(an=class extends Pn{constructor(e){super();g(this,le);g(this,Ge);g(this,ut);g(this,ae);g(this,ze);g(this,V);g(this,_t);g(this,Be);h(this,Be,!1),h(this,_t,e.defaultOptions),this.setOptions(e.options),this.observers=[],h(this,ze,e.client),h(this,ae,u(this,ze).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,h(this,Ge,Hr(this.options)),this.state=e.state??u(this,Ge),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return u(this,V)?.promise}setOptions(e){if(this.options={...u(this,_t),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Hr(this.options);r.data!==void 0&&(this.setState(Nr(r.data,r.dataUpdatedAt)),h(this,Ge,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,ae).remove(this)}setData(e,r){const n=ur(this.state.data,e,this.options);return w(this,le,Pe).call(this,{data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(e,r){w(this,le,Pe).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){const r=u(this,V)?.promise;return u(this,V)?.cancel(e),r?r.then(Z).catch(Z):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Ge))}isActive(){return this.observers.some(e=>ce(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ie||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ke(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vn(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),u(this,V)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),u(this,V)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,ae).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(u(this,V)&&(u(this,Be)?u(this,V).cancel({revert:!0}):u(this,V).cancelRetry()),this.scheduleGc()),u(this,ae).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||w(this,le,Pe).call(this,{type:"invalidate"})}async fetch(e,r){if(this.state.fetchStatus!=="idle"&&u(this,V)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(u(this,V))return u(this,V).continueRetry(),u(this,V).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(h(this,Be,!0),n.signal)})},i=()=>{const c=mn(this.options,r),m=(()=>{const f={client:u(this,ze),queryKey:this.queryKey,meta:this.meta};return s(f),f})();return h(this,Be,!1),this.options.persister?this.options.persister(c,m,this):c(m)},a=(()=>{const c={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:u(this,ze),state:this.state,fetchFn:i};return s(c),c})();this.options.behavior?.onFetch(a,this),h(this,ut,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&w(this,le,Pe).call(this,{type:"fetch",meta:a.fetchOptions?.meta}),h(this,V,On({initialPromise:r?.initialPromise,fn:a.fetchFn,onCancel:c=>{c instanceof lr&&c.revert&&this.setState({...u(this,ut),fetchStatus:"idle"}),n.abort()},onFail:(c,l)=>{w(this,le,Pe).call(this,{type:"failed",failureCount:c,error:l})},onPause:()=>{w(this,le,Pe).call(this,{type:"pause"})},onContinue:()=>{w(this,le,Pe).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const c=await u(this,V).start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),u(this,ae).config.onSuccess?.(c,this),u(this,ae).config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof lr){if(c.silent)return u(this,V).promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw w(this,le,Pe).call(this,{type:"error",error:c}),u(this,ae).config.onError?.(c,this),u(this,ae).config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}},Ge=new WeakMap,ut=new WeakMap,ae=new WeakMap,ze=new WeakMap,V=new WeakMap,_t=new WeakMap,Be=new WeakMap,le=new WeakSet,Pe=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xn(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Nr(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return h(this,ut,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),W.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),u(this,ae).notify({query:this,type:"updated",action:e})})},an);function xn(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gn(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Nr(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hr(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var re,M,jt,X,Je,ct,xe,Me,Ct,lt,ft,Ve,Ye,Ie,ht,T,Pt,fr,hr,dr,pr,yr,vr,mr,wn,un,qt=(un=class extends tt{constructor(e,r){super();g(this,T);g(this,re);g(this,M);g(this,jt);g(this,X);g(this,Je);g(this,ct);g(this,xe);g(this,Me);g(this,Ct);g(this,lt);g(this,ft);g(this,Ve);g(this,Ye);g(this,Ie);g(this,ht,new Set);this.options=r,h(this,re,e),h(this,Me,null),h(this,xe,cr()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,M).addObserver(this),Wr(u(this,M),this.options)?w(this,T,Pt).call(this):this.updateResult(),w(this,T,pr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return br(u(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return br(u(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,w(this,T,yr).call(this),w(this,T,vr).call(this),u(this,M).removeObserver(this)}setOptions(e){const r=this.options,n=u(this,M);if(this.options=u(this,re).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ce(this.options.enabled,u(this,M))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");w(this,T,mr).call(this),u(this,M).setOptions(this.options),r._defaulted&&!St(this.options,r)&&u(this,re).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,M),observer:this});const s=this.hasListeners();s&&Gr(u(this,M),n,this.options,r)&&w(this,T,Pt).call(this),this.updateResult(),s&&(u(this,M)!==n||ce(this.options.enabled,u(this,M))!==ce(r.enabled,u(this,M))||ke(this.options.staleTime,u(this,M))!==ke(r.staleTime,u(this,M)))&&w(this,T,fr).call(this);const i=w(this,T,hr).call(this);s&&(u(this,M)!==n||ce(this.options.enabled,u(this,M))!==ce(r.enabled,u(this,M))||i!==u(this,Ie))&&w(this,T,dr).call(this,i)}getOptimisticResult(e){const r=u(this,re).getQueryCache().build(u(this,re),e),n=this.createResult(r,e);return gs(this,n)&&(h(this,X,n),h(this,ct,this.options),h(this,Je,u(this,M).state)),n}getCurrentResult(){return u(this,X)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&u(this,xe).status==="pending"&&u(this,xe).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){u(this,ht).add(e)}getCurrentQuery(){return u(this,M)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=u(this,re).defaultQueryOptions(e),n=u(this,re).getQueryCache().build(u(this,re),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return w(this,T,Pt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,X)))}createResult(e,r){const n=u(this,M),s=this.options,i=u(this,X),o=u(this,Je),a=u(this,ct),l=e!==n?e.state:u(this,jt),{state:m}=e;let f={...m},b=!1,y;if(r._optimisticResults){const P=this.hasListeners(),j=!P&&Wr(e,r),C=P&&Gr(e,n,r,s);(j||C)&&(f={...f,...xn(m.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:R,errorUpdatedAt:p,status:Q}=f;y=f.data;let q=!1;if(r.placeholderData!==void 0&&y===void 0&&Q==="pending"){let P;i?.isPlaceholderData&&r.placeholderData===a?.placeholderData?(P=i.data,q=!0):P=typeof r.placeholderData=="function"?r.placeholderData(u(this,ft)?.state.data,u(this,ft)):r.placeholderData,P!==void 0&&(Q="success",y=ur(i?.data,P,r),b=!0)}if(r.select&&y!==void 0&&!q)if(i&&y===o?.data&&r.select===u(this,Ct))y=u(this,lt);else try{h(this,Ct,r.select),y=r.select(y),y=ur(i?.data,y,r),h(this,lt,y),h(this,Me,null)}catch(P){h(this,Me,P)}u(this,Me)&&(R=u(this,Me),y=u(this,lt),p=Date.now(),Q="error");const F=f.fetchStatus==="fetching",de=Q==="pending",ge=Q==="error",S=de&&F,x=y!==void 0,O={status:Q,fetchStatus:f.fetchStatus,isPending:de,isSuccess:Q==="success",isError:ge,isInitialLoading:S,isLoading:S,data:y,dataUpdatedAt:f.dataUpdatedAt,error:R,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:F,isRefetching:F&&!de,isLoadingError:ge&&!x,isPaused:f.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:ge&&x,isStale:qr(e,r),refetch:this.refetch,promise:u(this,xe),isEnabled:ce(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=_=>{O.status==="error"?_.reject(O.error):O.data!==void 0&&_.resolve(O.data)},j=()=>{const _=h(this,xe,O.promise=cr());P(_)},C=u(this,xe);switch(C.status){case"pending":e.queryHash===n.queryHash&&P(C);break;case"fulfilled":(O.status==="error"||O.data!==C.value)&&j();break;case"rejected":(O.status!=="error"||O.error!==C.reason)&&j();break}}return O}updateResult(){const e=u(this,X),r=this.createResult(u(this,M),this.options);if(h(this,Je,u(this,M).state),h(this,ct,this.options),u(this,Je).data!==void 0&&h(this,ft,u(this,M)),St(r,e))return;h(this,X,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!u(this,ht).size)return!0;const o=new Set(i??u(this,ht));return this.options.throwOnError&&o.add("error"),Object.keys(u(this,X)).some(a=>{const c=a;return u(this,X)[c]!==e[c]&&o.has(c)})};w(this,T,wn).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&w(this,T,pr).call(this)}},re=new WeakMap,M=new WeakMap,jt=new WeakMap,X=new WeakMap,Je=new WeakMap,ct=new WeakMap,xe=new WeakMap,Me=new WeakMap,Ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,Ve=new WeakMap,Ye=new WeakMap,Ie=new WeakMap,ht=new WeakMap,T=new WeakSet,Pt=function(e){w(this,T,mr).call(this);let r=u(this,M).fetch(this.options,e);return e?.throwOnError||(r=r.catch(Z)),r},fr=function(){w(this,T,yr).call(this);const e=ke(this.options.staleTime,u(this,M));if(Xe||u(this,X).isStale||!or(e))return;const n=vn(u(this,X).dataUpdatedAt,e)+1;h(this,Ve,Ne.setTimeout(()=>{u(this,X).isStale||this.updateResult()},n))},hr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,M)):this.options.refetchInterval)??!1},dr=function(e){w(this,T,vr).call(this),h(this,Ie,e),!(Xe||ce(this.options.enabled,u(this,M))===!1||!or(u(this,Ie))||u(this,Ie)===0)&&h(this,Ye,Ne.setInterval(()=>{(this.options.refetchIntervalInBackground||Ir.isFocused())&&w(this,T,Pt).call(this)},u(this,Ie)))},pr=function(){w(this,T,fr).call(this),w(this,T,dr).call(this,w(this,T,hr).call(this))},yr=function(){u(this,Ve)&&(Ne.clearTimeout(u(this,Ve)),h(this,Ve,void 0))},vr=function(){u(this,Ye)&&(Ne.clearInterval(u(this,Ye)),h(this,Ye,void 0))},mr=function(){const e=u(this,re).getQueryCache().build(u(this,re),this.options);if(e===u(this,M))return;const r=u(this,M);h(this,M,e),h(this,jt,e.state),this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))},wn=function(e){W.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(u(this,X))}),u(this,re).getQueryCache().notify({query:u(this,M),type:"observerResultsUpdated"})})},un);function bs(t,e){return ce(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Wr(t,e){return bs(t,e)||t.state.data!==void 0&&br(t,e,e.refetchOnMount)}function br(t,e,r){if(ce(e.enabled,t)!==!1&&ke(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&qr(t,e)}return!1}function Gr(t,e,r,n){return(t!==e||ce(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&qr(t,r)}function qr(t,e){return ce(e.enabled,t)!==!1&&t.isStaleByTime(ke(e.staleTime,t))}function gs(t,e){return!St(t.getCurrentResult(),e)}function Gt(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const f=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=mn(e.options,e.fetchOptions),y=async(R,p,Q)=>{if(m)return Promise.reject();if(p==null&&R.pages.length)return Promise.resolve(R);const F=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:p,direction:Q?"backward":"forward",meta:e.options.meta};return f(x),x})(),de=await b(F),{maxPages:ge}=e.options,S=Q?fs:ls;return{pages:S(R.pages,de,ge),pageParams:S(R.pageParams,p,ge)}};if(s&&i.length){const R=s==="backward",p=R?Sn:gr,Q={pages:i,pageParams:o},q=p(n,Q);a=await y(Q,q,R)}else{const R=t??i.length;do{const p=c===0?o[0]??n.initialPageParam:gr(n,a);if(c>0&&p==null)break;a=await y(a,p),c++}while(c<R)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=l}}}function gr(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Sn(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function Os(t,e){return e?gr(t,e)!=null:!1}function Ps(t,e){return!e||!t.getPreviousPageParam?!1:Sn(t,e)!=null}var _n=class extends qt{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Gt()})}getOptimisticResult(t){return t.behavior=Gt(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,n=super.createResult(t,e),{isFetching:s,isRefetching:i,isError:o,isRefetchError:a}=n,c=r.fetchMeta?.fetchMore?.direction,l=o&&c==="forward",m=s&&c==="forward",f=o&&c==="backward",b=s&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Os(e,r.data),hasPreviousPage:Ps(e,r.data),isFetchNextPageError:l,isFetchingNextPage:m,isFetchPreviousPageError:f,isFetchingPreviousPage:b,isRefetchError:a&&!l&&!f,isRefetching:i&&!m&&!b}}},Rt,ye,ee,Ze,ve,Ce,cn,xs=(cn=class extends Pn{constructor(e){super();g(this,ve);g(this,Rt);g(this,ye);g(this,ee);g(this,Ze);h(this,Rt,e.client),this.mutationId=e.mutationId,h(this,ee,e.mutationCache),h(this,ye,[]),this.state=e.state||jn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,ye).includes(e)||(u(this,ye).push(e),this.clearGcTimeout(),u(this,ee).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){h(this,ye,u(this,ye).filter(r=>r!==e)),this.scheduleGc(),u(this,ee).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,ye).length||(this.state.status==="pending"?this.scheduleGc():u(this,ee).remove(this))}continue(){return u(this,Ze)?.continue()??this.execute(this.state.variables)}async execute(e){const r=()=>{w(this,ve,Ce).call(this,{type:"continue"})},n={client:u(this,Rt),meta:this.options.meta,mutationKey:this.options.mutationKey};h(this,Ze,On({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,a)=>{w(this,ve,Ce).call(this,{type:"failed",failureCount:o,error:a})},onPause:()=>{w(this,ve,Ce).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,ee).canRun(this)}));const s=this.state.status==="pending",i=!u(this,Ze).canStart();try{if(s)r();else{w(this,ve,Ce).call(this,{type:"pending",variables:e,isPaused:i}),await u(this,ee).config.onMutate?.(e,this,n);const a=await this.options.onMutate?.(e,n);a!==this.state.context&&w(this,ve,Ce).call(this,{type:"pending",context:a,variables:e,isPaused:i})}const o=await u(this,Ze).start();return await u(this,ee).config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await u(this,ee).config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),w(this,ve,Ce).call(this,{type:"success",data:o}),o}catch(o){try{throw await u(this,ee).config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await u(this,ee).config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{w(this,ve,Ce).call(this,{type:"error",error:o})}}finally{u(this,ee).runNext(this)}}},Rt=new WeakMap,ye=new WeakMap,ee=new WeakMap,Ze=new WeakMap,ve=new WeakSet,Ce=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),W.batch(()=>{u(this,ye).forEach(n=>{n.onMutationUpdate(e)}),u(this,ee).notify({mutation:this,type:"updated",action:e})})},cn);function jn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var we,fe,Qt,ln,ws=(ln=class extends tt{constructor(e={}){super();g(this,we);g(this,fe);g(this,Qt);this.config=e,h(this,we,new Set),h(this,fe,new Map),h(this,Qt,0)}build(e,r,n){const s=new xs({client:e,mutationCache:this,mutationId:++At(this,Qt)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){u(this,we).add(e);const r=kt(e);if(typeof r=="string"){const n=u(this,fe).get(r);n?n.push(e):u(this,fe).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,we).delete(e)){const r=kt(e);if(typeof r=="string"){const n=u(this,fe).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&u(this,fe).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=kt(e);if(typeof r=="string"){const s=u(this,fe).get(r)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const r=kt(e);return typeof r=="string"?u(this,fe).get(r)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){W.batch(()=>{u(this,we).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,we).clear(),u(this,fe).clear()})}getAll(){return Array.from(u(this,we))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>$r(r,n))}findAll(e={}){return this.getAll().filter(r=>$r(e,r))}notify(e){W.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return W.batch(()=>Promise.all(e.map(r=>r.continue().catch(Z))))}},we=new WeakMap,fe=new WeakMap,Qt=new WeakMap,ln);function kt(t){return t.options.scope?.id}var Se,qe,ne,_e,je,Kt,Or,fn,Ss=(fn=class extends tt{constructor(e,r){super();g(this,je);g(this,Se);g(this,qe);g(this,ne);g(this,_e);h(this,Se,e),this.setOptions(r),this.bindMethods(),w(this,je,Kt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=u(this,Se).defaultMutationOptions(e),St(this.options,r)||u(this,Se).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,ne),observer:this}),r?.mutationKey&&this.options.mutationKey&&Ue(r.mutationKey)!==Ue(this.options.mutationKey)?this.reset():u(this,ne)?.state.status==="pending"&&u(this,ne).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||u(this,ne)?.removeObserver(this)}onMutationUpdate(e){w(this,je,Kt).call(this),w(this,je,Or).call(this,e)}getCurrentResult(){return u(this,qe)}reset(){u(this,ne)?.removeObserver(this),h(this,ne,void 0),w(this,je,Kt).call(this),w(this,je,Or).call(this)}mutate(e,r){return h(this,_e,r),u(this,ne)?.removeObserver(this),h(this,ne,u(this,Se).getMutationCache().build(u(this,Se),this.options)),u(this,ne).addObserver(this),u(this,ne).execute(e)}},Se=new WeakMap,qe=new WeakMap,ne=new WeakMap,_e=new WeakMap,je=new WeakSet,Kt=function(){const e=u(this,ne)?.state??jn();h(this,qe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Or=function(e){W.batch(()=>{if(u(this,_e)&&this.hasListeners()){const r=u(this,qe).variables,n=u(this,qe).context,s={client:u(this,Se),meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(u(this,_e).onSuccess?.(e.data,r,n,s),u(this,_e).onSettled?.(e.data,null,r,n,s)):e?.type==="error"&&(u(this,_e).onError?.(e.error,r,n,s),u(this,_e).onSettled?.(void 0,e.error,r,n,s))}this.listeners.forEach(r=>{r(u(this,qe))})})},fn);function zr(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function _s(t,e,r){const n=t.slice(0);return n[e]=r,n}var dt,se,pt,yt,ue,De,Et,Mt,It,Y,Pr,xr,wr,Sr,_r,hn,js=(hn=class extends tt{constructor(e,r,n){super();g(this,Y);g(this,dt);g(this,se);g(this,pt);g(this,yt);g(this,ue);g(this,De);g(this,Et);g(this,Mt);g(this,It,[]);h(this,dt,e),h(this,yt,n),h(this,pt,[]),h(this,ue,[]),h(this,se,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&u(this,ue).forEach(e=>{e.subscribe(r=>{w(this,Y,Sr).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,u(this,ue).forEach(e=>{e.destroy()})}setQueries(e,r){h(this,pt,e),h(this,yt,r),W.batch(()=>{const n=u(this,ue),s=w(this,Y,wr).call(this,u(this,pt));h(this,It,s),s.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions));const i=s.map(f=>f.observer),o=i.map(f=>f.getCurrentResult()),a=n.length!==i.length,c=i.some((f,b)=>f!==n[b]),l=a||c,m=l?!0:o.some((f,b)=>{const y=u(this,se)[b];return!y||!St(f,y)});!l&&!m||(l&&h(this,ue,i),h(this,se,o),this.hasListeners()&&(l&&(zr(n,i).forEach(f=>{f.destroy()}),zr(i,n).forEach(f=>{f.subscribe(b=>{w(this,Y,Sr).call(this,f,b)})})),w(this,Y,_r).call(this)))})}getCurrentResult(){return u(this,se)}getQueries(){return u(this,ue).map(e=>e.getCurrentQuery())}getObservers(){return u(this,ue)}getOptimisticResult(e,r){const n=w(this,Y,wr).call(this,e),s=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>w(this,Y,xr).call(this,i??s,r),()=>w(this,Y,Pr).call(this,s,n)]}},dt=new WeakMap,se=new WeakMap,pt=new WeakMap,yt=new WeakMap,ue=new WeakMap,De=new WeakMap,Et=new WeakMap,Mt=new WeakMap,It=new WeakMap,Y=new WeakSet,Pr=function(e,r){return r.map((n,s)=>{const i=e[s];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,o=>{r.forEach(a=>{a.observer.trackProp(o)})})})},xr=function(e,r){return r?((!u(this,De)||u(this,se)!==u(this,Mt)||r!==u(this,Et))&&(h(this,Et,r),h(this,Mt,u(this,se)),h(this,De,Mr(u(this,De),r(e)))),u(this,De)):e},wr=function(e){const r=new Map(u(this,ue).map(s=>[s.options.queryHash,s])),n=[];return e.forEach(s=>{const i=u(this,dt).defaultQueryOptions(s),o=r.get(i.queryHash);o?n.push({defaultedQueryOptions:i,observer:o}):n.push({defaultedQueryOptions:i,observer:new qt(u(this,dt),i)})}),n},Sr=function(e,r){const n=u(this,ue).indexOf(e);n!==-1&&(h(this,se,_s(u(this,se),n,r)),w(this,Y,_r).call(this))},_r=function(){if(this.hasListeners()){const e=u(this,De),r=w(this,Y,Pr).call(this,u(this,se),u(this,It)),n=w(this,Y,xr).call(this,r,u(this,yt)?.combine);e!==n&&W.batch(()=>{this.listeners.forEach(s=>{s(u(this,se))})})}},hn),me,dn,Cs=(dn=class extends tt{constructor(e={}){super();g(this,me);this.config=e,h(this,me,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Er(s,r);let o=this.get(i);return o||(o=new ms({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){u(this,me).has(e.queryHash)||(u(this,me).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=u(this,me).get(e.queryHash);r&&(e.destroy(),r===e&&u(this,me).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){W.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,me).get(e)}getAll(){return[...u(this,me).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ur(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Ur(e,n)):r}notify(e){W.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){W.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){W.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},me=new WeakMap,dn),H,Te,Fe,vt,mt,Ae,bt,gt,pn,oo=(pn=class{constructor(t={}){g(this,H);g(this,Te);g(this,Fe);g(this,vt);g(this,mt);g(this,Ae);g(this,bt);g(this,gt);h(this,H,t.queryCache||new Cs),h(this,Te,t.mutationCache||new ws),h(this,Fe,t.defaultOptions||{}),h(this,vt,new Map),h(this,mt,new Map),h(this,Ae,0)}mount(){At(this,Ae)._++,u(this,Ae)===1&&(h(this,bt,Ir.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,H).onFocus())})),h(this,gt,Wt.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,H).onOnline())})))}unmount(){var t,e;At(this,Ae)._--,u(this,Ae)===0&&((t=u(this,bt))==null||t.call(this),h(this,bt,void 0),(e=u(this,gt))==null||e.call(this),h(this,gt,void 0))}isFetching(t){return u(this,H).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return u(this,Te).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return u(this,H).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=u(this,H).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ke(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return u(this,H).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=u(this,H).get(n.queryHash)?.state.data,o=as(e,i);if(o!==void 0)return u(this,H).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return W.batch(()=>u(this,H).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return u(this,H).get(e.queryHash)?.state}removeQueries(t){const e=u(this,H);W.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=u(this,H);return W.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=W.batch(()=>u(this,H).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Z).catch(Z)}invalidateQueries(t,e={}){return W.batch(()=>(u(this,H).findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=W.batch(()=>u(this,H).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Z)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Z)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=u(this,H).build(this,e);return r.isStaleByTime(ke(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Z).catch(Z)}fetchInfiniteQuery(t){return t.behavior=Gt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Z).catch(Z)}ensureInfiniteQueryData(t){return t.behavior=Gt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wt.isOnline()?u(this,Te).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,H)}getMutationCache(){return u(this,Te)}getDefaultOptions(){return u(this,Fe)}setDefaultOptions(t){h(this,Fe,t)}setQueryDefaults(t,e){u(this,vt).set(Ue(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...u(this,vt).values()],r={};return e.forEach(n=>{wt(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){u(this,mt).set(Ue(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...u(this,mt).values()],r={};return e.forEach(n=>{wt(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...u(this,Fe).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Er(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ie&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...u(this,Fe).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){u(this,H).clear(),u(this,Te).clear()}},H=new WeakMap,Te=new WeakMap,Fe=new WeakMap,vt=new WeakMap,mt=new WeakMap,Ae=new WeakMap,bt=new WeakMap,gt=new WeakMap,pn),Cn=E.createContext(void 0),Dt=t=>{const e=E.useContext(Cn);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ao=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),yn.jsx(Cn.Provider,{value:t,children:e})),Rn=E.createContext(!1),Qn=()=>E.useContext(Rn);Rn.Provider;function Rs(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Qs=E.createContext(Rs()),En=()=>E.useContext(Qs),Mn=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},In=t=>{E.useEffect(()=>{t.clearReset()},[t])},qn=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||bn(r,[t.error,n])),Dr=(t,e)=>e.state.data===void 0,Dn=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Tn=(t,e)=>t.isLoading&&t.isFetching&&!e,jr=(t,e)=>t?.suspense&&e.isPending,zt=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Fn({queries:t,...e},r){const n=Dt(r),s=Qn(),i=En(),o=E.useMemo(()=>t.map(p=>{const Q=n.defaultQueryOptions(p);return Q._optimisticResults=s?"isRestoring":"optimistic",Q}),[t,n,s]);o.forEach(p=>{Dn(p),Mn(p,i)}),In(i);const[a]=E.useState(()=>new js(n,o,e)),[c,l,m]=a.getOptimisticResult(o,e.combine),f=!s&&e.subscribed!==!1;E.useSyncExternalStore(E.useCallback(p=>f?a.subscribe(W.batchCalls(p)):Z,[a,f]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setQueries(o,e)},[o,e,a]);const y=c.some((p,Q)=>jr(o[Q],p))?c.flatMap((p,Q)=>{const q=o[Q];if(q){const F=new qt(n,q);if(jr(q,p))return zt(q,F,i);Tn(p,s)&&zt(q,F,i)}return[]}):[];if(y.length>0)throw Promise.all(y);const R=c.find((p,Q)=>{const q=o[Q];return q&&qn({result:p,errorResetBoundary:i,throwOnError:q.throwOnError,query:n.getQueryCache().get(q.queryHash),suspense:q.suspense})});if(R?.error)throw R.error;return l(m())}function Jt(t,e,r){const n=Qn(),s=En(),i=Dt(r),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Dn(o),Mn(o,s),In(s);const a=!i.getQueryCache().get(o.queryHash),[c]=E.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),m=!n&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(f=>{const b=m?c.subscribe(W.batchCalls(f)):Z;return c.updateResult(),b},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(o)},[o,c]),jr(o,l))throw zt(o,c,s);if(qn({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,l),o.experimental_prefetchInRender&&!Xe&&Tn(l,n)&&(a?zt(o,c,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Z).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?l:c.trackResult(l)}function Es(t,e){return Jt(t,qt,e)}function Ms(t,e){return Jt({...t,enabled:!0,suspense:!0,throwOnError:Dr,placeholderData:void 0},qt,e)}function Is(t,e){return Jt({...t,enabled:!0,suspense:!0,throwOnError:Dr},_n,e)}function qs(t,e){return Fn({...t,queries:t.queries.map(r=>({...r,suspense:!0,throwOnError:Dr,enabled:!0,placeholderData:void 0}))},e)}function Ds(t,e){const r=Dt(e);r.getQueryState(t.queryKey)||r.prefetchQuery(t)}function Ts(t,e){const r=Dt(e);r.getQueryState(t.queryKey)||r.prefetchInfiniteQuery(t)}function Fs(t,e){const r=Dt(e),[n]=E.useState(()=>new Ss(r,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const s=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(W.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((o,a)=>{n.mutate(o,a).catch(Z)},[n]);if(s.error&&bn(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function As(t,e){return Jt(t,_n,e)}function et(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}const ks=typeof Symbol=="function"&&!!Symbol.asyncIterator;function An(t){return ks&&et(t)&&Symbol.asyncIterator in t}var Us=Object.create,kn=Object.defineProperty,$s=Object.getOwnPropertyDescriptor,Un=Object.getOwnPropertyNames,Ls=Object.getPrototypeOf,Ks=Object.prototype.hasOwnProperty,Tt=(t,e)=>function(){return e||(0,t[Un(t)[0]])((e={exports:{}}).exports,e),e.exports},Ns=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(var s=Un(e),i=0,o=s.length,a;i<o;i++)a=s[i],!Ks.call(t,a)&&a!==r&&kn(t,a,{get:(c=>e[c]).bind(null,a),enumerable:!(n=$s(e,a))||n.enumerable});return t},Vt=(t,e,r)=>(r=t!=null?Us(Ls(t)):{},Ns(kn(r,"default",{value:t,enumerable:!0}),t));const $n=()=>{},Br=t=>{Object.freeze&&Object.freeze(t)};function Ln(t,e,r){var n;const s=e.join(".");return(n=r[s])!==null&&n!==void 0||(r[s]=new Proxy($n,{get(i,o){if(!(typeof o!="string"||o==="then"))return Ln(t,[...e,o],r)},apply(i,o,a){const c=e[e.length-1];let l={args:a,path:e};return c==="call"?l={args:a.length>=2?[a[1]]:[],path:e.slice(0,-1)}:c==="apply"&&(l={args:a.length>=2?a[1]:[],path:e.slice(0,-1)}),Br(l.args),Br(l.path),t(l)}})),r[s]}const Yt=t=>Ln(t,[],Object.create(null)),Tr=t=>new Proxy($n,{get(e,r){if(r!=="then")return t(r)}});var Kn=Tt({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function r(n){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,r(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),Hs=Tt({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var r=Kn().default;function n(s,i){if(r(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Ws=Tt({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var r=Kn().default,n=Hs();function s(i){var o=n(i,"string");return r(o)=="symbol"?o:o+""}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),Nn=Tt({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var r=Ws();function n(s,i,o){return(i=r(i))in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Fr=Tt({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var r=Nn();function n(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);o&&(c=c.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,c)}return a}function s(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?n(Object(a),!0).forEach(function(c){r(i,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(a,c))})}return i}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}});Vt(Fr());Vt(Nn());var Ut=Vt(Fr());function Gs(t,e){if("error"in t){const n=e.deserialize(t.error);return{ok:!1,error:(0,Ut.default)((0,Ut.default)({},t),{},{error:n})}}return{ok:!0,result:(0,Ut.default)((0,Ut.default)({},t.result),(!t.result.type||t.result.type==="data")&&{type:"data",data:e.deserialize(t.result.data)})}}var rr=class extends Error{constructor(){super("Unable to transform response from server")}};function zs(t,e){let r;try{r=Gs(t,e)}catch{throw new rr}if(!r.ok&&(!et(r.error.error)||typeof r.error.error.code!="number"))throw new rr;if(r.ok&&!et(r.result))throw new rr;return r}Vt(Fr());function Zt(t){const e={subscribe(r){let n=null,s=!1,i=!1,o=!1;function a(){if(n===null){o=!0;return}i||(i=!0,typeof n=="function"?n():n&&n.unsubscribe())}return n=t({next(c){var l;s||(l=r.next)===null||l===void 0||l.call(r,c)},error(c){var l;s||(s=!0,(l=r.error)===null||l===void 0||l.call(r,c),a())},complete(){var c;s||(s=!0,(c=r.complete)===null||c===void 0||c.call(r),a())}}),o&&a(),{unsubscribe:a}},pipe(...r){return r.reduce(Bs,e)}};return e}function Bs(t,e){return e(t)}function Js(t){const e=new AbortController;return new Promise((n,s)=>{let i=!1;function o(){i||(i=!0,a.unsubscribe())}e.signal.addEventListener("abort",()=>{s(e.signal.reason)});const a=t.subscribe({next(c){i=!0,n(c),o()},error(c){s(c)},complete(){e.abort(),o()}})})}var Vs=Object.create,Hn=Object.defineProperty,Ys=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,Zs=Object.getPrototypeOf,Xs=Object.prototype.hasOwnProperty,$e=(t,e)=>function(){return e||(0,t[Wn(t)[0]])((e={exports:{}}).exports,e),e.exports},ei=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(var s=Wn(e),i=0,o=s.length,a;i<o;i++)a=s[i],!Xs.call(t,a)&&a!==r&&Hn(t,a,{get:(c=>e[c]).bind(null,a),enumerable:!(n=Ys(e,a))||n.enumerable});return t},rt=(t,e,r)=>(r=t!=null?Vs(Zs(t)):{},ei(e||!t||!t.__esModule?Hn(r,"default",{value:t,enumerable:!0}):r,t)),ti=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(t,e){function r(n,s){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(s.includes(o))continue;i[o]=n[o]}return i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),ri=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(t,e){var r=ti();function n(s,i){if(s==null)return{};var o,a,c=r(s,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(a=0;a<l.length;a++)o=l[a],i.includes(o)||{}.propertyIsEnumerable.call(s,o)&&(c[o]=s[o])}return c}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Gn=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function r(n){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,r(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),ni=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var r=Gn().default;function n(s,i){if(r(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),si=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var r=Gn().default,n=ni();function s(i){var o=n(i,"string");return r(o)=="symbol"?o:o+""}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),ii=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var r=si();function n(s,i,o){return(i=r(i))in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Ft=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var r=ii();function n(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);o&&(c=c.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,c)}return a}function s(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?n(Object(a),!0).forEach(function(c){r(i,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(a,c))})}return i}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),oi=rt(ri(),1),Jr=rt(Ft(),1);const ai=["cursor","direction"];function pe(t,e,r){const n=t.flatMap(s=>s.split("."));if(!e&&(!r||r==="any"))return n.length?[n]:[];if(r==="infinite"&&et(e)&&("direction"in e||"cursor"in e)){const{cursor:s,direction:i}=e,o=(0,oi.default)(e,ai);return[n,{input:o,type:"infinite"}]}return[n,(0,Jr.default)((0,Jr.default)({},typeof e<"u"&&e!==ie&&{input:e}),r&&r!=="any"&&{type:r})]}function Nt(t){return pe(t,void 0,"any")}var ui=Object.create,zn=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,Bn=Object.getOwnPropertyNames,li=Object.getPrototypeOf,fi=Object.prototype.hasOwnProperty,be=(t,e)=>function(){return e||(0,t[Bn(t)[0]])((e={exports:{}}).exports,e),e.exports},hi=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(var s=Bn(e),i=0,o=s.length,a;i<o;i++)a=s[i],!fi.call(t,a)&&a!==r&&zn(t,a,{get:(c=>e[c]).bind(null,a),enumerable:!(n=ci(e,a))||n.enumerable});return t},G=(t,e,r)=>(r=t!=null?ui(li(t)):{},hi(zn(r,"default",{value:t,enumerable:!0}),t)),Jn=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function r(n){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,r(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),di=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var r=Jn().default;function n(s,i){if(r(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,i||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),pi=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var r=Jn().default,n=di();function s(i){var o=n(i,"string");return r(o)=="symbol"?o:o+""}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),nt=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var r=pi();function n(s,i,o){return(i=r(i))in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),he=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var r=nt();function n(i,o){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);o&&(c=c.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,c)}return a}function s(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?n(Object(a),!0).forEach(function(c){r(i,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(a,c))})}return i}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}});function yi(t){return e=>{let r=0,n=null;const s=[];function i(){n||(n=e.subscribe({next(a){for(const l of s){var c;(c=l.next)===null||c===void 0||c.call(l,a)}},error(a){for(const l of s){var c;(c=l.error)===null||c===void 0||c.call(l,a)}},complete(){for(const c of s){var a;(a=c.complete)===null||a===void 0||a.call(c)}}}))}function o(){if(r===0&&n){const a=n;n=null,a.unsubscribe()}}return Zt(a=>(r++,s.push(a),i(),{unsubscribe(){r--,o();const c=s.findIndex(l=>l===a);c>-1&&s.splice(c,1)}}))}}function vi(t){let e=t;const r=[],n=o=>{e!==void 0&&o.next(e),r.push(o)},s=o=>{r.splice(r.indexOf(o),1)},i=Zt(o=>(n(o),()=>{s(o)}));return i.next=o=>{if(e!==o){e=o;for(const a of r)a.next(o)}},i.get=()=>e,i}function mi(t){return Zt(e=>{function r(s=0,i=t.op){const o=t.links[s];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:i,next(c){return r(s+1,c)}})}return r().subscribe(e)})}var $t=G(nt()),st=G(he());function bi(t){return t instanceof Bt}function gi(t){return et(t)&&et(t.error)&&typeof t.error.code=="number"&&typeof t.error.message=="string"}function Oi(t,e){return typeof t=="string"?t:et(t)&&typeof t.message=="string"?t.message:e}var Bt=class Ht extends Error{constructor(e,r){var n,s;const i=r?.cause;super(e,{cause:i}),(0,$t.default)(this,"cause",void 0),(0,$t.default)(this,"shape",void 0),(0,$t.default)(this,"data",void 0),(0,$t.default)(this,"meta",void 0),this.meta=r?.meta,this.cause=i,this.shape=r==null||(n=r.result)===null||n===void 0?void 0:n.error,this.data=r==null||(s=r.result)===null||s===void 0?void 0:s.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,Ht.prototype)}static from(e,r={}){const n=e;return bi(n)?(r.meta&&(n.meta=(0,st.default)((0,st.default)({},n.meta),r.meta)),n):gi(n)?new Ht(n.error.message,(0,st.default)((0,st.default)({},r),{},{result:n})):new Ht(Oi(n,"Unknown error"),(0,st.default)((0,st.default)({},r),{},{cause:n}))}};function Pi(t){const e=t;return e?"input"in e?e:{input:e,output:e}:{input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}}}const Vr=t=>typeof t=="function";function xi(t){if(t)return t;if(typeof window<"u"&&Vr(window.fetch))return window.fetch;if(typeof globalThis<"u"&&Vr(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var xt=G(he());function wi(t){return{url:t.url.toString(),fetch:t.fetch,transformer:Pi(t.transformer),methodOverride:t.methodOverride}}function Si(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[r]=n}return e}const _i={query:"GET",mutation:"POST",subscription:"PATCH"};function Vn(t){return"input"in t?t.transformer.input.serialize(t.input):Si(t.inputs.map(e=>t.transformer.input.serialize(e)))}const Yn=t=>{const e=t.url.split("?");let n=e[0].replace(/\/$/,"")+"/"+t.path;const s=[];if(e[1]&&s.push(e[1]),"inputs"in t&&s.push("batch=1"),t.type==="query"||t.type==="subscription"){const i=Vn(t);i!==void 0&&t.methodOverride!=="POST"&&s.push(`input=${encodeURIComponent(JSON.stringify(i))}`)}return s.length&&(n+="?"+s.join("&")),n},ji=t=>{if(t.type==="query"&&t.methodOverride!=="POST")return;const e=Vn(t);return e!==void 0?JSON.stringify(e):void 0},Ci=t=>Mi((0,xt.default)((0,xt.default)({},t),{},{contentTypeHeader:"application/json",getUrl:Yn,getBody:ji}));var Ri=class extends Error{constructor(){const t="AbortError";super(t),this.name=t,this.message=t}};const Qi=t=>{var e;if(t?.aborted)throw(e=t.throwIfAborted)===null||e===void 0||e.call(t),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new Ri};async function Ei(t){var e;Qi(t.signal);const r=t.getUrl(t),n=t.getBody(t),s=(e=t.methodOverride)!==null&&e!==void 0?e:_i[t.type],i=await(async()=>{const a=await t.headers();return Symbol.iterator in a?Object.fromEntries(a):a})(),o=(0,xt.default)((0,xt.default)((0,xt.default)({},t.contentTypeHeader&&s!=="GET"?{"content-type":t.contentTypeHeader}:{}),t.trpcAcceptHeader?{"trpc-accept":t.trpcAcceptHeader}:void 0),i);return xi(t.fetch)(r,{method:s,signal:t.signal,body:n,headers:o})}async function Mi(t){const e={},r=await Ei(t);e.response=r;const n=await r.json();return e.responseJSON=n,{json:n,meta:e}}G(he());const Yr=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function Zr(t){let e=null,r=null;const n=()=>{clearTimeout(r),r=null,e=null};function s(a){const c=[[]];let l=0;for(;;){const b=a[l];if(!b)break;const y=c[c.length-1];if(b.aborted){var m;(m=b.reject)===null||m===void 0||m.call(b,new Error("Aborted")),l++;continue}if(t.validate(y.concat(b).map(p=>p.key))){y.push(b),l++;continue}if(y.length===0){var f;(f=b.reject)===null||f===void 0||f.call(b,new Error("Input is too big for a single dispatch")),l++;continue}c.push([])}return c}function i(){const a=s(e);n();for(const c of a){if(!c.length)continue;const l={items:c};for(const f of c)f.batch=l;t.fetch(l.items.map(f=>f.key)).then(async f=>{await Promise.all(f.map(async(y,R)=>{const p=l.items[R];try{var Q;const F=await Promise.resolve(y);(Q=p.resolve)===null||Q===void 0||Q.call(p,F)}catch(F){var q;(q=p.reject)===null||q===void 0||q.call(p,F)}p.batch=null,p.reject=null,p.resolve=null}));for(const y of l.items){var b;(b=y.reject)===null||b===void 0||b.call(y,new Error("Missing result")),y.batch=null}}).catch(f=>{for(const y of l.items){var b;(b=y.reject)===null||b===void 0||b.call(y,f),y.batch=null}})}}function o(a){var c;const l={aborted:!1,key:a,batch:null,resolve:Yr,reject:Yr},m=new Promise((f,b)=>{var y;l.reject=b,l.resolve=f,(y=e)!==null&&y!==void 0||(e=[]),e.push(l)});return(c=r)!==null&&c!==void 0||(r=setTimeout(i)),m}return{load:o}}function Ii(...t){const e=new AbortController,r=t.length;let n=0;const s=()=>{++n===r&&e.abort()};for(const i of t)i?.aborted?s():i?.addEventListener("abort",s,{once:!0});return e.signal}var Lt=G(he());function uo(t){var e,r;const n=wi(t),s=(e=t.maxURLLength)!==null&&e!==void 0?e:1/0,i=(r=t.maxItems)!==null&&r!==void 0?r:1/0;return()=>{const o=m=>({validate(f){if(s===1/0&&i===1/0)return!0;if(f.length>i)return!1;const b=f.map(p=>p.path).join(","),y=f.map(p=>p.input);return Yn((0,Lt.default)((0,Lt.default)({},n),{},{type:m,path:b,inputs:y,signal:null})).length<=s},async fetch(f){const b=f.map(F=>F.path).join(","),y=f.map(F=>F.input),R=Ii(...f.map(F=>F.signal)),p=await Ci((0,Lt.default)((0,Lt.default)({},n),{},{path:b,inputs:y,type:m,headers(){return t.headers?typeof t.headers=="function"?t.headers({opList:f}):t.headers:{}},signal:R}));return(Array.isArray(p.json)?p.json:f.map(()=>p.json)).map(F=>({meta:p.meta,json:F}))}}),a=Zr(o("query")),c=Zr(o("mutation")),l={query:a,mutation:c};return({op:m})=>Zt(f=>{/* istanbul ignore if -- @preserve */if(m.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const y=l[m.type].load(m);let R;return y.then(p=>{R=p;const Q=zs(p.json,n.transformer.output);if(!Q.ok){f.error(Bt.from(Q.error,{meta:p.meta}));return}f.next({context:p.meta,result:Q.result}),f.complete()}).catch(p=>{f.error(Bt.from(p,{meta:R?.meta}))}),()=>{}})}}G(he());const Zn=(t,...e)=>typeof t=="function"?t(...e):t;G(nt());function qi(){let t,e;return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}async function Di(t){const e=await Zn(t.url);if(!t.connectionParams)return e;const n=`${e.includes("?")?"&":"?"}connectionParams=1`;return e+n}async function Ti(t){const e={method:"connectionParams",data:await Zn(t)};return JSON.stringify(e)}G(nt());var Ke=G(nt());function Fi(t){const{promise:e,resolve:r,reject:n}=qi();return t.addEventListener("open",()=>{t.removeEventListener("error",n),r()}),t.addEventListener("error",n),e}function Ai(t,{intervalMs:e,pongTimeoutMs:r}){let n,s;function i(){n=setTimeout(()=>{t.send("PING"),s=setTimeout(()=>{t.close()},r)},e)}function o(){clearTimeout(n),i()}function a(){clearTimeout(s),o()}t.addEventListener("open",i),t.addEventListener("message",({data:c})=>{clearTimeout(n),i(),c==="PONG"&&a()}),t.addEventListener("close",()=>{clearTimeout(n),clearTimeout(s)})}var ki=class Cr{constructor(e){var r;if((0,Ke.default)(this,"id",++Cr.connectCount),(0,Ke.default)(this,"WebSocketPonyfill",void 0),(0,Ke.default)(this,"urlOptions",void 0),(0,Ke.default)(this,"keepAliveOpts",void 0),(0,Ke.default)(this,"wsObservable",vi(null)),(0,Ke.default)(this,"openPromise",null),this.WebSocketPonyfill=(r=e.WebSocketPonyfill)!==null&&r!==void 0?r:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=e.urlOptions,this.keepAliveOpts=e.keepAlive}get ws(){return this.wsObservable.get()}set ws(e){this.wsObservable.next(e)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var e=this;if(e.openPromise)return e.openPromise;e.id=++Cr.connectCount;const r=Di(e.urlOptions).then(n=>new e.WebSocketPonyfill(n));e.openPromise=r.then(async n=>{e.ws=n,n.addEventListener("message",function({data:s}){s==="PING"&&this.send("PONG")}),e.keepAliveOpts.enabled&&Ai(n,e.keepAliveOpts),n.addEventListener("close",()=>{e.ws===n&&(e.ws=null)}),await Fi(n),e.urlOptions.connectionParams&&n.send(await Ti(e.urlOptions.connectionParams))});try{await e.openPromise}finally{e.openPromise=null}}async close(){var e=this;try{await e.openPromise}finally{var r;(r=e.ws)===null||r===void 0||r.close()}}};(0,Ke.default)(ki,"connectCount",0);G(nt());G(he());var nr=G(nt()),Xr=G(he()),Xt=class{constructor(t){(0,nr.default)(this,"links",void 0),(0,nr.default)(this,"runtime",void 0),(0,nr.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=t.links.map(e=>e(this.runtime))}$request(t){var e;return mi({links:this.links,op:(0,Xr.default)((0,Xr.default)({},t),{},{context:(e=t.context)!==null&&e!==void 0?e:{},id:++this.requestId})}).pipe(yi())}async requestAsPromise(t){var e=this;try{const r=e.$request(t);return(await Js(r)).result.data}catch(r){throw Bt.from(r)}}query(t,e,r){return this.requestAsPromise({type:"query",path:t,input:e,context:r?.context,signal:r?.signal})}mutation(t,e,r){return this.requestAsPromise({type:"mutation",path:t,input:e,context:r?.context,signal:r?.signal})}subscription(t,e,r){return this.$request({type:"subscription",path:t,input:e,context:r.context,signal:r.signal}).subscribe({next(s){switch(s.result.type){case"state":{var i;(i=r.onConnectionStateChange)===null||i===void 0||i.call(r,s.result);break}case"started":{var o;(o=r.onStarted)===null||o===void 0||o.call(r,{context:s.context});break}case"stopped":{var a;(a=r.onStopped)===null||a===void 0||a.call(r);break}case"data":case void 0:{var c;(c=r.onData)===null||c===void 0||c.call(r,s.result.data);break}}},error(s){var i;(i=r.onError)===null||i===void 0||i.call(r,s)},complete(){var s;(s=r.onComplete)===null||s===void 0||s.call(r)}})}};const Xn=Symbol.for("trpc_untypedClient"),Ui={query:"query",mutate:"mutation",subscribe:"subscription"},$i=t=>Ui[t];function es(t){const e=Yt(({path:r,args:n})=>{const s=[...r],i=$i(s.pop()),o=s.join(".");return t[i](o,...n)});return Tr(r=>r===Xn?t:e[r])}function Li(t){const e=new Xt(t);return es(e)}function Ar(t){return t[Xn]}G(he());G(he());var Ki=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(t,e){function r(s){var i,o,a,c=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,a=Symbol.iterator);c--;){if(o&&(i=s[o])!=null)return i.call(s);if(a&&(i=s[a])!=null)return new n(i.call(s));o="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function n(s){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var a=o.done;return Promise.resolve(o.value).then(function(c){return{value:c,done:a}})}return n=function(a){this.s=a,this.n=a.next},n.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(a){var c=this.s.return;return c===void 0?Promise.resolve({value:a,done:!0}):i(c.apply(this.s,arguments))},throw:function(a){var c=this.s.return;return c===void 0?Promise.reject(a):i(c.apply(this.s,arguments))}},new n(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}});G(Ki());G(he());var Ni=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(t,e){function r(){var n=typeof SuppressedError=="function"?SuppressedError:function(a,c){var l=Error();return l.name="SuppressedError",l.error=a,l.suppressed=c,l},s={},i=[];function o(a,c){if(c!=null){if(Object(c)!==c)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var l=c[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(l===void 0&&(l=c[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var m=l;if(typeof l!="function")throw new TypeError("Object is not disposable.");m&&(l=function(){try{m.call(c)}catch(b){return Promise.reject(b)}}),i.push({v:c,d:l,a})}else a&&i.push({d:c,a});return c}return{e:s,u:o.bind(null,!1),a:o.bind(null,!0),d:function(){var c,l=this.e,m=0;function f(){for(;c=i.pop();)try{if(!c.a&&m===1)return m=0,i.push(c),Promise.resolve().then(f);if(c.d){var y=c.d.call(c.v);if(c.a)return m|=2,Promise.resolve(y).then(f,b)}else m|=1}catch(R){return b(R)}if(m===1)return l!==s?Promise.reject(l):Promise.resolve();if(l!==s)throw l}function b(y){return l=l!==s?new n(y,l):y,f()}return f()}}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),ts=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(t,e){function r(n,s){this.v=n,this.k=s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),Hi=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(t,e){var r=ts();function n(s){return new r(s,0)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Wi=be({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(t,e){var r=ts();function n(i){return function(){return new s(i.apply(this,arguments))}}function s(i){var o,a;function c(m,f){try{var b=i[m](f),y=b.value,R=y instanceof r;Promise.resolve(R?y.v:y).then(function(p){if(R){var Q=m==="return"?"return":"next";if(!y.k||p.done)return c(Q,p);p=i[Q](p).value}l(b.done?"return":"normal",p)},function(p){c("throw",p)})}catch(p){l("throw",p)}}function l(m,f){switch(m){case"return":o.resolve({value:f,done:!0});break;case"throw":o.reject(f);break;default:o.resolve({value:f,done:!1})}(o=o.next)?c(o.key,o.arg):a=null}this._invoke=function(m,f){return new Promise(function(b,y){var R={key:m,arg:f,resolve:b,reject:y,next:null};a?a=a.next=R:(o=a=R,c(m,f))})},typeof i.return!="function"&&(this.return=void 0)}s.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(i){return this._invoke("next",i)},s.prototype.throw=function(i){return this._invoke("throw",i)},s.prototype.return=function(i){return this._invoke("return",i)},e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}});G(Ni());G(Hi());G(Wi());G(he());function Gi(t){return Yt(({path:e,args:r})=>{var n;const s=[...e],i=s.pop();if(i==="useMutation")return t[i](s,...r);if(i==="_def")return{path:s};const[o,...a]=r,c=(n=a[0])!==null&&n!==void 0?n:{};return t[i](s,o,c)})}var sr;const zi=["client","ssrContext","ssrState","abortOnUnmount"],Bi=(sr=E.createContext)===null||sr===void 0?void 0:sr.call(ns,null),Ji=t=>{switch(t){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function Vi(t){return Yt(e=>{const r=[...e.path],n=r.pop(),s=[...e.args],i=s.shift(),o=Ji(n),a=pe(r,i,o);return{infiniteQueryOptions:()=>t.infiniteQueryOptions(r,a,s[0]),queryOptions:()=>t.queryOptions(r,a,...s),fetch:()=>t.fetchQuery(a,...s),fetchInfinite:()=>t.fetchInfiniteQuery(a,s[0]),prefetch:()=>t.prefetchQuery(a,...s),prefetchInfinite:()=>t.prefetchInfiniteQuery(a,s[0]),ensureData:()=>t.ensureQueryData(a,...s),invalidate:()=>t.invalidateQueries(a,...s),reset:()=>t.resetQueries(a,...s),refetch:()=>t.refetchQueries(a,...s),cancel:()=>t.cancelQuery(a,...s),setData:()=>{t.setQueryData(a,s[0],s[1])},setQueriesData:()=>t.setQueriesData(a,s[0],s[1],s[2]),setInfiniteData:()=>{t.setInfiniteQueryData(a,s[0],s[1])},getData:()=>t.getQueryData(a),getInfiniteData:()=>t.getInfiniteQueryData(a),setMutationDefaults:()=>t.setMutationDefaults(Nt(r),i),getMutationDefaults:()=>t.getMutationDefaults(Nt(r)),isMutating:()=>t.isMutating({mutationKey:Nt(r)})}[n]()})}function Yi(t){const e=es(t.client),r=Vi(t);return Tr(n=>{const s=n;return s==="client"?e:zi.includes(s)?t[s]:r[n]})}var Zi=rt(Ft(),1);function en(t){const e=t instanceof Xt?t:Ar(t);return Yt(r=>{const n=r.path,s=n.join("."),[i,o]=r.args;return(0,Zi.default)({queryKey:pe(n,i,"query"),queryFn:()=>e.query(s,i,o?.trpc)},o)})}var ir=rt(Ft(),1);function te(t,e,r){var n;const s=t[0];let i=(n=t[1])===null||n===void 0?void 0:n.input;if(r){var o;i=(0,ir.default)((0,ir.default)((0,ir.default)({},(o=i)!==null&&o!==void 0?o:{}),r.pageParam?{cursor:r.pageParam}:{}),{},{direction:r.direction})}return[s.join("."),i,e?.trpc]}var Xi=$e({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(t,e){function r(s){var i,o,a,c=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,a=Symbol.iterator);c--;){if(o&&(i=s[o])!=null)return i.call(s);if(a&&(i=s[a])!=null)return new n(i.call(s));o="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function n(s){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var a=o.done;return Promise.resolve(o.value).then(function(c){return{value:c,done:a}})}return n=function(a){this.s=a,this.n=a.next},n.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(a){var c=this.s.return;return c===void 0?Promise.resolve({value:a,done:!0}):i(c.apply(this.s,arguments))},throw:function(a){var c=this.s.return;return c===void 0?Promise.reject(a):i(c.apply(this.s,arguments))}},new n(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),eo=rt(Xi(),1);function Rr(t){return{path:t.path.join(".")}}function Ot(t){const e=Rr(t);return E.useMemo(()=>e,[e])}async function rs(t,e,r){const s=e.getQueryCache().build(e,{queryKey:r});s.setState({data:[],status:"success"});const i=[];var o=!1,a=!1,c;try{for(var l=(0,eo.default)(t),m;o=!(m=await l.next()).done;o=!1){const f=m.value;i.push(f),s.setState({data:[...i]})}}catch(f){a=!0,c=f}finally{try{o&&l.return!=null&&await l.return()}finally{if(a)throw c}}return i}var I=rt(Ft(),1);function to(t){const{client:e,queryClient:r}=t,n=e instanceof Xt?e:Ar(e);return{infiniteQueryOptions:(s,i,o)=>{var a,c;const l=((a=i[1])===null||a===void 0?void 0:a.input)===ie,m=async f=>{var b;const y=(0,I.default)((0,I.default)({},o),{},{trpc:(0,I.default)((0,I.default)({},o?.trpc),!(o==null||(b=o.trpc)===null||b===void 0)&&b.abortOnUnmount?{signal:f.signal}:{signal:null})});return await n.query(...te(i,y,{direction:f.direction,pageParam:f.pageParam}))};return Object.assign((0,I.default)((0,I.default)({},o),{},{initialData:o?.initialData,queryKey:i,queryFn:l?ie:m,initialPageParam:(c=o?.initialCursor)!==null&&c!==void 0?c:null}),{trpc:Rr({path:s})})},queryOptions:(s,i,o)=>{var a;const c=((a=i[1])===null||a===void 0?void 0:a.input)===ie,l=async m=>{var f;const b=(0,I.default)((0,I.default)({},o),{},{trpc:(0,I.default)((0,I.default)({},o?.trpc),!(o==null||(f=o.trpc)===null||f===void 0)&&f.abortOnUnmount?{signal:m.signal}:{signal:null})}),y=await n.query(...te(i,b));return An(y)?rs(y,r,i):y};return Object.assign((0,I.default)((0,I.default)({},o),{},{initialData:o?.initialData,queryKey:i,queryFn:c?ie:l}),{trpc:Rr({path:s})})},fetchQuery:(s,i)=>r.fetchQuery((0,I.default)((0,I.default)({},i),{},{queryKey:s,queryFn:()=>n.query(...te(s,i))})),fetchInfiniteQuery:(s,i)=>{var o;return r.fetchInfiniteQuery((0,I.default)((0,I.default)({},i),{},{queryKey:s,queryFn:({pageParam:a,direction:c})=>n.query(...te(s,i,{pageParam:a,direction:c})),initialPageParam:(o=i?.initialCursor)!==null&&o!==void 0?o:null}))},prefetchQuery:(s,i)=>r.prefetchQuery((0,I.default)((0,I.default)({},i),{},{queryKey:s,queryFn:()=>n.query(...te(s,i))})),prefetchInfiniteQuery:(s,i)=>{var o;return r.prefetchInfiniteQuery((0,I.default)((0,I.default)({},i),{},{queryKey:s,queryFn:({pageParam:a,direction:c})=>n.query(...te(s,i,{pageParam:a,direction:c})),initialPageParam:(o=i?.initialCursor)!==null&&o!==void 0?o:null}))},ensureQueryData:(s,i)=>r.ensureQueryData((0,I.default)((0,I.default)({},i),{},{queryKey:s,queryFn:()=>n.query(...te(s,i))})),invalidateQueries:(s,i,o)=>r.invalidateQueries((0,I.default)((0,I.default)({},i),{},{queryKey:s}),o),resetQueries:(s,i,o)=>r.resetQueries((0,I.default)((0,I.default)({},i),{},{queryKey:s}),o),refetchQueries:(s,i,o)=>r.refetchQueries((0,I.default)((0,I.default)({},i),{},{queryKey:s}),o),cancelQuery:(s,i)=>r.cancelQueries({queryKey:s},i),setQueryData:(s,i,o)=>r.setQueryData(s,i,o),setQueriesData:(s,i,o,a)=>r.setQueriesData((0,I.default)((0,I.default)({},i),{},{queryKey:s}),o,a),getQueryData:s=>r.getQueryData(s),setInfiniteQueryData:(s,i,o)=>r.setQueryData(s,i,o),getInfiniteQueryData:s=>r.getQueryData(s),setMutationDefaults:(s,i)=>{const o=s[0],a=c=>n.mutation(...te([o,{input:c}],t));return r.setMutationDefaults(s,typeof i=="function"?i({canonicalMutationFn:a}):i)},getMutationDefaults:s=>r.getMutationDefaults(s),isMutating:s=>r.isMutating((0,I.default)((0,I.default)({},s),{},{exact:!0}))}}var v=rt(Ft());const tn=(t,e)=>new Proxy(t,{get(n,s){return e(s),n[s]}});function ro(t){var e,r;const n=(e=void 0)!==null&&e!==void 0?e:S=>S.originalFn(),s=(r=void 0)!==null&&r!==void 0?r:Bi,i=Li,o=S=>{var x;const{abortOnUnmount:d=!1,queryClient:O,ssrContext:P}=S,[j,C]=E.useState((x=S.ssrState)!==null&&x!==void 0?x:!1),_=S.client instanceof Xt?S.client:Ar(S.client),k=E.useMemo(()=>to({client:_,queryClient:O}),[_,O]),D=E.useMemo(()=>(0,v.default)({abortOnUnmount:d,queryClient:O,client:_,ssrContext:P??null,ssrState:j},k),[d,_,k,O,P,j]);return E.useEffect(()=>{C($=>$?"mounted":!1)},[]),yn.jsx(s.Provider,{value:D,children:S.children})};function a(){const S=E.useContext(s);if(!S)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return S}function c(S,x){var d;const{queryClient:O,ssrState:P}=a();return P&&P!=="mounted"&&((d=O.getQueryCache().find({queryKey:S}))===null||d===void 0?void 0:d.state.status)==="error"?(0,v.default)({retryOnMount:!1},x):x}function l(S,x,d){var O,P,j,C,_;const k=a(),{abortOnUnmount:D,client:$,ssrState:A,queryClient:K,prefetchQuery:N}=k,B=pe(S,x,"query"),Oe=K.getQueryDefaults(B),z=x===ie;typeof window>"u"&&A==="prepass"&&(d==null||(O=d.trpc)===null||O===void 0?void 0:O.ssr)!==!1&&((P=d?.enabled)!==null&&P!==void 0?P:Oe?.enabled)!==!1&&!z&&!K.getQueryCache().find({queryKey:B})&&N(B,d);const oe=c(B,(0,v.default)((0,v.default)({},Oe),d)),L=(j=(C=d==null||(_=d.trpc)===null||_===void 0?void 0:_.abortOnUnmount)!==null&&C!==void 0?C:void 0)!==null&&j!==void 0?j:D,U=Es((0,v.default)((0,v.default)({},oe),{},{queryKey:B,queryFn:z?x:async J=>{const Le=(0,v.default)((0,v.default)({},oe),{},{trpc:(0,v.default)((0,v.default)({},oe?.trpc),L?{signal:J.signal}:{signal:null})}),er=await $.query(...te(B,Le));return An(er)?rs(er,K,B):er}}),K);return U.trpc=Ot({path:S}),U}function m(S,x,d){var O,P,j;const C=a(),_=pe(S,x,"query"),k=x===ie,D=(O=(P=d==null||(j=d.trpc)===null||j===void 0?void 0:j.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&O!==void 0?O:C.abortOnUnmount;Ds((0,v.default)((0,v.default)({},d),{},{queryKey:_,queryFn:k?x:$=>{const A={trpc:(0,v.default)((0,v.default)({},d?.trpc),D?{signal:$.signal}:{})};return C.client.query(...te(_,A))}}))}function f(S,x,d){var O,P,j;const C=a(),_=pe(S,x,"query"),k=(O=(P=d==null||(j=d.trpc)===null||j===void 0?void 0:j.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&O!==void 0?O:C.abortOnUnmount,D=Ms((0,v.default)((0,v.default)({},d),{},{queryKey:_,queryFn:$=>{const A=(0,v.default)((0,v.default)({},d),{},{trpc:(0,v.default)((0,v.default)({},d?.trpc),k?{signal:$.signal}:{signal:null})});return C.client.query(...te(_,A))}}),C.queryClient);return D.trpc=Ot({path:S}),[D.data,D]}function b(S,x){const{client:d,queryClient:O}=a(),P=Nt(S),j=O.defaultMutationOptions(O.getMutationDefaults(P)),C=Fs((0,v.default)((0,v.default)({},x),{},{mutationKey:P,mutationFn:_=>d.mutation(...te([S,{input:_}],x)),onSuccess(..._){var k,D;return n({originalFn:()=>{var A,K,N;return(A=x==null||(K=x.onSuccess)===null||K===void 0?void 0:K.call(x,..._))!==null&&A!==void 0?A:j==null||(N=j.onSuccess)===null||N===void 0?void 0:N.call(j,..._)},queryClient:O,meta:(k=(D=x?.meta)!==null&&D!==void 0?D:j?.meta)!==null&&k!==void 0?k:{}})}}),O);return C.trpc=Ot({path:S}),C}const y={data:void 0,error:null,status:"idle"},R={data:void 0,error:null,status:"connecting"};/* istanbul ignore next -- @preserve */function p(S,x,d){var O;const P=(O=d?.enabled)!==null&&O!==void 0?O:x!==ie,j=Ue(pe(S,x,"any")),{client:C}=a(),_=E.useRef(d);E.useEffect(()=>{_.current=d});const[k]=E.useState(new Set([])),D=E.useCallback(z=>{k.add(z)},[k]),$=E.useRef(null),A=E.useCallback(z=>{const oe=N.current,L=N.current=z(oe);let U=!1;for(const J of k)if(oe[J]!==L[J]){U=!0;break}U&&Oe(tn(L,D))},[D,k]),K=E.useCallback(()=>{var z;if((z=$.current)===null||z===void 0||z.unsubscribe(),!P){A(()=>(0,v.default)((0,v.default)({},y),{},{reset:K}));return}A(()=>(0,v.default)((0,v.default)({},R),{},{reset:K}));const oe=C.subscription(S.join("."),x??void 0,{onStarted:()=>{var L,U;(L=(U=_.current).onStarted)===null||L===void 0||L.call(U),A(J=>(0,v.default)((0,v.default)({},J),{},{status:"pending",error:null}))},onData:L=>{var U,J;(U=(J=_.current).onData)===null||U===void 0||U.call(J,L),A(Le=>(0,v.default)((0,v.default)({},Le),{},{status:"pending",data:L,error:null}))},onError:L=>{var U,J;(U=(J=_.current).onError)===null||U===void 0||U.call(J,L),A(Le=>(0,v.default)((0,v.default)({},Le),{},{status:"error",error:L}))},onConnectionStateChange:L=>{A(U=>{switch(L.state){case"idle":return(0,v.default)((0,v.default)({},U),{},{status:L.state,error:null,data:void 0});case"connecting":return(0,v.default)((0,v.default)({},U),{},{error:L.error,status:L.state});case"pending":return U}})},onComplete:()=>{var L,U;(L=(U=_.current).onComplete)===null||L===void 0||L.call(U),A(J=>(0,v.default)((0,v.default)({},J),{},{status:"idle",error:null,data:void 0}))}});$.current=oe},[C,j,P,A]);E.useEffect(()=>(K(),()=>{var z;(z=$.current)===null||z===void 0||z.unsubscribe()}),[K]);const N=E.useRef(P?(0,v.default)((0,v.default)({},R),{},{reset:K}):(0,v.default)((0,v.default)({},y),{},{reset:K})),[B,Oe]=E.useState(tn(N.current,D));return B}function Q(S,x,d){var O,P,j,C,_;const{client:k,ssrState:D,prefetchInfiniteQuery:$,queryClient:A,abortOnUnmount:K}=a(),N=pe(S,x,"infinite"),B=A.getQueryDefaults(N),Oe=x===ie;typeof window>"u"&&D==="prepass"&&(d==null||(O=d.trpc)===null||O===void 0?void 0:O.ssr)!==!1&&((P=d?.enabled)!==null&&P!==void 0?P:B?.enabled)!==!1&&!Oe&&!A.getQueryCache().find({queryKey:N})&&$(N,(0,v.default)((0,v.default)({},B),d));const z=c(N,(0,v.default)((0,v.default)({},B),d)),oe=(j=d==null||(C=d.trpc)===null||C===void 0?void 0:C.abortOnUnmount)!==null&&j!==void 0?j:K,L=As((0,v.default)((0,v.default)({},z),{},{initialPageParam:(_=d.initialCursor)!==null&&_!==void 0?_:null,persister:d.persister,queryKey:N,queryFn:Oe?x:U=>{var J;const Le=(0,v.default)((0,v.default)({},z),{},{trpc:(0,v.default)((0,v.default)({},z?.trpc),oe?{signal:U.signal}:{signal:null})});return k.query(...te(N,Le,{pageParam:(J=U.pageParam)!==null&&J!==void 0?J:d.initialCursor,direction:U.direction}))}}),A);return L.trpc=Ot({path:S}),L}function q(S,x,d){var O,P,j;const C=a(),_=pe(S,x,"infinite"),k=C.queryClient.getQueryDefaults(_),D=x===ie,$=c(_,(0,v.default)((0,v.default)({},k),d)),A=(O=d==null||(P=d.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&O!==void 0?O:C.abortOnUnmount;Ts((0,v.default)((0,v.default)({},d),{},{initialPageParam:(j=d.initialCursor)!==null&&j!==void 0?j:null,queryKey:_,queryFn:D?x:K=>{var N;const B=(0,v.default)((0,v.default)({},$),{},{trpc:(0,v.default)((0,v.default)({},$?.trpc),A?{signal:K.signal}:{})});return C.client.query(...te(_,B,{pageParam:(N=K.pageParam)!==null&&N!==void 0?N:d.initialCursor,direction:K.direction}))}}))}function F(S,x,d){var O,P,j;const C=a(),_=pe(S,x,"infinite"),k=C.queryClient.getQueryDefaults(_),D=c(_,(0,v.default)((0,v.default)({},k),d)),$=(O=d==null||(P=d.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&O!==void 0?O:C.abortOnUnmount,A=Is((0,v.default)((0,v.default)({},d),{},{initialPageParam:(j=d.initialCursor)!==null&&j!==void 0?j:null,queryKey:_,queryFn:K=>{var N;const B=(0,v.default)((0,v.default)({},D),{},{trpc:(0,v.default)((0,v.default)({},D?.trpc),$?{signal:K.signal}:{})});return C.client.query(...te(_,B,{pageParam:(N=K.pageParam)!==null&&N!==void 0?N:d.initialCursor,direction:K.direction}))}}),C.queryClient);return A.trpc=Ot({path:S}),[A.data,A]}return{Provider:o,createClient:i,useContext:a,useUtils:a,useQuery:l,usePrefetchQuery:m,useSuspenseQuery:f,useQueries:(S,x)=>{const{ssrState:d,queryClient:O,prefetchQuery:P,client:j}=a(),C=en(j),_=S(C);if(typeof window>"u"&&d==="prepass")for(const D of _){var k;const $=D;((k=$.trpc)===null||k===void 0?void 0:k.ssr)!==!1&&!O.getQueryCache().find({queryKey:$.queryKey})&&P($.queryKey,$)}return Fn({queries:_.map(D=>(0,v.default)((0,v.default)({},D),{},{queryKey:D.queryKey})),combine:x?.combine},O)},useSuspenseQueries:S=>{const{queryClient:x,client:d}=a(),O=en(d),P=S(O),j=qs({queries:P.map(C=>(0,v.default)((0,v.default)({},C),{},{queryFn:C.queryFn,queryKey:C.queryKey}))},x);return[j.map(C=>C.data),j]},useMutation:b,useSubscription:p,useInfiniteQuery:Q,usePrefetchInfiniteQuery:q,useSuspenseInfiniteQuery:F}}function no(t){const e=Gi(t);return Tr(r=>r==="useContext"||r==="useUtils"?()=>{const n=t.useUtils();return E.useMemo(()=>Yi(n),[n])}:t.hasOwnProperty(r)?t[r]:e[r])}function co(t){const e=ro();return no(e)}export{oo as Q,Bt as T,ao as a,co as c,uo as h};
