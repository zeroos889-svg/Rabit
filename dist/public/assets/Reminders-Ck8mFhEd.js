import{r,j as e}from"./ui-vendor-C96WIwkg.js";import{D as W}from"./DashboardLayout-BL5EQdI4.js";import{h as _,D as q,z as G,B as h,v as J,w as K,x as Q,A as U,I as b,E as X,T as Y,C as x,f as o,s as Z,c as D,d as M,e as T,p as ee,b as B}from"./index-Bkz6h1fQ.js";import{B as y}from"./badge-DdDRUR73.js";import{T as se,a as ae,b as z,c,d as le,e as n}from"./table-Cq_j4dL4.js";import{L as m}from"./label-CmhXhWbA.js";import{S as N,a as C,b as S,c as k,d as l}from"./select-B0y6YODy.js";import{S as te}from"./switch-B5HFmlbk.js";import{B as H}from"./bell-BqXFjnTJ.js";import{P as ie}from"./plus-0j2KamQO.js";import{C as re}from"./clock-BFXiIUou.js";import{C as ce}from"./circle-check-DlUG-57U.js";import{R as ne}from"./refresh-cw-X5VGk4GL.js";import{B as de}from"./bell-ring-D5a7BXyT.js";import"./react-vendor-DDxydHEc.js";import"./briefcase-B7DqEMtf.js";import"./chart-column-D_-lOMZP.js";import"./shield-check-CohldUcE.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=_("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),xe=[{id:1,title:"تجديد عقد موظف: أحمد محمد",type:"عقود",date:"2025-02-05",time:"10:00",channel:"بريد",priority:"عالي",status:"قادمة"},{id:2,title:"تأشيرة عمل - فاطمة السالم",type:"تأشيرات",date:"2025-01-28",time:"09:00",channel:"SMS",priority:"متوسط",status:"متأخرة"},{id:3,title:"تجديد تأمين طبي - قسم التقنية",type:"تأمين",date:"2025-02-20",time:"12:00",channel:"إشعار",priority:"عالي",status:"قادمة"},{id:4,title:"عيد ميلاد - خالد الغامدي",type:"أعياد ميلاد",date:"2025-01-26",time:"14:00",channel:"إشعار",priority:"عادي",status:"مكتملة"}];function ze(){const[i,R]=r.useState(xe),[j,I]=r.useState("all"),[p,V]=r.useState(""),[g,$]=r.useState("all"),[A,w]=r.useState(!1),[L,O]=r.useState(!0),[E]=r.useState("2025-01"),[t,d]=r.useState({title:"",type:"عقود",date:"",time:"09:00",channel:"بريد",priority:"متوسط"}),F=r.useMemo(()=>i.filter(s=>!(j==="coming"&&s.status!=="قادمة"||j==="overdue"&&s.status!=="متأخرة"||j==="done"&&s.status!=="مكتملة"||g!=="all"&&s.type!==g||p&&!s.title.includes(p))),[i,j,p,g]),v=r.useMemo(()=>({total:i.length,coming:i.filter(s=>s.status==="قادمة").length,overdue:i.filter(s=>s.status==="متأخرة").length,done:i.filter(s=>s.status==="مكتملة").length}),[i]),P=()=>{if(!t.title||!t.date){B.error("يرجى إدخال عنوان وتاريخ التذكير");return}const s={id:i.length+1,title:t.title,type:t.type,date:t.date,time:t.time,channel:t.channel,priority:t.priority,status:"قادمة"};R(a=>[...a,s]),w(!1),d({title:"",type:"عقود",date:"",time:"09:00",channel:"بريد",priority:"متوسط"}),B.success("تم إنشاء التذكير بنجاح")};return e.jsxs(W,{title:"التذكيرات",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-purple-600"}),"مركز التذكيرات"]}),e.jsx("p",{className:"text-muted-foreground",children:"تابع مواعيد العقود، التأشيرات، التأمين، والمناسبات المهمة."})]}),e.jsxs(q,{open:A,onOpenChange:w,children:[e.jsx(G,{asChild:!0,children:e.jsxs(h,{className:"bg-gradient-to-r from-purple-600 to-blue-600",children:[e.jsx(ie,{className:"h-4 w-4 ml-2"}),"إنشاء تذكير"]})}),e.jsxs(J,{className:"sm:max-w-[520px]",children:[e.jsxs(K,{children:[e.jsx(Q,{children:"تذكير جديد"}),e.jsx(U,{children:"أدخل تفاصيل التذكير وسيتم إشعارك عبر القناة المختارة."})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"العنوان"}),e.jsx(b,{placeholder:"مثال: تجديد عقد محمد",value:t.title,onChange:s=>d(a=>({...a,title:s.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"الفئة"}),e.jsxs(N,{value:t.type,onValueChange:s=>d(a=>({...a,type:s})),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(l,{value:"عقود",children:"عقود"}),e.jsx(l,{value:"تأشيرات",children:"تأشيرات"}),e.jsx(l,{value:"تأمين",children:"تأمين"}),e.jsx(l,{value:"أعياد ميلاد",children:"أعياد ميلاد"}),e.jsx(l,{value:"مواعيد",children:"مواعيد"}),e.jsx(l,{value:"مخصص",children:"مخصص"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"القناة"}),e.jsxs(N,{value:t.channel,onValueChange:s=>d(a=>({...a,channel:s})),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(l,{value:"بريد",children:"بريد"}),e.jsx(l,{value:"SMS",children:"SMS"}),e.jsx(l,{value:"إشعار",children:"إشعار"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"التاريخ"}),e.jsx(b,{type:"date",value:t.date,onChange:s=>d(a=>({...a,date:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"الوقت"}),e.jsx(b,{type:"time",value:t.time,onChange:s=>d(a=>({...a,time:s.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"الأولوية"}),e.jsxs(N,{value:t.priority,onValueChange:s=>d(a=>({...a,priority:s})),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(l,{value:"عالي",children:"عالي"}),e.jsx(l,{value:"متوسط",children:"متوسط"}),e.jsx(l,{value:"عادي",children:"عادي"})]})]})]})]}),e.jsxs(X,{className:"mt-4",children:[e.jsx(h,{variant:"outline",onClick:()=>w(!1),children:"إلغاء"}),e.jsx(h,{onClick:P,className:"bg-gradient-to-r from-purple-600 to-blue-600",children:"إنشاء"})]})]})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[{label:"إجمالي التذكيرات",value:v.total,icon:H,tone:"text-slate-900"},{label:"قادمة",value:v.coming,icon:re,tone:"text-blue-600"},{label:"متأخرة",value:v.overdue,icon:Y,tone:"text-amber-600"},{label:"مكتملة",value:v.done,icon:ce,tone:"text-emerald-600"}].map(s=>e.jsx(x,{children:e.jsxs(o,{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),e.jsx("p",{className:"text-2xl font-bold",children:s.value})]}),e.jsx(s.icon,{className:`h-6 w-6 ${s.tone}`})]})},s.label))}),e.jsxs("div",{className:"mt-6 grid gap-3 md:grid-cols-3",children:[e.jsx(x,{className:"md:col-span-2",children:e.jsxs(o,{className:"p-4 flex flex-wrap gap-2",children:[[{key:"all",label:"الكل"},{key:"coming",label:"قادمة"},{key:"overdue",label:"متأخرة"},{key:"done",label:"مكتملة"}].map(s=>e.jsx(h,{variant:j===s.key?"default":"outline",onClick:()=>I(s.key),children:s.label},s.key)),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-64",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"بحث بعنوان التذكير",value:p,onChange:s=>V(s.target.value)})]})]})}),e.jsx(x,{children:e.jsxs(o,{className:"p-4 flex items-center gap-3",children:[e.jsxs(N,{value:g,onValueChange:$,children:[e.jsx(C,{className:"w-full",children:e.jsx(S,{placeholder:"الفئة"})}),e.jsxs(k,{children:[e.jsx(l,{value:"all",children:"كل الفئات"}),e.jsx(l,{value:"عقود",children:"عقود"}),e.jsx(l,{value:"تأشيرات",children:"تأشيرات"}),e.jsx(l,{value:"تأمين",children:"تأمين"}),e.jsx(l,{value:"أعياد ميلاد",children:"أعياد ميلاد"}),e.jsx(l,{value:"مواعيد",children:"مواعيد"}),e.jsx(l,{value:"مخصص",children:"مخصص"})]})]}),e.jsx(h,{variant:"ghost",size:"icon",children:e.jsx(ne,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-3 mt-4",children:[e.jsxs(x,{children:[e.jsxs(D,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"الإشعارات التلقائية"]}),e.jsx(T,{children:"إرسال تنبيهات قبل الموعد بـ 30/15/7 أيام"})]}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"تفعيل الإشعارات"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إرسال بريد + SMS + إشعار داخل النظام"})]}),e.jsx(te,{checked:L,onCheckedChange:O})]}),e.jsx("div",{className:"rounded-lg border p-3 text-sm text-muted-foreground bg-muted/40",children:"عند التفعيل سيتم جدولة التنبيهات تلقائياً لكل التذكيرات القادمة."})]})]}),e.jsxs(x,{className:"md:col-span-2",children:[e.jsxs(D,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-blue-600"}),"تقويم HR"]}),e.jsx(T,{children:"عرض سريع للتذكيرات حسب اليوم"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:Array.from({length:30},(s,a)=>a+1).map(s=>{const a=i.some(f=>f.date.endsWith(`-${String(s).padStart(2,"0")}`)),u=i.some(f=>f.status==="متأخرة"&&f.date.endsWith(`-${String(s).padStart(2,"0")}`));return e.jsxs("div",{className:`rounded-lg border py-3 ${a?"border-blue-200 bg-blue-50":"border-muted"} ${u?"border-amber-300 bg-amber-50":""}`,children:[e.jsx("div",{className:"font-semibold",children:s}),a&&e.jsx("span",{className:"text-[11px] text-blue-700",children:E})]},s)})})})]})]}),e.jsxs(x,{className:"mt-4",children:[e.jsxs(D,{children:[e.jsx(M,{children:"التذكيرات"}),e.jsx(T,{children:"يتم التحديث كل 30 ثانية مع تنبيهات متعددة القنوات"})]}),e.jsx(o,{children:e.jsxs(se,{children:[e.jsx(ae,{children:e.jsxs(z,{children:[e.jsx(c,{className:"text-right",children:"العنوان"}),e.jsx(c,{className:"text-right",children:"الفئة"}),e.jsx(c,{className:"text-right",children:"التاريخ"}),e.jsx(c,{className:"text-right",children:"الوقت"}),e.jsx(c,{className:"text-right",children:"القناة"}),e.jsx(c,{className:"text-right",children:"الأولوية"}),e.jsx(c,{className:"text-right",children:"الحالة"}),e.jsx(c,{className:"text-right",children:"إجراء"})]})}),e.jsx(le,{children:F.map(s=>e.jsxs(z,{children:[e.jsx(n,{className:"font-medium",children:s.title}),e.jsx(n,{children:e.jsx(y,{variant:"outline",children:s.type})}),e.jsx(n,{children:s.date}),e.jsx(n,{children:s.time}),e.jsx(n,{children:e.jsx(y,{variant:"secondary",children:s.channel})}),e.jsx(n,{children:e.jsx(y,{className:s.priority==="عالي"?"bg-red-100 text-red-700":s.priority==="متوسط"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700",children:s.priority})}),e.jsx(n,{children:e.jsx(y,{className:s.status==="مكتملة"?"bg-emerald-100 text-emerald-700":s.status==="متأخرة"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:s.status})}),e.jsx(n,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{size:"sm",variant:"outline",children:[e.jsx(ee,{className:"h-4 w-4 ml-1"}),"إرسال الآن"]}),s.status!=="مكتملة"&&e.jsx(h,{size:"sm",variant:"ghost",onClick:()=>R(a=>a.map(u=>u.id===s.id?{...u,status:"مكتملة"}:u)),children:"تم"})]})})]},s.id))})]})})]})]})}export{ze as default};
