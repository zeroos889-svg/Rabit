import{r as d,j as e}from"./ui-vendor-C96WIwkg.js";import{B as j}from"./BackButton-rFUz39lD.js";import{t as p,b as i,C as f,c as g,d as N,e as v,f as y,B as a,L as n,I as b,k as w}from"./index-Bkz6h1fQ.js";import{L as C}from"./label-CmhXhWbA.js";import{M as x}from"./mail-hhykUda4.js";import{C as t}from"./circle-check-DlUG-57U.js";import{A as o}from"./arrow-right-yQLf5R-N.js";import"./react-vendor-DDxydHEc.js";import"./house-CS3RhUwS.js";import"./query-vendor-Dpt6u7bR.js";import"./chart-vendor-8DIN3ZwM.js";function D(){const[s,h]=d.useState(""),[c,m]=d.useState(!1),l=p.auth.requestPasswordReset.useMutation({onSuccess:()=>{m(!0),i.success("تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني")},onError:r=>{i.error(r.message||"تعذر إرسال رابط إعادة التعيين")}}),u=async r=>{if(r.preventDefault(),!s||!s.includes("@")){i.error("الرجاء إدخال بريد إلكتروني صحيح");return}await l.mutateAsync({email:s})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-primary/10 to-primary/5 flex items-center justify-center p-4",children:[e.jsx(j,{}),e.jsxs(f,{className:"w-full max-w-md",children:[e.jsxs(g,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(x,{className:"w-8 h-8 text-primary"})}),e.jsx(N,{className:"text-2xl",children:"استرجاع كلمة المرور"}),e.jsx(v,{children:c?"تم إرسال رابط إعادة التعيين":"أدخل بريدك الإلكتروني لإرسال رابط إعادة تعيين كلمة المرور"})]}),e.jsx(y,{children:c?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(t,{className:"w-12 h-12 text-green-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-muted-foreground",children:"تم إرسال رابط إعادة تعيين كلمة المرور إلى"}),e.jsx("p",{className:"font-semibold text-primary",children:s})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"ملاحظات مهمة:"}),e.jsxs("ul",{className:"text-muted-foreground space-y-1 text-right",children:[e.jsx("li",{children:"• تحقق من صندوق البريد الوارد"}),e.jsx("li",{children:"• قد تجد الرسالة في البريد المزعج"}),e.jsx("li",{children:"• الرابط صالح لمدة 24 ساعة"}),e.jsx("li",{children:"• يمكنك طلب رابط جديد إذا انتهت صلاحيته"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{onClick:()=>m(!1),variant:"outline",className:"w-full",children:"إرسال مرة أخرى"}),e.jsx(n,{href:"/login",children:e.jsxs(a,{variant:"default",className:"w-full group",children:["العودة لتسجيل الدخول",e.jsx(o,{className:"mr-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"email",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(b,{id:"email",type:"email",placeholder:"أدخل بريدك الإلكتروني",className:"pr-10",value:s,onChange:r=>h(r.target.value),required:!0})]})]}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg text-sm text-muted-foreground",children:e.jsx("p",{children:"سنرسل لك رسالة تحتوي على رابط لإعادة تعيين كلمة المرور. الرجاء التأكد من البريد الإلكتروني المدخل."})}),e.jsx(a,{type:"submit",className:"w-full",size:"lg",disabled:l.isPending||!s,children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الإرسال..."]}):e.jsxs(e.Fragment,{children:["إرسال رابط الاسترجاع",e.jsx(o,{className:"mr-2 h-4 w-4"})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(n,{href:"/login",children:e.jsx(a,{variant:"ghost",className:"text-sm",children:"تذكرت كلمة المرور؟ تسجيل الدخول"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ليس لديك حساب؟"," ",e.jsx(n,{href:"/signup",className:"text-primary hover:underline",children:"سجل الآن"})]})]})]})})]}),e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-4 text-xs text-muted-foreground bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(t,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"آمن 100%"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(t,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"مشفر"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(t,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"محمي"})]})]})]})}export{D as default};
